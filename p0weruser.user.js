// ==UserScript==
// @name         p0weruser - Rel0aded
// @namespace    https://github.com/Scarwolf/p0weruser/
// @version      2.2.0
// @author       PoTTii - Created by Florian Maak
// @description  A modularized userScript for pr0gramm.com - Developed by FlorianMaak, Modified by Scarwolf
// @license      GPL-3.0; http://www.gnu.org/licenses/gpl-3.0.txt
// @icon         https://pr0gramm.com/media/pr0gramm-favicon.png
// @homepage     https://github.com/Scarwolf/p0weruser
// @homepageURL  https://github.com/Scarwolf/p0weruser
// @source       https://github.com/Scarwolf/p0weruser
// @supportURL   https://github.com/Scarwolf/p0weruser/issues
// @downloadURL  https://scarwolf.github.io/p0weruser/p0weruser.user.js
// @updateURL    https://scarwolf.github.io/p0weruser/p0weruser.user.js
// @include      /^https?://pr0gramm.com/.*$/
// @require      https://code.jquery.com/ui/1.13.1/jquery-ui.min.js
// @connect      rep0st.rene8888.at
// @connect      github.com
// @connect      raw.githubusercontent.com
// @connect      pr0gramm.com
// @connect      pr0p0ll.com
// @resource     customCSS https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css
// @grant        GM_notification
// @grant        GM_xmlhttpRequest
// @grant        GM.info
// @grant        GM.xmlHttpRequest
// @grant        GM.notification
// @grant        window.focus
// @run-at       document-end
// ==/UserScript==

// use vite-plugin-monkey@0.2.14 at 2022-07-21T18:56:19.100Z

;(({ cssTextList = [] }) => {
  cssTextList.forEach((s) => {
    const style = document.createElement("style");
    style.innerText = s;
    style.dataset.source = "vite-plugin-monkey";
    document.head.appendChild(style);
  });
})({
  "cssTextList": [
    "#addon-list label{margin-bottom:10px}#addon-list label span{display:block;color:#888}#module-settings{background-color:#303035;padding:10px 10px 10px 20px}#module-settings h3:not(:first-child){margin-top:60px}#settings_hint{background-color:var(--theme-main-color);text-align:center;position:absolute;top:52px;width:100%;padding:10px}.settings-tab .actions a:not(:first-of-type){margin-left:10px}.settings-tab .text-type .description{display:block;color:#888;margin-bottom:10px}.settings-tab .text-type input{margin-bottom:20px;width:80%}.settings-tab #versioninfo dt{float:left;font-weight:700;margin-right:.5em;width:130px}.settings-tab #versioninfo dt:after{content:\": \"}.settings-tab #versioninfo dd:after{clear:left;content:\" \";display:block}.settings-tab #versioninfo dd:empty:before{content:\"...\"}.settings-tab #versioninfo dd a{font-size:10px;margin-left:5px}.settings-tab #versioninfo dd a:after{content:\")\"}.settings-tab #versioninfo dd a:before{content:\"(\"}\n"
  ]
});

var NO=Object.defineProperty,BO=Object.defineProperties;var jO=Object.getOwnPropertyDescriptors;var ga=Object.getOwnPropertySymbols;var ah=Object.prototype.hasOwnProperty,oh=Object.prototype.propertyIsEnumerable;var ih=(ve,xe,je)=>xe in ve?NO(ve,xe,{enumerable:!0,configurable:!0,writable:!0,value:je}):ve[xe]=je,Ge=(ve,xe)=>{for(var je in xe||(xe={}))ah.call(xe,je)&&ih(ve,je,xe[je]);if(ga)for(var je of ga(xe))oh.call(xe,je)&&ih(ve,je,xe[je]);return ve},_t=(ve,xe)=>BO(ve,jO(xe));var sh=(ve,xe)=>{var je={};for(var St in ve)ah.call(ve,St)&&xe.indexOf(St)<0&&(je[St]=ve[St]);if(ve!=null&&ga)for(var St of ga(ve))xe.indexOf(St)<0&&oh.call(ve,St)&&(je[St]=ve[St]);return je};(function(){"use strict";const ve=t=>{const n=document.createElement("style");n.innerText=t,document.head.appendChild(n)};class xe{static waitForElement(n){return new Promise((o,l)=>{let u=[],m=()=>{u[0]?o(u):(u=document.querySelectorAll(n),setTimeout(()=>{m()},10))};m()})}static escapeHtml(n){return String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}static changeLocation(n){p.location=n,window.history.pushState({},"pr0gramm.com",n)}static getUrlParams(n){let o={};n=n.split("?");let l=n[1].split("&");for(let u=0;u<l.length;u++){let m=l[u].split("=");o[m[0]]=m[1]}return{url:n[0],params:o}}static isElementInViewport(n){typeof jQuery=="function"&&n instanceof jQuery&&(n=n[0]);let o=n.getBoundingClientRect();return o.top>=0&&o.left>=0&&o.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&o.right<=(window.innerWidth||document.documentElement.clientWidth)}static getUrlFromParams(n,o){let l=n+"?";for(let u in o)o.hasOwnProperty(u)&&(l!==n+"?"&&(l+="&"),l+=u+"="+o[u]);return l}static insertAfter(n,o){o.parentNode.insertBefore(n,o.nextSibling)}static addPrototypes(){String.prototype.replaceArray=function(n,o){let l=this;for(let u=0;u<n.length;u++)l=l.replace(n[u],o[u]);return l}}static addVideoConstants(){p.View.Stream.Item.TARGET={NOTHING:0,SEEK_CONTROLS:1,VOLUME_CONTROLS:2}}}class je{constructor(){this.settingsLoaded=new Event("settingsLoaded"),this.commentsLoaded=new Event("commentsLoaded"),this.locationChange=new Event("locationChange"),this.beforeLocationChange=new Event("beforeLocationChange"),this.userSync=new Event("userSync"),this.locationPattern=new RegExp("\\d+$"),this.addEvents()}addEvents(){let n=this;(function(o){p.View.Settings.prototype.render=function(l){o.call(this,l),window.dispatchEvent(n.settingsLoaded)}})(p.View.Settings.prototype.render),function(o){p.navigateTo=function(l,u){n.beforeLocationChange.mode=u,window.dispatchEvent(n.beforeLocationChange),o.call(this,l,u),n.locationChange.mode=u,n.locationChange.isPost=n.locationPattern.test(l),window.dispatchEvent(n.locationChange)}}(p.navigateTo),window.onpopstate=function(o){n.locationChange.mode=0,n.locationChange.isPost=n.locationPattern.test(o.currentTarget.location.pathname),window.dispatchEvent(n.locationChange)},function(o){p.View.Stream.Comments.prototype.render=function(){o.call(this),n.commentsLoaded.data=this.$container,window.dispatchEvent(n.commentsLoaded)}}(p.View.Stream.Comments.prototype.render),function(o){p.User.prototype.syncCallback=function(l){n.userSync.data=l,o.call(this,l),window.dispatchEvent(n.userSync)}}(p.User.prototype.syncCallback)}}var St="",lh=`<div class="form-section settings-tab">
    <h2>Addon Einstellungen</h2>
    <h3>Aktionen</h3>
    <div class="form-row actions">
        <a class="action clear-settings-button">Einstellungen zur\xFCcksetzen</a>
    </div>

    <h3>Verf\xFCgbare Module</h3>
    <div id="addon-list"></div>

    <div class="form-row">
        <input type="submit" id="save-addon-settings" value="Einstellungen speichern" class="confirm settings-save">
    </div>

    <h3>Versionsinformationen</h3>
    <div id="versioninfo">
        <dl>
            <dt>Installiert</dt>
            <dd id="installed_version"></dd>
            <dt>Latest Release</dt>
            <dd id="release_version"></dd>
        </dl>
    </div>
</div>
`;const lr={damping:.5,thumbMinSize:30,continuousScrolling:!1};class ne{constructor(n,o){this.tabs={},this.tabContent={},this.hintIsShown=!1,this.modules=n,this.activatedModules=o,this.addListeners()}static clearSettings(){window.localStorage.setItem("activated_modules","[]"),p.reload()}static saveSettings(n){let o=[],l=n.querySelectorAll(":checked");for(const u of l)o.push(u.dataset.module);window.localStorage.setItem("activated_modules",JSON.stringify(o)),ne.saveModuleSettings(),window.location.href="/settings/site"}static saveModuleSettings(){const n=document.querySelectorAll("#module-settings input");for(const o of n)switch(o.type){case"text":ne.set(o.id,o.value);break;case"number":ne.set(o.id,String(Number(o.value)||1));break;case"checkbox":ne.set(o.id,String(o.checked));break}}static addHint(){if(!document.getElementById("settings_hint")){const n=document.getElementById("head-content");if(n===null)throw new Error("Header could not be found");const o=document.createElement("div");return o.id="settings_hint",o.innerText="Bitte \xF6ffne die Einstellungen um p0weruser zu konfigurieren!",n.appendChild(o),!0}}static getVersion(){let n="https://github.com/Scarwolf/p0weruser/raw/master/package.json";return new Promise((o,l)=>{GM.xmlHttpRequest({url:n,method:"GET",headers:{"cache-control":"no-cache","Upgrade-Insecure-Requests":"1"},onload:u=>{const m=u.responseText.match('"version":.*"(.*)"');o(m!==null?m[1]:"Not available!")},onerror:u=>{l(u)}})})}addListeners(){window.addEventListener("settingsLoaded",()=>{console.log("Settings loaded"),this.addSettingsTab()})}addSettingsTab(){this.tabContent=document.querySelectorAll(".pane.form-page")[0],this.tabs=document.getElementsByClassName("tab-bar")[0];let n=document.createElement("a");n.innerText="p0weruser",n.href="/settings/addons",n.addEventListener("click",o=>{o.preventDefault(),this.toggleSettingsTab(n)}),this.tabs.appendChild(n)}toggleSettingsTab(n){xe.changeLocation("/settings/addons");let o=document.createElement("div");this.modules,this.tabContent.innerHTML=lh;let l=this.tabContent.querySelectorAll("#addon-list")[0];this.modules.forEach(g=>{const S=this.activatedModules.some(w=>w.id===g.id);o.innerHTML+=`
                <input type="checkbox" 
                       class="box-from-label"
                       name="${g.id}" 
                       id="${g.id}" 
                       data-module="${g.id}" ${S?' checked="checked"':""}>
                <label for="${g.id}">
                    ${g.name}
                    <span>${g.description}</span>
                </label>`}),l.appendChild(o),this.tabs.getElementsByClassName("active")[0].classList.remove("active"),n.classList.add("active"),this.addModuleSettings(o),this.loadVersionInfo(),this.tabContent.getElementsByClassName("clear-settings-button")[0].addEventListener("click",()=>{window.confirm("Einstellungen wirklich zur\xFCcksetzen?")&&ne.clearSettings()}),this.tabContent.querySelectorAll("#save-addon-settings")[0].addEventListener("click",()=>{ne.saveSettings(o)})}addModuleSettings(n){this.modules;const o=this.activatedModules;let l=document.createElement("div");l.id="module-settings";for(const u of o){let m=u;if(typeof m=="object"&&typeof m.getSettings=="function"){const g=m.getSettings();let S=document.createElement("h3");S.innerText=m.name,l.append(S);for(const w of g){const k=`${m.id}.settings.${w.id}`,M=ne.get(k);let T=document.createElement("div");switch(T.className="box-from-label",w.type){case"number":const D=M===!0?1:M;T.innerHTML=`<div class="text-type"><span class="title">${w.title}</span><span class="description">${w.description}</span><input id="${k}" type="number" value="${D}" /></div>`;break;case"text":const I=xe.escapeHtml(M===!0?"":M);T.innerHTML=`<div class="text-type"><span class="title">${w.title}</span><span class="description">${w.description}</span><input id="${k}" type="text" value="${I}" /></div>`;break;default:T.innerHTML=`<input id="${k}" type="${w.type?w.type:"checkbox"}" class="box-from-label" ${M?"checked":""} /><label for="${k}">${w.title}<span>${w.description}</span></label>`;break}S.after(T)}}}n.after(l)}static get(n){const o=window.localStorage.getItem(n);return o===null?(ne.set(n,String(!0)),!0):o==="true"||o==="false"?o==="true":o}static set(n,o){return window.localStorage.setItem(n,o),o}loadVersionInfo(){const n={installed:document.getElementById("installed_version"),release:document.getElementById("release_version")};n.installed.innerText=GM.info.script.version,ne.getVersion().then(o=>{n.release.innerText=o})}}var ch=`.comments:not(.no-colors) .comment+.comment-box{padding-left:0}.comments:not(.no-colors) .comment+.comment-box>div>.comment{border-left-style:solid;border-color:#ee4d2e;padding-left:5px}.comments:not(.no-colors) .comment+.comment-box>div>.comment>.comment-vote{left:10px}.comments:not(.no-colors) .comment+.comment-box>div>.comment+.comment-box>div>.comment{border-color:#1db992}.comments:not(.no-colors) .comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment{border-color:#bfbc06}.comments:not(.no-colors) .comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment{border-color:#008fff}.comments:not(.no-colors) .comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment{border-color:#ff0082}.comments:not(.no-colors) .comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment{border-color:#ee2e2e}.comments:not(.no-colors) .comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment{border-color:#f7ea19}.comments:not(.no-colors) .comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment{border-color:#19f7a6}.comments:not(.no-colors) .comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment{border-color:#ee4d2e}.comments:not(.no-colors) .comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment{border-color:#8c19f7}.comments:not(.no-colors) .comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment{border-color:#19f743}.comments:not(.no-colors) .comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment{border-color:#b9791d}.comments:not(.no-colors) .comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment{border-color:#1db9b3}.comments:not(.no-colors) .comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment{border-color:#fff}.comments:not(.no-colors) .comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment{border-color:#1db992}.comments:not(.no-colors) .comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment{border-color:#bfbc06}.comments:not(.no-colors) .comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment{border-color:#008fff}.comments:not(.no-colors) .comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment{border-color:#ff0082}.comments:not(.no-colors) .comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment{border-color:#ee2e2e}.comments:not(.no-colors) .comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment+.comment-box>div>.comment{border-color:#f7ea19}.comments:not(.no-colors) .comment.own-comment{color:#ee4d2e}
`;class ba{constructor(){this.id="AdvancedComments",this.name="Erweiterte Kommentare",this.description="Erweitert die Kommentare um Farben und weitere Funktionen",this.isDisplayColorsEnabled=ne.get("AdvancedComments.settings.display_colors")}static handleMouseover(n,o){const l=$(`#${n} .comment-content`);o.title=l[0].innerText}async load(){this.prepareComments(),ve(ch)}getSettings(){return[{id:"display_colors",title:"Kommentarfarben",description:"F\xE4rbe Kommentarebenen ein!",type:"checkbox"}]}prepareComments(){window.addEventListener("commentsLoaded",()=>{this.isDisplayColorsEnabled||$(".comments").addClass("no-colors");const n=$(".comments .comment-box .comment");for(const o of n.toArray()){const l=$(o),u=$(l.parents(".comment-box")[0]).prev(".comment"),m=l.find(".comment-foot > a.user")[0].href,g=m.substr(m.lastIndexOf("/")+1)===p.user.name;if(u[0]){const S=u[0].id;let w=document.createElement("a");w.href=`#${S}`,w.className="fa fa-level-up action preview-link",l.find(".comment-foot").append(w),g&&l[0].classList.add("own-comment"),w.addEventListener("mouseover",()=>{ba.handleMouseover(S,w)})}}})}}class uh{constructor(){this.id="AnonymousTitle",this.name="Anonymous Title",this.description="Entfernt den Top Tag aus dem Titel oder w\xE4hle einen eigenen Titel.",this.customTitle=ne.get("AnonymousTitle.settings.custom_title")}async load(){this.addListeners()}addListeners(){p.mainView.setTitle=()=>this.changeTitle(),window.addEventListener("userSync",()=>this.changeTitle())}changeTitle(){typeof this.customTitle=="string"&&this.customTitle?document.title=p.user.inboxCount>0?"["+p.user.inboxCount+"] "+this.customTitle:this.customTitle:document.title=`${p.user.inboxCount>0?"["+p.user.inboxCount+"]":""} pr0gramm.com \u2013 Die Datingplattform f\xFCr Kellerkinder`}getSettings(){return[{id:"custom_title",title:"cust0m Title",description:"W\xE4hle einen eigenen Title f\xFCr die Seite.",type:"text"}]}}var dh=`#user-profile-name{padding-left:1.5em}#user-profile-name:before{font-family:FontAwesome;margin-right:5px;content:"\\f2be"}#user-profile-name.legacy:before{content:" ";background-size:cover;margin-top:1px;margin-left:-20px;height:16px;position:absolute;display:inline-block;width:16px;background-image:url(https://i.imgur.com/7Q2UJeU.png)}
`;class fh{constructor(){this.id="BenisInNavbar",this.name="Benis in Navigation",this.description="Zeigt deinen aktuellen Benis in der Headerleiste an",this.isLegacyIcon=ne.get(`${this.id}.settings.lagcy_icon`),this.showUsername=ne.get(`${this.id}.settings.show_username`),this.target=document.getElementById("user-profile-name"),this.benis="-"}async load(){if(this.target===null)throw new Error("Could not find target");this.isLegacyIcon&&this.target.classList.add("legacy"),this.addListener(),this.addBenis(),ve(dh)}getSettings(){return[{id:"legacy_icon",title:"cust0m Icon",description:"Nutze das alte Icon vom cust0m-pr0gramm.",type:"checkbox"},{id:"show_username",title:"Benutzername neben der Benisanzeige",description:"Zeigt neben der Benisanzeige deinen Nutzernamen an.",type:"checkbox"}]}addBenis(){let n=ne.get("BenisInNavbar.settings.show_username");this.target.innerText=n?p.user.name+" ("+this.benis+")":this.benis}addListener(){window.addEventListener("userSync",n=>{this.benis=String(n.data.score),this.addBenis()})}}/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var ya=function(t,n){return ya=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var u in l)l.hasOwnProperty(u)&&(o[u]=l[u])},ya(t,n)};function hh(t,n){ya(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}var kt=function(){return kt=Object.assign||function(n){for(var o,l=1,u=arguments.length;l<u;l++){o=arguments[l];for(var m in o)Object.prototype.hasOwnProperty.call(o,m)&&(n[m]=o[m])}return n},kt.apply(this,arguments)};function cr(t,n,o,l){var u=arguments.length,m=u<3?n:l===null?l=Object.getOwnPropertyDescriptor(n,o):l,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(t,n,o,l);else for(var S=t.length-1;S>=0;S--)(g=t[S])&&(m=(u<3?g(m):u>3?g(n,o,m):g(n,o))||m);return u>3&&m&&Object.defineProperty(n,o,m),m}function mh(){for(var t=0,n=0,o=arguments.length;n<o;n++)t+=arguments[n].length;for(var l=Array(t),u=0,n=0;n<o;n++)for(var m=arguments[n],g=0,S=m.length;g<S;g++,u++)l[u]=m[g];return l}var nn=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function vh(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ze=function(t){try{return!!t()}catch{return!0}},ph=ze,xa=!ph(function(){var t=function(){}.bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),ol=xa,sl=Function.prototype,gh=sl.bind,wa=sl.call,bh=ol&&gh.bind(wa,wa),Ee=ol?function(t){return t&&bh(t)}:function(t){return t&&function(){return wa.apply(t,arguments)}},ll=Ee,yh=ll({}.toString),xh=ll("".slice),an=function(t){return xh(yh(t),8,-1)},wh=Ee,_h=ze,Sh=an,_a=Object,kh=wh("".split),Sa=_h(function(){return!_a("z").propertyIsEnumerable(0)})?function(t){return Sh(t)=="String"?kh(t,""):_a(t)}:_a,Mh=TypeError,ka=function(t){if(t==null)throw Mh("Can't call method on "+t);return t},Th=Sa,Oh=ka,Pr=function(t){return Th(Oh(t))},Qn=function(t){return t&&t.Math==Math&&t},tt=Qn(typeof globalThis=="object"&&globalThis)||Qn(typeof window=="object"&&window)||Qn(typeof self=="object"&&self)||Qn(typeof nn=="object"&&nn)||function(){return this}()||Function("return this")(),Ma={exports:{}},cl=tt,Ph=Object.defineProperty,Ta=function(t,n){try{Ph(cl,t,{value:n,configurable:!0,writable:!0})}catch{cl[t]=n}return n},Ch=tt,Ah=Ta,ul="__core-js_shared__",Dh=Ch[ul]||Ah(ul,{}),Oa=Dh,dl=Oa;(Ma.exports=function(t,n){return dl[t]||(dl[t]=n!==void 0?n:{})})("versions",[]).push({version:"3.23.4",mode:"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.4/LICENSE",source:"https://github.com/zloirock/core-js"});var Ih=ka,Eh=Object,on=function(t){return Eh(Ih(t))},Lh=Ee,Fh=on,Rh=Lh({}.hasOwnProperty),mt=Object.hasOwn||function(n,o){return Rh(Fh(n),o)},$h=Ee,Nh=0,Bh=Math.random(),jh=$h(1 .toString),Pa=function(t){return"Symbol("+(t===void 0?"":t)+")_"+jh(++Nh+Bh,36)},Re=function(t){return typeof t=="function"},Ca=tt,zh=Re,Wh=function(t){return zh(t)?t:void 0},Cr=function(t,n){return arguments.length<2?Wh(Ca[t]):Ca[t]&&Ca[t][n]},Hh=Cr,Yh=Hh("navigator","userAgent")||"",fl=tt,Aa=Yh,hl=fl.process,ml=fl.Deno,vl=hl&&hl.versions||ml&&ml.version,pl=vl&&vl.v8,vt,Xn;pl&&(vt=pl.split("."),Xn=vt[0]>0&&vt[0]<4?1:+(vt[0]+vt[1])),!Xn&&Aa&&(vt=Aa.match(/Edge\/(\d+)/),(!vt||vt[1]>=74)&&(vt=Aa.match(/Chrome\/(\d+)/),vt&&(Xn=+vt[1])));var Vh=Xn,gl=Vh,Uh=ze,bl=!!Object.getOwnPropertySymbols&&!Uh(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&gl&&gl<41}),Gh=bl,yl=Gh&&!Symbol.sham&&typeof Symbol.iterator=="symbol",qh=tt,Kh=Ma.exports,xl=mt,Qh=Pa,wl=bl,_l=yl,Ar=Kh("wks"),ur=qh.Symbol,Sl=ur&&ur.for,Xh=_l?ur:ur&&ur.withoutSetter||Qh,rt=function(t){if(!xl(Ar,t)||!(wl||typeof Ar[t]=="string")){var n="Symbol."+t;wl&&xl(ur,t)?Ar[t]=ur[t]:_l&&Sl?Ar[t]=Sl(n):Ar[t]=Xh(n)}return Ar[t]},Zh=Re,nt=function(t){return typeof t=="object"?t!==null:Zh(t)},Jh=nt,em=String,tm=TypeError,Mt=function(t){if(Jh(t))return t;throw tm(em(t)+" is not an object")},kl={},rm=ze,it=!rm(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),nm=it,im=ze,Ml=nm&&im(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),at={},am=tt,Tl=nt,Da=am.document,om=Tl(Da)&&Tl(Da.createElement),Ol=function(t){return om?Da.createElement(t):{}},sm=it,lm=ze,cm=Ol,Pl=!sm&&!lm(function(){return Object.defineProperty(cm("div"),"a",{get:function(){return 7}}).a!=7}),um=xa,Zn=Function.prototype.call,Rt=um?Zn.bind(Zn):function(){return Zn.apply(Zn,arguments)},dm=Ee,Ia=dm({}.isPrototypeOf),fm=Cr,hm=Re,mm=Ia,vm=yl,pm=Object,Cl=vm?function(t){return typeof t=="symbol"}:function(t){var n=fm("Symbol");return hm(n)&&mm(n.prototype,pm(t))},gm=String,Ea=function(t){try{return gm(t)}catch{return"Object"}},bm=Re,ym=Ea,xm=TypeError,La=function(t){if(bm(t))return t;throw xm(ym(t)+" is not a function")},wm=La,Fa=function(t,n){var o=t[n];return o==null?void 0:wm(o)},Ra=Rt,$a=Re,Na=nt,_m=TypeError,Sm=function(t,n){var o,l;if(n==="string"&&$a(o=t.toString)&&!Na(l=Ra(o,t))||$a(o=t.valueOf)&&!Na(l=Ra(o,t))||n!=="string"&&$a(o=t.toString)&&!Na(l=Ra(o,t)))return l;throw _m("Can't convert object to primitive value")},km=Rt,Al=nt,Dl=Cl,Mm=Fa,Tm=Sm,Om=rt,Pm=TypeError,Cm=Om("toPrimitive"),Am=function(t,n){if(!Al(t)||Dl(t))return t;var o=Mm(t,Cm),l;if(o){if(n===void 0&&(n="default"),l=km(o,t,n),!Al(l)||Dl(l))return l;throw Pm("Can't convert object to primitive value")}return n===void 0&&(n="number"),Tm(t,n)},Dm=Am,Im=Cl,Ba=function(t){var n=Dm(t,"string");return Im(n)?n:n+""},Em=it,Lm=Pl,Fm=Ml,Jn=Mt,Il=Ba,Rm=TypeError,ja=Object.defineProperty,$m=Object.getOwnPropertyDescriptor,za="enumerable",Wa="configurable",Ha="writable";at.f=Em?Fm?function(n,o,l){if(Jn(n),o=Il(o),Jn(l),typeof n=="function"&&o==="prototype"&&"value"in l&&Ha in l&&!l[Ha]){var u=$m(n,o);u&&u[Ha]&&(n[o]=l.value,l={configurable:Wa in l?l[Wa]:u[Wa],enumerable:za in l?l[za]:u[za],writable:!1})}return ja(n,o,l)}:ja:function(n,o,l){if(Jn(n),o=Il(o),Jn(l),Lm)try{return ja(n,o,l)}catch{}if("get"in l||"set"in l)throw Rm("Accessors not supported");return"value"in l&&(n[o]=l.value),n};var Nm=Math.ceil,Bm=Math.floor,jm=Math.trunc||function(n){var o=+n;return(o>0?Bm:Nm)(o)},zm=jm,Ya=function(t){var n=+t;return n!==n||n===0?0:zm(n)},Wm=Ya,Hm=Math.max,Ym=Math.min,El=function(t,n){var o=Wm(t);return o<0?Hm(o+n,0):Ym(o,n)},Vm=Ya,Um=Math.min,Gm=function(t){return t>0?Um(Vm(t),9007199254740991):0},qm=Gm,sn=function(t){return qm(t.length)},Km=Pr,Qm=El,Xm=sn,Ll=function(t){return function(n,o,l){var u=Km(n),m=Xm(u),g=Qm(l,m),S;if(t&&o!=o){for(;m>g;)if(S=u[g++],S!=S)return!0}else for(;m>g;g++)if((t||g in u)&&u[g]===o)return t||g||0;return!t&&-1}},Zm={includes:Ll(!0),indexOf:Ll(!1)},ei={},Jm=Ee,Va=mt,ev=Pr,tv=Zm.indexOf,rv=ei,Fl=Jm([].push),Rl=function(t,n){var o=ev(t),l=0,u=[],m;for(m in o)!Va(rv,m)&&Va(o,m)&&Fl(u,m);for(;n.length>l;)Va(o,m=n[l++])&&(~tv(u,m)||Fl(u,m));return u},Ua=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],nv=Rl,iv=Ua,$l=Object.keys||function(n){return nv(n,iv)},av=it,ov=Ml,sv=at,lv=Mt,cv=Pr,uv=$l;kl.f=av&&!ov?Object.defineProperties:function(n,o){lv(n);for(var l=cv(o),u=uv(o),m=u.length,g=0,S;m>g;)sv.f(n,S=u[g++],l[S]);return n};var dv=Cr,fv=dv("document","documentElement"),hv=Ma.exports,mv=Pa,Nl=hv("keys"),Ga=function(t){return Nl[t]||(Nl[t]=mv(t))},vv=Mt,pv=kl,Bl=Ua,gv=ei,bv=fv,yv=Ol,xv=Ga,jl=">",zl="<",qa="prototype",Ka="script",Wl=xv("IE_PROTO"),Qa=function(){},Hl=function(t){return zl+Ka+jl+t+zl+"/"+Ka+jl},Yl=function(t){t.write(Hl("")),t.close();var n=t.parentWindow.Object;return t=null,n},wv=function(){var t=yv("iframe"),n="java"+Ka+":",o;return t.style.display="none",bv.appendChild(t),t.src=String(n),o=t.contentWindow.document,o.open(),o.write(Hl("document.F=Object")),o.close(),o.F},ti,ri=function(){try{ti=new ActiveXObject("htmlfile")}catch{}ri=typeof document!="undefined"?document.domain&&ti?Yl(ti):wv():Yl(ti);for(var t=Bl.length;t--;)delete ri[qa][Bl[t]];return ri()};gv[Wl]=!0;var Xa=Object.create||function(n,o){var l;return n!==null?(Qa[qa]=vv(n),l=new Qa,Qa[qa]=null,l[Wl]=n):l=ri(),o===void 0?l:pv.f(l,o)},_v=rt,Sv=Xa,kv=at.f,Za=_v("unscopables"),Ja=Array.prototype;Ja[Za]==null&&kv(Ja,Za,{configurable:!0,value:Sv(null)});var Mv=function(t){Ja[Za][t]=!0},ln={},Tv=Ee,Ov=Re,eo=Oa,Pv=Tv(Function.toString);Ov(eo.inspectSource)||(eo.inspectSource=function(t){return Pv(t)});var to=eo.inspectSource,Cv=tt,Av=Re,Dv=to,Vl=Cv.WeakMap,Ul=Av(Vl)&&/native code/.test(Dv(Vl)),ni=function(t,n){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:n}},Iv=it,Ev=at,Lv=ni,ro=Iv?function(t,n,o){return Ev.f(t,n,Lv(1,o))}:function(t,n,o){return t[n]=o,t},Fv=Ul,Gl=tt,no=Ee,Rv=nt,$v=ro,io=mt,ao=Oa,Nv=Ga,Bv=ei,ql="Object already initialized",oo=Gl.TypeError,jv=Gl.WeakMap,ii,cn,ai,zv=function(t){return ai(t)?cn(t):ii(t,{})},Wv=function(t){return function(n){var o;if(!Rv(n)||(o=cn(n)).type!==t)throw oo("Incompatible receiver, "+t+" required");return o}};if(Fv||ao.state){var dr=ao.state||(ao.state=new jv),Hv=no(dr.get),Kl=no(dr.has),Yv=no(dr.set);ii=function(t,n){if(Kl(dr,t))throw new oo(ql);return n.facade=t,Yv(dr,t,n),n},cn=function(t){return Hv(dr,t)||{}},ai=function(t){return Kl(dr,t)}}else{var Dr=Nv("state");Bv[Dr]=!0,ii=function(t,n){if(io(t,Dr))throw new oo(ql);return n.facade=t,$v(t,Dr,n),n},cn=function(t){return io(t,Dr)?t[Dr]:{}},ai=function(t){return io(t,Dr)}}var Ir={set:ii,get:cn,has:ai,enforce:zv,getterFor:Wv},so={},lo={},Ql={}.propertyIsEnumerable,Xl=Object.getOwnPropertyDescriptor,Vv=Xl&&!Ql.call({1:2},1);lo.f=Vv?function(n){var o=Xl(this,n);return!!o&&o.enumerable}:Ql;var Uv=it,Gv=Rt,qv=lo,Kv=ni,Qv=Pr,Xv=Ba,Zv=mt,Jv=Pl,Zl=Object.getOwnPropertyDescriptor;so.f=Uv?Zl:function(n,o){if(n=Qv(n),o=Xv(o),Jv)try{return Zl(n,o)}catch{}if(Zv(n,o))return Kv(!Gv(qv.f,n,o),n[o])};var Jl={exports:{}},co=it,ep=mt,ec=Function.prototype,tp=co&&Object.getOwnPropertyDescriptor,uo=ep(ec,"name"),rp=uo&&function(){}.name==="something",np=uo&&(!co||co&&tp(ec,"name").configurable),tc={EXISTS:uo,PROPER:rp,CONFIGURABLE:np},ip=ze,ap=Re,oi=mt,fo=it,op=tc.CONFIGURABLE,sp=to,rc=Ir,lp=rc.enforce,cp=rc.get,si=Object.defineProperty,up=fo&&!ip(function(){return si(function(){},"length",{value:8}).length!==8}),dp=String(String).split("String"),fp=Jl.exports=function(t,n,o){String(n).slice(0,7)==="Symbol("&&(n="["+String(n).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),o&&o.getter&&(n="get "+n),o&&o.setter&&(n="set "+n),(!oi(t,"name")||op&&t.name!==n)&&(fo?si(t,"name",{value:n,configurable:!0}):t.name=n),up&&o&&oi(o,"arity")&&t.length!==o.arity&&si(t,"length",{value:o.arity});try{o&&oi(o,"constructor")&&o.constructor?fo&&si(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch{}var l=lp(t);return oi(l,"source")||(l.source=dp.join(typeof n=="string"?n:"")),t};Function.prototype.toString=fp(function(){return ap(this)&&cp(this).source||sp(this)},"toString");var hp=Re,mp=at,vp=Jl.exports,pp=Ta,Er=function(t,n,o,l){l||(l={});var u=l.enumerable,m=l.name!==void 0?l.name:n;if(hp(o)&&vp(o,m,l),l.global)u?t[n]=o:pp(n,o);else{try{l.unsafe?t[n]&&(u=!0):delete t[n]}catch{}u?t[n]=o:mp.f(t,n,{value:o,enumerable:!1,configurable:!l.nonConfigurable,writable:!l.nonWritable})}return t},li={},gp=Rl,bp=Ua,yp=bp.concat("length","prototype");li.f=Object.getOwnPropertyNames||function(n){return gp(n,yp)};var ho={};ho.f=Object.getOwnPropertySymbols;var xp=Cr,wp=Ee,_p=li,Sp=ho,kp=Mt,Mp=wp([].concat),Tp=xp("Reflect","ownKeys")||function(n){var o=_p.f(kp(n)),l=Sp.f;return l?Mp(o,l(n)):o},nc=mt,Op=Tp,Pp=so,Cp=at,Ap=function(t,n,o){for(var l=Op(n),u=Cp.f,m=Pp.f,g=0;g<l.length;g++){var S=l[g];!nc(t,S)&&!(o&&nc(o,S))&&u(t,S,m(n,S))}},Dp=ze,Ip=Re,Ep=/#|\.prototype\./,un=function(t,n){var o=Fp[Lp(t)];return o==$p?!0:o==Rp?!1:Ip(n)?Dp(n):!!n},Lp=un.normalize=function(t){return String(t).replace(Ep,".").toLowerCase()},Fp=un.data={},Rp=un.NATIVE="N",$p=un.POLYFILL="P",ic=un,mo=tt,Np=so.f,Bp=ro,jp=Er,zp=Ta,Wp=Ap,Hp=ic,dn=function(t,n){var o=t.target,l=t.global,u=t.stat,m,g,S,w,k,M;if(l?g=mo:u?g=mo[o]||zp(o,{}):g=(mo[o]||{}).prototype,g)for(S in n){if(k=n[S],t.dontCallGetSet?(M=Np(g,S),w=M&&M.value):w=g[S],m=Hp(l?S:o+(u?".":"#")+S,t.forced),!m&&w!==void 0){if(typeof k==typeof w)continue;Wp(k,w)}(t.sham||w&&w.sham)&&Bp(k,"sham",!0),jp(g,S,k,t)}},Yp=ze,Vp=!Yp(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),Up=mt,Gp=Re,qp=on,Kp=Ga,Qp=Vp,ac=Kp("IE_PROTO"),vo=Object,Xp=vo.prototype,oc=Qp?vo.getPrototypeOf:function(t){var n=qp(t);if(Up(n,ac))return n[ac];var o=n.constructor;return Gp(o)&&n instanceof o?o.prototype:n instanceof vo?Xp:null},Zp=ze,Jp=Re,sc=oc,eg=Er,tg=rt,po=tg("iterator"),lc=!1,fr,go,bo;[].keys&&(bo=[].keys(),"next"in bo?(go=sc(sc(bo)),go!==Object.prototype&&(fr=go)):lc=!0);var rg=fr==null||Zp(function(){var t={};return fr[po].call(t)!==t});rg&&(fr={}),Jp(fr[po])||eg(fr,po,function(){return this});var cc={IteratorPrototype:fr,BUGGY_SAFARI_ITERATORS:lc},ng=at.f,ig=mt,ag=rt,uc=ag("toStringTag"),yo=function(t,n,o){t&&!o&&(t=t.prototype),t&&!ig(t,uc)&&ng(t,uc,{configurable:!0,value:n})},og=cc.IteratorPrototype,sg=Xa,lg=ni,cg=yo,ug=ln,dg=function(){return this},fg=function(t,n,o,l){var u=n+" Iterator";return t.prototype=sg(og,{next:lg(+!l,o)}),cg(t,u,!1),ug[u]=dg,t},hg=Re,mg=String,vg=TypeError,pg=function(t){if(typeof t=="object"||hg(t))return t;throw vg("Can't set "+mg(t)+" as a prototype")},gg=Ee,bg=Mt,yg=pg,dc=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,n={},o;try{o=gg(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),o(n,[]),t=n instanceof Array}catch{}return function(u,m){return bg(u),yg(m),t?o(u,m):u.__proto__=m,u}}():void 0),xg=dn,wg=Rt,fc=tc,_g=Re,Sg=fg,hc=oc,mc=dc,kg=yo,Mg=ro,xo=Er,Tg=rt,Og=ln,vc=cc,Pg=fc.PROPER,Cg=fc.CONFIGURABLE,pc=vc.IteratorPrototype,ci=vc.BUGGY_SAFARI_ITERATORS,fn=Tg("iterator"),gc="keys",hn="values",bc="entries",Ag=function(){return this},wo=function(t,n,o,l,u,m,g){Sg(o,n,l);var S=function(E){if(E===u&&D)return D;if(!ci&&E in M)return M[E];switch(E){case gc:return function(){return new o(this,E)};case hn:return function(){return new o(this,E)};case bc:return function(){return new o(this,E)}}return function(){return new o(this)}},w=n+" Iterator",k=!1,M=t.prototype,T=M[fn]||M["@@iterator"]||u&&M[u],D=!ci&&T||S(u),I=n=="Array"&&M.entries||T,L,z,N;if(I&&(L=hc(I.call(new t)),L!==Object.prototype&&L.next&&(hc(L)!==pc&&(mc?mc(L,pc):_g(L[fn])||xo(L,fn,Ag)),kg(L,w,!0))),Pg&&u==hn&&T&&T.name!==hn&&(Cg?Mg(M,"name",hn):(k=!0,D=function(){return wg(T,this)})),u)if(z={values:S(hn),keys:m?D:S(gc),entries:S(bc)},g)for(N in z)(ci||k||!(N in M))&&xo(M,N,z[N]);else xg({target:n,proto:!0,forced:ci||k},z);return M[fn]!==D&&xo(M,fn,D,{name:u}),Og[n]=D,z},Dg=Pr,_o=Mv,yc=ln,xc=Ir,Ig=at.f,Eg=wo,Lg=it,wc="Array Iterator",Fg=xc.set,Rg=xc.getterFor(wc);Eg(Array,"Array",function(t,n){Fg(this,{type:wc,target:Dg(t),index:0,kind:n})},function(){var t=Rg(this),n=t.target,o=t.kind,l=t.index++;return!n||l>=n.length?(t.target=void 0,{value:void 0,done:!0}):o=="keys"?{value:l,done:!1}:o=="values"?{value:n[l],done:!1}:{value:[l,n[l]],done:!1}},"values");var _c=yc.Arguments=yc.Array;if(_o("keys"),_o("values"),_o("entries"),Lg&&_c.name!=="values")try{Ig(_c,"name",{value:"values"})}catch{}var mn={exports:{}},Sc={},$g=Ba,Ng=at,Bg=ni,kc=function(t,n,o){var l=$g(n);l in t?Ng.f(t,l,Bg(0,o)):t[l]=o},Mc=El,jg=sn,zg=kc,Wg=Array,Hg=Math.max,Yg=function(t,n,o){for(var l=jg(t),u=Mc(n,l),m=Mc(o===void 0?l:o,l),g=Wg(Hg(m-u,0)),S=0;u<m;u++,S++)zg(g,S,t[u]);return g.length=S,g},Vg=an,Ug=Pr,Tc=li.f,Gg=Yg,Oc=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],qg=function(t){try{return Tc(t)}catch{return Gg(Oc)}};Sc.f=function(n){return Oc&&Vg(n)=="Window"?qg(n):Tc(Ug(n))};var Kg=ze,Qg=Kg(function(){if(typeof ArrayBuffer=="function"){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}),Xg=ze,Zg=nt,Jg=an,Pc=Qg,ui=Object.isExtensible,e0=Xg(function(){ui(1)}),Cc=e0||Pc?function(n){return!Zg(n)||Pc&&Jg(n)=="ArrayBuffer"?!1:ui?ui(n):!0}:ui,t0=ze,r0=!t0(function(){return Object.isExtensible(Object.preventExtensions({}))}),n0=dn,i0=Ee,a0=ei,o0=nt,So=mt,s0=at.f,Ac=li,l0=Sc,ko=Cc,c0=Pa,u0=r0,Dc=!1,$t=c0("meta"),d0=0,Mo=function(t){s0(t,$t,{value:{objectID:"O"+d0++,weakData:{}}})},f0=function(t,n){if(!o0(t))return typeof t=="symbol"?t:(typeof t=="string"?"S":"P")+t;if(!So(t,$t)){if(!ko(t))return"F";if(!n)return"E";Mo(t)}return t[$t].objectID},h0=function(t,n){if(!So(t,$t)){if(!ko(t))return!0;if(!n)return!1;Mo(t)}return t[$t].weakData},m0=function(t){return u0&&Dc&&ko(t)&&!So(t,$t)&&Mo(t),t},v0=function(){p0.enable=function(){},Dc=!0;var t=Ac.f,n=i0([].splice),o={};o[$t]=1,t(o).length&&(Ac.f=function(l){for(var u=t(l),m=0,g=u.length;m<g;m++)if(u[m]===$t){n(u,m,1);break}return u},n0({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l0.f}))},p0=mn.exports={enable:v0,fastKey:f0,getWeakData:h0,onFreeze:m0};a0[$t]=!0;var Ic=Ee,g0=La,b0=xa,y0=Ic(Ic.bind),di=function(t,n){return g0(t),n===void 0?t:b0?y0(t,n):function(){return t.apply(n,arguments)}},x0=rt,w0=ln,_0=x0("iterator"),S0=Array.prototype,Ec=function(t){return t!==void 0&&(w0.Array===t||S0[_0]===t)},k0=rt,M0=k0("toStringTag"),Lc={};Lc[M0]="z";var To=String(Lc)==="[object z]",T0=To,O0=Re,fi=an,P0=rt,C0=P0("toStringTag"),A0=Object,D0=fi(function(){return arguments}())=="Arguments",I0=function(t,n){try{return t[n]}catch{}},hi=T0?fi:function(t){var n,o,l;return t===void 0?"Undefined":t===null?"Null":typeof(o=I0(n=A0(t),C0))=="string"?o:D0?fi(n):(l=fi(n))=="Object"&&O0(n.callee)?"Arguments":l},E0=hi,Fc=Fa,L0=ln,F0=rt,R0=F0("iterator"),Oo=function(t){if(t!=null)return Fc(t,R0)||Fc(t,"@@iterator")||L0[E0(t)]},$0=Rt,N0=La,B0=Mt,j0=Ea,z0=Oo,W0=TypeError,Rc=function(t,n){var o=arguments.length<2?z0(t):n;if(N0(o))return B0($0(o,t));throw W0(j0(t)+" is not iterable")},H0=Rt,$c=Mt,Y0=Fa,Nc=function(t,n,o){var l,u;$c(t);try{if(l=Y0(t,"return"),!l){if(n==="throw")throw o;return o}l=H0(l,t)}catch(m){u=!0,l=m}if(n==="throw")throw o;if(u)throw l;return $c(l),o},V0=di,U0=Rt,G0=Mt,q0=Ea,K0=Ec,Q0=sn,Bc=Ia,X0=Rc,Z0=Oo,jc=Nc,J0=TypeError,mi=function(t,n){this.stopped=t,this.result=n},zc=mi.prototype,Po=function(t,n,o){var l=o&&o.that,u=!!(o&&o.AS_ENTRIES),m=!!(o&&o.IS_RECORD),g=!!(o&&o.IS_ITERATOR),S=!!(o&&o.INTERRUPTED),w=V0(n,l),k,M,T,D,I,L,z,N=function(R){return k&&jc(k,"normal",R),new mi(!0,R)},E=function(R){return u?(G0(R),S?w(R[0],R[1],N):w(R[0],R[1])):S?w(R,N):w(R)};if(m)k=t.iterator;else if(g)k=t;else{if(M=Z0(t),!M)throw J0(q0(t)+" is not iterable");if(K0(M)){for(T=0,D=Q0(t);D>T;T++)if(I=E(t[T]),I&&Bc(zc,I))return I;return new mi(!1)}k=X0(t,M)}for(L=m?t.next:k.next;!(z=U0(L,k)).done;){try{I=E(z.value)}catch(R){jc(k,"throw",R)}if(typeof I=="object"&&I&&Bc(zc,I))return I}return new mi(!1)},eb=Ia,tb=TypeError,Co=function(t,n){if(eb(n,t))return t;throw tb("Incorrect invocation")},rb=rt,Wc=rb("iterator"),Hc=!1;try{var nb=0,Yc={next:function(){return{done:!!nb++}},return:function(){Hc=!0}};Yc[Wc]=function(){return this},Array.from(Yc,function(){throw 2})}catch{}var Vc=function(t,n){if(!n&&!Hc)return!1;var o=!1;try{var l={};l[Wc]=function(){return{next:function(){return{done:o=!0}}}},t(l)}catch{}return o},ib=Re,ab=nt,Uc=dc,ob=function(t,n,o){var l,u;return Uc&&ib(l=n.constructor)&&l!==o&&ab(u=l.prototype)&&u!==o.prototype&&Uc(t,u),t},sb=dn,lb=tt,cb=Ee,Gc=ic,ub=Er,db=mn.exports,fb=Po,hb=Co,mb=Re,Ao=nt,Do=ze,vb=Vc,pb=yo,gb=ob,Io=function(t,n,o){var l=t.indexOf("Map")!==-1,u=t.indexOf("Weak")!==-1,m=l?"set":"add",g=lb[t],S=g&&g.prototype,w=g,k={},M=function(E){var R=cb(S[E]);ub(S,E,E=="add"?function(Q){return R(this,Q===0?0:Q),this}:E=="delete"?function(Y){return u&&!Ao(Y)?!1:R(this,Y===0?0:Y)}:E=="get"?function(Q){return u&&!Ao(Q)?void 0:R(this,Q===0?0:Q)}:E=="has"?function(Q){return u&&!Ao(Q)?!1:R(this,Q===0?0:Q)}:function(Q,Te){return R(this,Q===0?0:Q,Te),this})},T=Gc(t,!mb(g)||!(u||S.forEach&&!Do(function(){new g().entries().next()})));if(T)w=o.getConstructor(n,t,l,m),db.enable();else if(Gc(t,!0)){var D=new w,I=D[m](u?{}:-0,1)!=D,L=Do(function(){D.has(1)}),z=vb(function(E){new g(E)}),N=!u&&Do(function(){for(var E=new g,R=5;R--;)E[m](R,R);return!E.has(-0)});z||(w=n(function(E,R){hb(E,S);var Y=gb(new g,E,w);return R!=null&&fb(R,Y[m],{that:Y,AS_ENTRIES:l}),Y}),w.prototype=S,S.constructor=w),(L||N)&&(M("delete"),M("has"),l&&M("get")),(N||I)&&M(m),u&&S.clear&&delete S.clear}return k[t]=w,sb({global:!0,constructor:!0,forced:w!=g},k),pb(w,t),u||o.setStrong(w,t,l),w},bb=Er,Eo=function(t,n,o){for(var l in n)bb(t,l,n[l],o);return t},yb=Cr,xb=at,wb=rt,_b=it,qc=wb("species"),Sb=function(t){var n=yb(t),o=xb.f;_b&&n&&!n[qc]&&o(n,qc,{configurable:!0,get:function(){return this}})},kb=at.f,Mb=Xa,Kc=Eo,Tb=di,Ob=Co,Pb=Po,Cb=wo,Ab=Sb,vn=it,Qc=mn.exports.fastKey,Xc=Ir,Zc=Xc.set,Lo=Xc.getterFor,Jc={getConstructor:function(t,n,o,l){var u=t(function(k,M){Ob(k,m),Zc(k,{type:n,index:Mb(null),first:void 0,last:void 0,size:0}),vn||(k.size=0),M!=null&&Pb(M,k[l],{that:k,AS_ENTRIES:o})}),m=u.prototype,g=Lo(n),S=function(k,M,T){var D=g(k),I=w(k,M),L,z;return I?I.value=T:(D.last=I={index:z=Qc(M,!0),key:M,value:T,previous:L=D.last,next:void 0,removed:!1},D.first||(D.first=I),L&&(L.next=I),vn?D.size++:k.size++,z!=="F"&&(D.index[z]=I)),k},w=function(k,M){var T=g(k),D=Qc(M),I;if(D!=="F")return T.index[D];for(I=T.first;I;I=I.next)if(I.key==M)return I};return Kc(m,{clear:function(){for(var M=this,T=g(M),D=T.index,I=T.first;I;)I.removed=!0,I.previous&&(I.previous=I.previous.next=void 0),delete D[I.index],I=I.next;T.first=T.last=void 0,vn?T.size=0:M.size=0},delete:function(k){var M=this,T=g(M),D=w(M,k);if(D){var I=D.next,L=D.previous;delete T.index[D.index],D.removed=!0,L&&(L.next=I),I&&(I.previous=L),T.first==D&&(T.first=I),T.last==D&&(T.last=L),vn?T.size--:M.size--}return!!D},forEach:function(M){for(var T=g(this),D=Tb(M,arguments.length>1?arguments[1]:void 0),I;I=I?I.next:T.first;)for(D(I.value,I.key,this);I&&I.removed;)I=I.previous},has:function(M){return!!w(this,M)}}),Kc(m,o?{get:function(M){var T=w(this,M);return T&&T.value},set:function(M,T){return S(this,M===0?0:M,T)}}:{add:function(M){return S(this,M=M===0?0:M,M)}}),vn&&kb(m,"size",{get:function(){return g(this).size}}),u},setStrong:function(t,n,o){var l=n+" Iterator",u=Lo(n),m=Lo(l);Cb(t,n,function(g,S){Zc(this,{type:l,target:g,state:u(g),kind:S,last:void 0})},function(){for(var g=m(this),S=g.kind,w=g.last;w&&w.removed;)w=w.previous;return!g.target||!(g.last=w=w?w.next:g.state.first)?(g.target=void 0,{value:void 0,done:!0}):S=="keys"?{value:w.key,done:!1}:S=="values"?{value:w.value,done:!1}:{value:[w.key,w.value],done:!1}},o?"entries":"values",!o,!0),Ab(n)}},Db=Io,Ib=Jc;Db("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},Ib);var Eb=To,Lb=hi,Fb=Eb?{}.toString:function(){return"[object "+Lb(this)+"]"},Rb=To,$b=Er,Nb=Fb;Rb||$b(Object.prototype,"toString",Nb,{unsafe:!0});var Bb=hi,jb=String,eu=function(t){if(Bb(t)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return jb(t)},Fo=Ee,zb=Ya,Wb=eu,Hb=ka,Yb=Fo("".charAt),tu=Fo("".charCodeAt),Vb=Fo("".slice),ru=function(t){return function(n,o){var l=Wb(Hb(n)),u=zb(o),m=l.length,g,S;return u<0||u>=m?t?"":void 0:(g=tu(l,u),g<55296||g>56319||u+1===m||(S=tu(l,u+1))<56320||S>57343?t?Yb(l,u):g:t?Vb(l,u,u+2):(g-55296<<10)+(S-56320)+65536)}},Ub={codeAt:ru(!1),charAt:ru(!0)},Gb=Ub.charAt,qb=eu,nu=Ir,Kb=wo,iu="String Iterator",Qb=nu.set,Xb=nu.getterFor(iu);Kb(String,"String",function(t){Qb(this,{type:iu,string:qb(t),index:0})},function(){var n=Xb(this),o=n.string,l=n.index,u;return l>=o.length?{value:void 0,done:!0}:(u=Gb(o,l),n.index+=u.length,{value:u,done:!1})});var Zb=tt,pn=Zb,Jb=pn;Jb.Map;var ey=Io,ty=Jc;ey("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},ty);var ry=pn;ry.Set;var ny=an,iy=Array.isArray||function(n){return ny(n)=="Array"},ay=Ee,oy=ze,au=Re,sy=hi,ly=Cr,cy=to,ou=function(){},uy=[],su=ly("Reflect","construct"),Ro=/^\s*(?:class|function)\b/,dy=ay(Ro.exec),fy=!Ro.exec(ou),gn=function(n){if(!au(n))return!1;try{return su(ou,uy,n),!0}catch{return!1}},lu=function(n){if(!au(n))return!1;switch(sy(n)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return fy||!!dy(Ro,cy(n))}catch{return!0}};lu.sham=!0;var cu=!su||oy(function(){var t;return gn(gn.call)||!gn(Object)||!gn(function(){t=!0})||t})?lu:gn,uu=iy,hy=cu,my=nt,vy=rt,py=vy("species"),du=Array,gy=function(t){var n;return uu(t)&&(n=t.constructor,hy(n)&&(n===du||uu(n.prototype))?n=void 0:my(n)&&(n=n[py],n===null&&(n=void 0))),n===void 0?du:n},by=gy,yy=function(t,n){return new(by(t))(n===0?0:n)},xy=di,wy=Ee,_y=Sa,Sy=on,ky=sn,My=yy,fu=wy([].push),Zt=function(t){var n=t==1,o=t==2,l=t==3,u=t==4,m=t==6,g=t==7,S=t==5||m;return function(w,k,M,T){for(var D=Sy(w),I=_y(D),L=xy(k,M),z=ky(I),N=0,E=T||My,R=n?E(w,z):o||g?E(w,0):void 0,Y,Q;z>N;N++)if((S||N in I)&&(Y=I[N],Q=L(Y,N,D),t))if(n)R[N]=Q;else if(Q)switch(t){case 3:return!0;case 5:return Y;case 6:return N;case 2:fu(R,Y)}else switch(t){case 4:return!1;case 7:fu(R,Y)}return m?-1:l||u?u:R}},Ty={forEach:Zt(0),map:Zt(1),filter:Zt(2),some:Zt(3),every:Zt(4),find:Zt(5),findIndex:Zt(6),filterReject:Zt(7)},Oy=Ee,hu=Eo,vi=mn.exports.getWeakData,Py=Mt,$o=nt,Cy=Co,Ay=Po,mu=Ty,vu=mt,pu=Ir,Dy=pu.set,Iy=pu.getterFor,Ey=mu.find,Ly=mu.findIndex,Fy=Oy([].splice),Ry=0,pi=function(t){return t.frozen||(t.frozen=new gu)},gu=function(){this.entries=[]},No=function(t,n){return Ey(t.entries,function(o){return o[0]===n})};gu.prototype={get:function(t){var n=No(this,t);if(n)return n[1]},has:function(t){return!!No(this,t)},set:function(t,n){var o=No(this,t);o?o[1]=n:this.entries.push([t,n])},delete:function(t){var n=Ly(this.entries,function(o){return o[0]===t});return~n&&Fy(this.entries,n,1),!!~n}};var $y={getConstructor:function(t,n,o,l){var u=t(function(w,k){Cy(w,m),Dy(w,{type:n,id:Ry++,frozen:void 0}),k!=null&&Ay(k,w[l],{that:w,AS_ENTRIES:o})}),m=u.prototype,g=Iy(n),S=function(w,k,M){var T=g(w),D=vi(Py(k),!0);return D===!0?pi(T).set(k,M):D[T.id]=M,w};return hu(m,{delete:function(w){var k=g(this);if(!$o(w))return!1;var M=vi(w);return M===!0?pi(k).delete(w):M&&vu(M,k.id)&&delete M[k.id]},has:function(k){var M=g(this);if(!$o(k))return!1;var T=vi(k);return T===!0?pi(M).has(k):T&&vu(T,M.id)}}),hu(m,o?{get:function(k){var M=g(this);if($o(k)){var T=vi(k);return T===!0?pi(M).get(k):T?T[M.id]:void 0}},set:function(k,M){return S(this,k,M)}}:{add:function(k){return S(this,k,!0)}}),u}},bu=tt,gi=Ee,Ny=Eo,By=mn.exports,jy=Io,yu=$y,bi=nt,yi=Cc,xi=Ir.enforce,zy=Ul,Wy=!bu.ActiveXObject&&"ActiveXObject"in bu,bn,xu=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},Hy=jy("WeakMap",xu,yu);if(zy&&Wy){bn=yu.getConstructor(xu,"WeakMap",!0),By.enable();var yn=Hy.prototype,wu=gi(yn.delete),wi=gi(yn.has),_u=gi(yn.get),Su=gi(yn.set);Ny(yn,{delete:function(t){if(bi(t)&&!yi(t)){var n=xi(this);return n.frozen||(n.frozen=new bn),wu(this,t)||n.frozen.delete(t)}return wu(this,t)},has:function(n){if(bi(n)&&!yi(n)){var o=xi(this);return o.frozen||(o.frozen=new bn),wi(this,n)||o.frozen.has(n)}return wi(this,n)},get:function(n){if(bi(n)&&!yi(n)){var o=xi(this);return o.frozen||(o.frozen=new bn),wi(this,n)?_u(this,n):o.frozen.get(n)}return _u(this,n)},set:function(n,o){if(bi(n)&&!yi(n)){var l=xi(this);l.frozen||(l.frozen=new bn),wi(this,n)?Su(this,n,o):l.frozen.set(n,o)}else Su(this,n,o);return this}})}var Yy=pn;Yy.WeakMap;var Vy=Mt,Uy=Nc,Gy=function(t,n,o,l){try{return l?n(Vy(o)[0],o[1]):n(o)}catch(u){Uy(t,"throw",u)}},qy=di,Ky=Rt,Qy=on,Xy=Gy,Zy=Ec,Jy=cu,ex=sn,ku=kc,tx=Rc,rx=Oo,Mu=Array,nx=function(n){var o=Qy(n),l=Jy(this),u=arguments.length,m=u>1?arguments[1]:void 0,g=m!==void 0;g&&(m=qy(m,u>2?arguments[2]:void 0));var S=rx(o),w=0,k,M,T,D,I,L;if(S&&!(this===Mu&&Zy(S)))for(D=tx(o,S),I=D.next,M=l?new this:[];!(T=Ky(I,D)).done;w++)L=g?Xy(D,m,[T.value,w],!0):T.value,ku(M,w,L);else for(k=ex(o),M=l?new this(k):Mu(k);k>w;w++)L=g?m(o[w],w):o[w],ku(M,w,L);return M.length=w,M},ix=dn,ax=nx,ox=Vc,sx=!ox(function(t){Array.from(t)});ix({target:"Array",stat:!0,forced:sx},{from:ax});var lx=pn;lx.Array.from;var Tu=it,cx=Ee,ux=Rt,dx=ze,Bo=$l,fx=ho,hx=lo,mx=on,vx=Sa,Lr=Object.assign,Ou=Object.defineProperty,px=cx([].concat),gx=!Lr||dx(function(){if(Tu&&Lr({b:1},Lr(Ou({},"a",{enumerable:!0,get:function(){Ou(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var t={},n={},o=Symbol(),l="abcdefghijklmnopqrst";return t[o]=7,l.split("").forEach(function(u){n[u]=u}),Lr({},t)[o]!=7||Bo(Lr({},n)).join("")!=l})?function(n,o){for(var l=mx(n),u=arguments.length,m=1,g=fx.f,S=hx.f;u>m;)for(var w=vx(arguments[m++]),k=g?px(Bo(w),g(w)):Bo(w),M=k.length,T=0,D;M>T;)D=k[T++],(!Tu||ux(S,w,D))&&(l[D]=w[D]);return l}:Lr,bx=dn,Pu=gx;bx({target:"Object",stat:!0,arity:2,forced:Object.assign!==Pu},{assign:Pu});var yx=pn;yx.Object.assign;function xx(t,n,o){return t===t&&(o!==void 0&&(t=t<=o?t:o),n!==void 0&&(t=t>=n?t:n)),t}var wx=/\s/;function _x(t){for(var n=t.length;n--&&wx.test(t.charAt(n)););return n}var Sx=/^\s+/;function kx(t){return t&&t.slice(0,_x(t)+1).replace(Sx,"")}function jo(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}var Mx=typeof global=="object"&&global&&global.Object===Object&&global,Tx=Mx,Ox=typeof self=="object"&&self&&self.Object===Object&&self,Px=Tx||Ox||Function("return this")(),Cu=Px,Cx=Cu.Symbol,_i=Cx,Au=Object.prototype,Ax=Au.hasOwnProperty,Dx=Au.toString,xn=_i?_i.toStringTag:void 0;function Ix(t){var n=Ax.call(t,xn),o=t[xn];try{t[xn]=void 0;var l=!0}catch{}var u=Dx.call(t);return l&&(n?t[xn]=o:delete t[xn]),u}var Ex=Object.prototype,Lx=Ex.toString;function Fx(t){return Lx.call(t)}var Rx="[object Null]",$x="[object Undefined]",Du=_i?_i.toStringTag:void 0;function Nx(t){return t==null?t===void 0?$x:Rx:Du&&Du in Object(t)?Ix(t):Fx(t)}function Bx(t){return t!=null&&typeof t=="object"}var jx="[object Symbol]";function zx(t){return typeof t=="symbol"||Bx(t)&&Nx(t)==jx}var Iu=0/0,Wx=/^[-+]0x[0-9a-f]+$/i,Hx=/^0b[01]+$/i,Yx=/^0o[0-7]+$/i,Vx=parseInt;function wn(t){if(typeof t=="number")return t;if(zx(t))return Iu;if(jo(t)){var n=typeof t.valueOf=="function"?t.valueOf():t;t=jo(n)?n+"":n}if(typeof t!="string")return t===0?t:+t;t=kx(t);var o=Hx.test(t);return o||Yx.test(t)?Vx(t.slice(2),o?2:8):Wx.test(t)?Iu:+t}function ot(t,n,o){return o===void 0&&(o=n,n=void 0),o!==void 0&&(o=wn(o),o=o===o?o:0),n!==void 0&&(n=wn(n),n=n===n?n:0),xx(wn(t),n,o)}function Eu(t,n){return t===void 0&&(t=-1/0),n===void 0&&(n=1/0),function(o,l){var u="_"+l;Object.defineProperty(o,l,{get:function(){return this[u]},set:function(m){Object.defineProperty(this,u,{value:ot(m,t,n),enumerable:!1,writable:!0,configurable:!0})},enumerable:!0,configurable:!0})}}function zo(t,n){var o="_"+n;Object.defineProperty(t,n,{get:function(){return this[o]},set:function(l){Object.defineProperty(this,o,{value:!!l,enumerable:!1,writable:!0,configurable:!0})},enumerable:!0,configurable:!0})}var Ux=function(){return Cu.Date.now()},Wo=Ux,Gx="Expected a function",qx=Math.max,Kx=Math.min;function Lu(t,n,o){var l,u,m,g,S,w,k=0,M=!1,T=!1,D=!0;if(typeof t!="function")throw new TypeError(Gx);n=wn(n)||0,jo(o)&&(M=!!o.leading,T="maxWait"in o,m=T?qx(wn(o.maxWait)||0,n):m,D="trailing"in o?!!o.trailing:D);function I(me){var Ce=l,ee=u;return l=u=void 0,k=me,g=t.apply(ee,Ce),g}function L(me){return k=me,S=setTimeout(E,n),M?I(me):g}function z(me){var Ce=me-w,ee=me-k,te=n-Ce;return T?Kx(te,m-ee):te}function N(me){var Ce=me-w,ee=me-k;return w===void 0||Ce>=n||Ce<0||T&&ee>=m}function E(){var me=Wo();if(N(me))return R(me);S=setTimeout(E,z(me))}function R(me){return S=void 0,D&&l?I(me):(l=u=void 0,g)}function Y(){S!==void 0&&clearTimeout(S),k=0,l=w=u=S=void 0}function Q(){return S===void 0?g:R(Wo())}function Te(){var me=Wo(),Ce=N(me);if(l=arguments,u=this,w=me,Ce){if(S===void 0)return L(w);if(T)return clearTimeout(S),S=setTimeout(E,n),I(w)}return S===void 0&&(S=setTimeout(E,n)),g}return Te.cancel=Y,Te.flush=Q,Te}function Fu(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return function(o,l,u){var m=u.value;return{get:function(){return this.hasOwnProperty(l)||Object.defineProperty(this,l,{value:Lu.apply(void 0,mh([m],t))}),this[l]}}}}var Qx=function(){function t(n){var o=this;n===void 0&&(n={}),this.damping=.1,this.thumbMinSize=20,this.renderByPixels=!0,this.alwaysShowTracks=!1,this.continuousScrolling=!0,this.delegateTo=null,this.plugins={},Object.keys(n).forEach(function(l){o[l]=n[l]})}return Object.defineProperty(t.prototype,"wheelEventTarget",{get:function(){return this.delegateTo},set:function(n){console.warn("[smooth-scrollbar]: `options.wheelEventTarget` is deprecated and will be removed in the future, use `options.delegateTo` instead."),this.delegateTo=n},enumerable:!0,configurable:!0}),cr([Eu(0,1)],t.prototype,"damping",void 0),cr([Eu(0,1/0)],t.prototype,"thumbMinSize",void 0),cr([zo],t.prototype,"renderByPixels",void 0),cr([zo],t.prototype,"alwaysShowTracks",void 0),cr([zo],t.prototype,"continuousScrolling",void 0),t}(),Si,ki=new WeakMap;function Ru(){if(Si!==void 0)return Si;var t=!1;try{var n=function(){},o=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassive",n,o),window.removeEventListener("testPassive",n,o)}catch{}return Si=t?{passive:!1}:!1,Si}function Fr(t){var n=ki.get(t)||[];return ki.set(t,n),function(l,u,m){function g(S){S.defaultPrevented||m(S)}u.split(/\s+/g).forEach(function(S){n.push({elem:l,eventName:S,handler:g}),l.addEventListener(S,g,Ru())})}}function Xx(t){var n=ki.get(t);!n||(n.forEach(function(o){var l=o.elem,u=o.eventName,m=o.handler;l.removeEventListener(u,m,Ru())}),ki.delete(t))}function Zx(t){return t.touches?t.touches[t.touches.length-1]:t}function Rr(t){var n=Zx(t);return{x:n.clientX,y:n.clientY}}function Mi(t,n){return n===void 0&&(n=[]),n.some(function(o){return t===o})}var $u=["webkit","moz","ms","o"],Jx=new RegExp("^-(?!(?:"+$u.join("|")+")-)");function e1(t){var n={};return Object.keys(t).forEach(function(o){if(!Jx.test(o)){n[o]=t[o];return}var l=t[o];o=o.replace(/^-/,""),n[o]=l,$u.forEach(function(u){n["-"+u+"-"+o]=l})}),n}function hr(t,n){n=e1(n),Object.keys(n).forEach(function(o){var l=o.replace(/^-/,"").replace(/-([a-z])/g,function(u,m){return m.toUpperCase()});t.style[l]=n[o]})}var t1=function(){function t(n){this.velocityMultiplier=/Android/.test(navigator.userAgent)?window.devicePixelRatio:1,this.updateTime=Date.now(),this.delta={x:0,y:0},this.velocity={x:0,y:0},this.lastPosition={x:0,y:0},this.lastPosition=Rr(n)}return t.prototype.update=function(n){var o=this,l=o.velocity,u=o.updateTime,m=o.lastPosition,g=Date.now(),S=Rr(n),w={x:-(S.x-m.x),y:-(S.y-m.y)},k=g-u||16.7,M=w.x/k*16.7,T=w.y/k*16.7;l.x=M*this.velocityMultiplier,l.y=T*this.velocityMultiplier,this.delta=w,this.updateTime=g,this.lastPosition=S},t}(),r1=function(){function t(){this._touchList={}}return Object.defineProperty(t.prototype,"_primitiveValue",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),t.prototype.isActive=function(){return this._activeTouchID!==void 0},t.prototype.getDelta=function(){var n=this._getActiveTracker();return n?kt({},n.delta):this._primitiveValue},t.prototype.getVelocity=function(){var n=this._getActiveTracker();return n?kt({},n.velocity):this._primitiveValue},t.prototype.getEasingDistance=function(n){var o=1-n,l={x:0,y:0},u=this.getVelocity();return Object.keys(u).forEach(function(m){for(var g=Math.abs(u[m])<=10?0:u[m];g!==0;)l[m]+=g,g=g*o|0}),l},t.prototype.track=function(n){var o=this,l=n.targetTouches;return Array.from(l).forEach(function(u){o._add(u)}),this._touchList},t.prototype.update=function(n){var o=this,l=n.touches,u=n.changedTouches;return Array.from(l).forEach(function(m){o._renew(m)}),this._setActiveID(u),this._touchList},t.prototype.release=function(n){var o=this;delete this._activeTouchID,Array.from(n.changedTouches).forEach(function(l){o._delete(l)})},t.prototype._add=function(n){this._has(n)&&this._delete(n);var o=new t1(n);this._touchList[n.identifier]=o},t.prototype._renew=function(n){if(!!this._has(n)){var o=this._touchList[n.identifier];o.update(n)}},t.prototype._delete=function(n){delete this._touchList[n.identifier]},t.prototype._has=function(n){return this._touchList.hasOwnProperty(n.identifier)},t.prototype._setActiveID=function(n){this._activeTouchID=n[n.length-1].identifier},t.prototype._getActiveTracker=function(){var n=this,o=n._touchList,l=n._activeTouchID;return o[l]},t}(),$r;(function(t){t.X="x",t.Y="y"})($r||($r={}));var n1=function(){function t(n,o){o===void 0&&(o=0),this._direction=n,this._minSize=o,this.element=document.createElement("div"),this.displaySize=0,this.realSize=0,this.offset=0,this.element.className="scrollbar-thumb scrollbar-thumb-"+n}return t.prototype.attachTo=function(n){n.appendChild(this.element)},t.prototype.update=function(n,o,l){this.realSize=Math.min(o/l,1)*o,this.displaySize=Math.max(this.realSize,this._minSize),this.offset=n/l*(o+(this.realSize-this.displaySize)),hr(this.element,this._getStyle())},t.prototype._getStyle=function(){switch(this._direction){case $r.X:return{width:this.displaySize+"px","-transform":"translate3d("+this.offset+"px, 0, 0)"};case $r.Y:return{height:this.displaySize+"px","-transform":"translate3d(0, "+this.offset+"px, 0)"};default:return null}},t}(),Nu=function(){function t(n,o){o===void 0&&(o=0),this.element=document.createElement("div"),this._isShown=!1,this.element.className="scrollbar-track scrollbar-track-"+n,this.thumb=new n1(n,o),this.thumb.attachTo(this.element)}return t.prototype.attachTo=function(n){n.appendChild(this.element)},t.prototype.show=function(){this._isShown||(this._isShown=!0,this.element.classList.add("show"))},t.prototype.hide=function(){!this._isShown||(this._isShown=!1,this.element.classList.remove("show"))},t.prototype.update=function(n,o,l){hr(this.element,{display:l<=o?"none":"block"}),this.thumb.update(n,o,l)},t}(),i1=function(){function t(n){this._scrollbar=n;var o=n.options.thumbMinSize;this.xAxis=new Nu($r.X,o),this.yAxis=new Nu($r.Y,o),this.xAxis.attachTo(n.containerEl),this.yAxis.attachTo(n.containerEl),n.options.alwaysShowTracks&&(this.xAxis.show(),this.yAxis.show())}return t.prototype.update=function(){var n=this._scrollbar,o=n.size,l=n.offset;this.xAxis.update(l.x,o.container.width,o.content.width),this.yAxis.update(l.y,o.container.height,o.content.height)},t.prototype.autoHideOnIdle=function(){this._scrollbar.options.alwaysShowTracks||(this.xAxis.hide(),this.yAxis.hide())},cr([Fu(300)],t.prototype,"autoHideOnIdle",null),t}();function a1(t){var n=t.containerEl,o=t.contentEl,l=getComputedStyle(n),u=["paddingTop","paddingBottom","paddingLeft","paddingRight"].map(function(S){return l[S]?parseFloat(l[S]):0}),m=u[0]+u[1],g=u[2]+u[3];return{container:{width:n.clientWidth,height:n.clientHeight},content:{width:o.offsetWidth-o.clientWidth+o.scrollWidth+g,height:o.offsetHeight-o.clientHeight+o.scrollHeight+m}}}function o1(t,n){var o=t.bounding,l=n.getBoundingClientRect(),u=Math.max(o.top,l.top),m=Math.max(o.left,l.left),g=Math.min(o.right,l.right),S=Math.min(o.bottom,l.bottom);return u<S&&m<g}function s1(t){var n=t.getSize(),o={x:Math.max(n.content.width-n.container.width,0),y:Math.max(n.content.height-n.container.height,0)},l=t.containerEl.getBoundingClientRect(),u={top:Math.max(l.top,0),right:Math.min(l.right,window.innerWidth),bottom:Math.min(l.bottom,window.innerHeight),left:Math.max(l.left,0)};t.size=n,t.limit=o,t.bounding=u,t.track.update(),t.setPosition()}function l1(t,n,o){var l=t.options,u=t.offset,m=t.limit,g=t.track,S=t.contentEl;return l.renderByPixels&&(n=Math.round(n),o=Math.round(o)),n=ot(n,0,m.x),o=ot(o,0,m.y),n!==u.x&&g.xAxis.show(),o!==u.y&&g.yAxis.show(),l.alwaysShowTracks||g.autoHideOnIdle(),n===u.x&&o===u.y?null:(u.x=n,u.y=o,hr(S,{"-transform":"translate3d("+-n+"px, "+-o+"px, 0)"}),g.update(),{offset:kt({},u),limit:kt({},m)})}var Bu=new WeakMap;function c1(t,n,o,l,u){l===void 0&&(l=0);var m=u===void 0?{}:u,g=m.easing,S=g===void 0?u1:g,w=m.callback,k=t.options,M=t.offset,T=t.limit;k.renderByPixels&&(n=Math.round(n),o=Math.round(o));var D=M.x,I=M.y,L=ot(n,0,T.x)-D,z=ot(o,0,T.y)-I,N=Date.now();function E(){var R=Date.now()-N,Y=l?S(Math.min(R/l,1)):1;if(t.setPosition(D+L*Y,I+z*Y),R>=l)typeof w=="function"&&w.call(t);else{var Q=requestAnimationFrame(E);Bu.set(t,Q)}}cancelAnimationFrame(Bu.get(t)),E()}function u1(t){return Math.pow(t-1,3)+1}function d1(t,n,o){var l=o===void 0?{}:o,u=l.alignToTop,m=u===void 0?!0:u,g=l.onlyScrollIfNeeded,S=g===void 0?!1:g,w=l.offsetTop,k=w===void 0?0:w,M=l.offsetLeft,T=M===void 0?0:M,D=l.offsetBottom,I=D===void 0?0:D,L=t.containerEl,z=t.bounding,N=t.offset,E=t.limit;if(!(!n||!L.contains(n))){var R=n.getBoundingClientRect();if(!(S&&t.isVisible(n))){var Y=m?R.top-z.top-k:R.bottom-z.bottom+I;t.setMomentum(R.left-z.left-T,ot(Y,-N.y,E.y-N.y))}}}var f1=function(){function t(n,o){var l=this.constructor;this.scrollbar=n,this.name=l.pluginName,this.options=kt(kt({},l.defaultOptions),o)}return t.prototype.onInit=function(){},t.prototype.onDestroy=function(){},t.prototype.onUpdate=function(){},t.prototype.onRender=function(n){},t.prototype.transformDelta=function(n,o){return kt({},n)},t.pluginName="",t.defaultOptions={},t}(),Ti={order:new Set,constructors:{}};function h1(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.forEach(function(o){var l=o.pluginName;if(!l)throw new TypeError("plugin name is required");Ti.order.add(l),Ti.constructors[l]=o})}function m1(t,n){return Array.from(Ti.order).filter(function(o){return n[o]!==!1}).map(function(o){var l=Ti.constructors[o],u=new l(t,n[o]);return n[o]=u.options,u})}var st;(function(t){t[t.TAB=9]="TAB",t[t.SPACE=32]="SPACE",t[t.PAGE_UP=33]="PAGE_UP",t[t.PAGE_DOWN=34]="PAGE_DOWN",t[t.END=35]="END",t[t.HOME=36]="HOME",t[t.LEFT=37]="LEFT",t[t.UP=38]="UP",t[t.RIGHT=39]="RIGHT",t[t.DOWN=40]="DOWN"})(st||(st={}));function v1(t){var n=Fr(t),o=t.containerEl;n(o,"keydown",function(l){var u=document.activeElement;if(!(u!==o&&!o.contains(u))&&!b1(u)){var m=p1(t,l.keyCode||l.which);if(!!m){var g=m[0],S=m[1];t.addTransformableMomentum(g,S,l,function(w){w?l.preventDefault():(t.containerEl.blur(),t.parent&&t.parent.containerEl.focus())})}}})}function p1(t,n){var o=t.size,l=t.limit,u=t.offset;switch(n){case st.TAB:return g1(t);case st.SPACE:return[0,200];case st.PAGE_UP:return[0,-o.container.height+40];case st.PAGE_DOWN:return[0,o.container.height-40];case st.END:return[0,l.y-u.y];case st.HOME:return[0,-u.y];case st.LEFT:return[-40,0];case st.UP:return[0,-40];case st.RIGHT:return[40,0];case st.DOWN:return[0,40];default:return null}}function g1(t){requestAnimationFrame(function(){t.scrollIntoView(document.activeElement,{offsetTop:t.size.container.height/2,onlyScrollIfNeeded:!0})})}function b1(t){return t.tagName==="INPUT"||t.tagName==="SELECT"||t.tagName==="TEXTAREA"||t.isContentEditable?!t.disabled:!1}var Tt;(function(t){t[t.X=0]="X",t[t.Y=1]="Y"})(Tt||(Tt={}));function y1(t){var n=Fr(t),o=t.containerEl,l=t.track,u=l.xAxis,m=l.yAxis;function g(I,L){var z=t.size,N=t.limit,E=t.offset;if(I===Tt.X){var R=z.container.width+(u.thumb.realSize-u.thumb.displaySize);return ot(L/R*z.content.width,0,N.x)-E.x}if(I===Tt.Y){var Y=z.container.height+(m.thumb.realSize-m.thumb.displaySize);return ot(L/Y*z.content.height,0,N.y)-E.y}return 0}function S(I){if(Mi(I,[u.element,u.thumb.element]))return Tt.X;if(Mi(I,[m.element,m.thumb.element]))return Tt.Y}var w,k,M,T,D;n(o,"click",function(I){if(!(k||!Mi(I.target,[u.element,m.element]))){var L=I.target,z=S(L),N=L.getBoundingClientRect(),E=Rr(I);if(z===Tt.X){var R=E.x-N.left-u.thumb.displaySize/2;t.setMomentum(g(z,R),0)}if(z===Tt.Y){var R=E.y-N.top-m.thumb.displaySize/2;t.setMomentum(0,g(z,R))}}}),n(o,"mousedown",function(I){if(!!Mi(I.target,[u.thumb.element,m.thumb.element])){w=!0;var L=I.target,z=Rr(I),N=L.getBoundingClientRect();T=S(L),M={x:z.x-N.left,y:z.y-N.top},D=o.getBoundingClientRect(),hr(t.containerEl,{"-user-select":"none"})}}),n(window,"mousemove",function(I){if(!!w){k=!0;var L=Rr(I);if(T===Tt.X){var z=L.x-M.x-D.left;t.setMomentum(g(T,z),0)}if(T===Tt.Y){var z=L.y-M.y-D.top;t.setMomentum(0,g(T,z))}}}),n(window,"mouseup blur",function(){w=k=!1,hr(t.containerEl,{"-user-select":""})})}function x1(t){var n=Fr(t);n(window,"resize",Lu(t.update.bind(t),300))}function w1(t){var n=Fr(t),o=t.containerEl,l=t.contentEl,u=!1,m;function g(S){var w=S.x,k=S.y;if(!(!w&&!k)){var M=t.offset,T=t.limit;t.setMomentum(ot(M.x+w,0,T.x)-M.x,ot(M.y+k,0,T.y)-M.y),m=requestAnimationFrame(function(){g({x:w,y:k})})}}n(window,"mousemove",function(S){if(!!u){cancelAnimationFrame(m);var w=_1(t,S);g(w)}}),n(l,"selectstart",function(S){S.stopPropagation(),cancelAnimationFrame(m),u=!0}),n(window,"mouseup blur",function(){cancelAnimationFrame(m),u=!1}),n(o,"scroll",function(S){S.preventDefault(),o.scrollTop=o.scrollLeft=0})}function _1(t,n){var o=t.bounding,l=o.top,u=o.right,m=o.bottom,g=o.left,S=Rr(n),w=S.x,k=S.y,M={x:0,y:0},T=20;return w===0&&k===0||(w>u-T?M.x=w-u+T:w<g+T&&(M.x=w-g-T),k>m-T?M.y=k-m+T:k<l+T&&(M.y=k-l-T),M.x*=2,M.y*=2),M}var Oi;function S1(t){var n=t.options.delegateTo||t.containerEl,o=new r1,l=Fr(t),u,m=0;l(n,"touchstart",function(g){o.track(g),t.setMomentum(0,0),m===0&&(u=t.options.damping,t.options.damping=Math.max(u,.5)),m++}),l(n,"touchmove",function(g){if(!(Oi&&Oi!==t)){o.update(g);var S=o.getDelta(),w=S.x,k=S.y;t.addTransformableMomentum(w,k,g,function(M){M&&g.cancelable&&(g.preventDefault(),Oi=t)})}}),l(n,"touchcancel touchend",function(g){var S=o.getEasingDistance(u);t.addTransformableMomentum(S.x,S.y,g),m--,m===0&&(t.options.damping=u),o.release(g),Oi=null})}function k1(t){var n=Fr(t),o=t.options.delegateTo||t.containerEl,l="onwheel"in window||document.implementation.hasFeature("Events.wheel","3.0")?"wheel":"mousewheel";n(o,l,function(u){var m=T1(u),g=m.x,S=m.y;t.addTransformableMomentum(g,S,u,function(w){w&&u.preventDefault()})})}var _n={STANDARD:1,OTHERS:-3},ju=[1,28,500],M1=function(t){return ju[t]||ju[0]};function T1(t){if("deltaX"in t){var n=M1(t.deltaMode);return{x:t.deltaX/_n.STANDARD*n,y:t.deltaY/_n.STANDARD*n}}return"wheelDeltaX"in t?{x:t.wheelDeltaX/_n.OTHERS,y:t.wheelDeltaY/_n.OTHERS}:{x:0,y:t.wheelDelta/_n.OTHERS}}var zu=Object.freeze(Object.defineProperty({__proto__:null,keyboardHandler:v1,mouseHandler:y1,resizeHandler:x1,selectHandler:w1,touchHandler:S1,wheelHandler:k1},Symbol.toStringTag,{value:"Module"})),Ot=new Map,Wu=function(){function t(n,o){var l=this;this.offset={x:0,y:0},this.limit={x:1/0,y:1/0},this.bounding={top:0,right:0,bottom:0,left:0},this._plugins=[],this._momentum={x:0,y:0},this._listeners=new Set,this.containerEl=n;var u=this.contentEl=document.createElement("div");this.options=new Qx(o),n.setAttribute("data-scrollbar","true"),n.setAttribute("tabindex","-1"),hr(n,{overflow:"hidden",outline:"none"}),window.navigator.msPointerEnabled&&(n.style.msTouchAction="none"),u.className="scroll-content",Array.from(n.childNodes).forEach(function(w){u.appendChild(w)}),n.appendChild(u),this.track=new i1(this),this.size=this.getSize(),this._plugins=m1(this,this.options.plugins);var m=n.scrollLeft,g=n.scrollTop;n.scrollLeft=n.scrollTop=0,this.setPosition(m,g,{withoutCallbacks:!0});var S=window.ResizeObserver;typeof S=="function"&&(this._observer=new S(function(){l.update()}),this._observer.observe(u)),Ot.set(n,this),requestAnimationFrame(function(){l._init()})}return Object.defineProperty(t.prototype,"parent",{get:function(){for(var n=this.containerEl.parentElement;n;){var o=Ot.get(n);if(o)return o;n=n.parentElement}return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollTop",{get:function(){return this.offset.y},set:function(n){this.setPosition(this.scrollLeft,n)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollLeft",{get:function(){return this.offset.x},set:function(n){this.setPosition(n,this.scrollTop)},enumerable:!0,configurable:!0}),t.prototype.getSize=function(){return a1(this)},t.prototype.update=function(){s1(this),this._plugins.forEach(function(n){n.onUpdate()})},t.prototype.isVisible=function(n){return o1(this,n)},t.prototype.setPosition=function(n,o,l){var u=this;n===void 0&&(n=this.offset.x),o===void 0&&(o=this.offset.y),l===void 0&&(l={});var m=l1(this,n,o);!m||l.withoutCallbacks||this._listeners.forEach(function(g){g.call(u,m)})},t.prototype.scrollTo=function(n,o,l,u){n===void 0&&(n=this.offset.x),o===void 0&&(o=this.offset.y),l===void 0&&(l=0),u===void 0&&(u={}),c1(this,n,o,l,u)},t.prototype.scrollIntoView=function(n,o){o===void 0&&(o={}),d1(this,n,o)},t.prototype.addListener=function(n){if(typeof n!="function")throw new TypeError("[smooth-scrollbar] scrolling listener should be a function");this._listeners.add(n)},t.prototype.removeListener=function(n){this._listeners.delete(n)},t.prototype.addTransformableMomentum=function(n,o,l,u){this._updateDebounced();var m=this._plugins.reduce(function(S,w){return w.transformDelta(S,l)||S},{x:n,y:o}),g=!this._shouldPropagateMomentum(m.x,m.y);g&&this.addMomentum(m.x,m.y),u&&u.call(this,g)},t.prototype.addMomentum=function(n,o){this.setMomentum(this._momentum.x+n,this._momentum.y+o)},t.prototype.setMomentum=function(n,o){this.limit.x===0&&(n=0),this.limit.y===0&&(o=0),this.options.renderByPixels&&(n=Math.round(n),o=Math.round(o)),this._momentum.x=n,this._momentum.y=o},t.prototype.updatePluginOptions=function(n,o){this._plugins.forEach(function(l){l.name===n&&Object.assign(l.options,o)})},t.prototype.destroy=function(){var n=this,o=n.containerEl,l=n.contentEl;Xx(this),this._listeners.clear(),this.setMomentum(0,0),cancelAnimationFrame(this._renderID),this._observer&&this._observer.disconnect(),Ot.delete(this.containerEl);for(var u=Array.from(l.childNodes);o.firstChild;)o.removeChild(o.firstChild);u.forEach(function(m){o.appendChild(m)}),hr(o,{overflow:""}),o.scrollTop=this.scrollTop,o.scrollLeft=this.scrollLeft,this._plugins.forEach(function(m){m.onDestroy()}),this._plugins.length=0},t.prototype._init=function(){var n=this;this.update(),Object.keys(zu).forEach(function(o){zu[o](n)}),this._plugins.forEach(function(o){o.onInit()}),this._render()},t.prototype._updateDebounced=function(){this.update()},t.prototype._shouldPropagateMomentum=function(n,o){n===void 0&&(n=0),o===void 0&&(o=0);var l=this,u=l.options,m=l.offset,g=l.limit;if(!u.continuousScrolling)return!1;g.x===0&&g.y===0&&this._updateDebounced();var S=ot(n+m.x,0,g.x),w=ot(o+m.y,0,g.y),k=!0;return k=k&&S===m.x,k=k&&w===m.y,k=k&&(m.x===g.x||m.x===0||m.y===g.y||m.y===0),k},t.prototype._render=function(){var n=this._momentum;if(n.x||n.y){var o=this._nextTick("x"),l=this._nextTick("y");n.x=o.momentum,n.y=l.momentum,this.setPosition(o.position,l.position)}var u=kt({},this._momentum);this._plugins.forEach(function(m){m.onRender(u)}),this._renderID=requestAnimationFrame(this._render.bind(this))},t.prototype._nextTick=function(n){var o=this,l=o.options,u=o.offset,m=o._momentum,g=u[n],S=m[n];if(Math.abs(S)<=.1)return{momentum:0,position:g+S};var w=S*(1-l.damping);return l.renderByPixels&&(w|=0),{momentum:w,position:g+S-w}},cr([Fu(100,{leading:!0})],t.prototype,"_updateDebounced",null),t}(),O1="rgba(222, 222, 222, .75)",P1="rgba(0, 0, 0, .5)",C1=`
[data-scrollbar] {
  display: block;
  position: relative;
}

.scroll-content {
  display: flow-root;
  -webkit-transform: translate3d(0, 0, 0);
          transform: translate3d(0, 0, 0);
}

.scrollbar-track {
  position: absolute;
  opacity: 0;
  z-index: 1;
  background: `+O1+`;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
  -webkit-transition: opacity 0.5s 0.5s ease-out;
          transition: opacity 0.5s 0.5s ease-out;
}
.scrollbar-track.show,
.scrollbar-track:hover {
  opacity: 1;
  -webkit-transition-delay: 0s;
          transition-delay: 0s;
}

.scrollbar-track-x {
  bottom: 0;
  left: 0;
  width: 100%;
  height: 8px;
}
.scrollbar-track-y {
  top: 0;
  right: 0;
  width: 8px;
  height: 100%;
}
.scrollbar-thumb {
  position: absolute;
  top: 0;
  left: 0;
  width: 8px;
  height: 8px;
  background: `+P1+`;
  border-radius: 4px;
}
`,Hu="smooth-scrollbar-style",Pi=!1;function Yu(){if(!(Pi||typeof window=="undefined")){var t=document.createElement("style");t.id=Hu,t.textContent=C1,document.head&&document.head.appendChild(t),Pi=!0}}function A1(){if(!(!Pi||typeof window=="undefined")){var t=document.getElementById(Hu);!t||!t.parentNode||(t.parentNode.removeChild(t),Pi=!1)}}var Jt=function(t){hh(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.init=function(o,l){if(!o||o.nodeType!==1)throw new TypeError("expect element to be DOM Element, but got "+o);return Yu(),Ot.has(o)?Ot.get(o):new Wu(o,l)},n.initAll=function(o){return Array.from(document.querySelectorAll("[data-scrollbar]"),function(l){return n.init(l,o)})},n.has=function(o){return Ot.has(o)},n.get=function(o){return Ot.get(o)},n.getAll=function(){return Array.from(Ot.values())},n.destroy=function(o){var l=Ot.get(o);l&&l.destroy()},n.destroyAll=function(){Ot.forEach(function(o){o.destroy()})},n.use=function(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return h1.apply(void 0,o)},n.attachStyle=function(){return Yu()},n.detachStyle=function(){return A1()},n.version="8.7.4",n.ScrollbarPlugin=f1,n}(Wu),D1=`.private-message-pane .private-messages{max-width:unset;display:flex;flex-direction:column;margin-left:0;flex-grow:1;height:100%}.private-message-pane .private-messages .inbox-messages{max-height:100%;flex-grow:1}.private-message-pane .private-messages .inbox-messages .message{padding:10px;margin:0 0 48px;background-color:#2a2e31}.private-message-pane .private-messages .inbox-messages .message .comment-content,.private-message-pane .private-messages .inbox-messages .message .comment-foot{margin-left:0;margin-right:0;padding:0!important}.private-message-pane .private-messages .inbox-messages .message .comment-foot{position:absolute;margin-top:20px;white-space:nowrap;left:0}.private-message-pane .private-messages .inbox-messages .message.message-own{background-color:var(--theme-main-color);color:#fff}.private-message-pane .private-messages .inbox-messages .message.message-own .comment-foot{position:absolute;margin-top:20px;white-space:nowrap;right:0;left:unset}.private-message-pane .private-messages .inbox-messages .message.message-own a{color:#ddd}.private-message-pane .private-messages .private-message-form{order:1;margin-bottom:0;display:flex;flex-shrink:0;padding:10px 10px 0}.private-message-pane .private-messages .private-message-form textarea{min-height:60px;margin-bottom:0;margin-right:10px;padding:10px;transition:height .1s linear}.private-message-pane .private-messages .private-message-form textarea:focus{height:100px}.private-message-pane .private-messages .private-message-form input[type=submit]{height:100%}.private-message-pane .conversations-pane{float:right;border-right:none;border-left:1px solid #252525;max-height:100%;padding-bottom:0}.private-message-pane .conversations-pane .conversation-tab{padding:8px 0 8px 10px}
`;class I1{constructor(){this.id="Chat",this.name="[WIP] Chat",this.description="Missbrauche die PMs als Chat."}async load(){this.overrideView(),ve(D1)}overrideView(){p.View.InboxMessages.Conversations=p.View.InboxMessages.Conversations.extend({show:function(){let n=this.$container.parents(".pane"),o=n.offset().top;n.addClass("private-message-pane"),n.css("height",`calc(100vh - ${o}px)`);let l=n.find(".conversations-pane").toArray();Jt.init(l[0],lr),this.parent()}}),p.View.InboxMessages.Messages=p.View.InboxMessages.Messages.extend({show:function(){this.data.messages.reverse(),this.parent();let n=this.$container.parents(".inbox-messages").toArray();const o=Jt.get(n[0]);o&&o.destroy(),Jt.init(n[0],lr).scrollTo(void 0,Number.MAX_VALUE)}})}}const Nr={SFW:0,NSFW:1,NSFL:2};class E1{constructor(){this.id="DefaultFilter",this.name="Standard Filter",this.description="Standardfilter, der mit dem Aufruf von pr0 gesetzt wird. Der Filter greift <b><u>nur</u> beim Aufruf der Content-Seite und beim Wechseln zwischen SFW/NSFW/NSFL.</b> Danach kann der Filter vom User angepasst werden. Der Filter greift <b><u>nicht</u> beim Betrachten von User-Uploads oder Sammlungen</b>",this.sfwFilter=ne.get(`${this.id}.settings.sfw_filter`),this.nsfwFilter=ne.get(`${this.id}.settings.nsfw_filter`),this.nsflFilter=ne.get(`${this.id}.settings.nsfl_filter`)}getSettings(){return[{id:"sfw_filter",title:"SFW Filter",description:'Standardfilter f\xFCr SFW (ohne f\xFChrendes !) <br />Beispiele:<ul><li> oc | "original content"</li><li> s:shit | s:500 & (oc | "original content")</li></ul>',type:"text"},{id:"nsfw_filter",title:"NSFW Filter",description:'Standardfilter f\xFCr NSFW (ohne f\xFChrendes !) <br />Beispiele:<ul><li> oc | "original content"</li><li> s:shit | s:500 & (oc | "original content")</li></ul>',type:"text"},{id:"nsfl_filter",title:"NSFL Filter",description:'Standardfilter f\xFCr NSFL (ohne f\xFChrendes !) <br />Beispiele:<ul><li> oc | "original content"</li><li> s:shit | s:500 & (oc | "original content")</li></ul>',type:"text"}]}async load(){if(p.location==="top"||p.location==="new"){const n=this.getFilter();if(n){const o="new/"+encodeURIComponent(n);p.navigateTo(o,p.NAVIGATE.SILENT)}}}getFilter(){const n=this.getCurrentFilters(),o=[];return n.includes(Nr.SFW)&&this.sfwFilter&&o.push(`${this.sfwFilter.trim()}`),n.includes(Nr.NSFW)&&this.nsfwFilter&&o.push(`${this.nsfwFilter.trim()}`),n.includes(Nr.NSFL)&&this.nsflFilter&&o.push(`${this.nsflFilter.trim()}`),o.length>0?"! "+o.filter(l=>!!l).map(l=>`(${l})`).join(" | "):""}getCurrentFilters(){const n=Number(p.user.flags);if(isNaN(n))throw new Error("Flags could not be parsed");const o=[];return(n&1<<0)!==0&&o.push(Nr.SFW),(n&1<<1)!==0&&o.push(Nr.NSFW),(n&1<<2)!==0&&o.push(Nr.NSFL),o}}class L1{constructor(){this.id="DesktopNotifications",this.name="Desktop Notifications",this.description="Informiert bei neuen Nachrichten",this.notifications=0}async load(){window.addEventListener("userSync",n=>{const o=n;o.data.inbox.messages>this.notifications&&GM.notification("Du hast "+(o.data.inbox.messages===1?"eine ungelesene Nachricht!":o.data.inbox.messages+" ungelesene Nachrichten!"),"pr0gramm","http://pr0gramm.com/media/pr0gramm-favicon.png",function(){window.focus(),window.location.href="/inbox/messages"}),this.notifications=o.data.inbox.messages})}}var F1=`.item-details .badge{padding:3px 5px;font-size:10px;margin-left:10px;border-radius:3px}.item-details .badge.sfw{background-color:#5cb85c}.item-details .badge.nsfw{background-color:#f0ad4e}.item-details .badge.nsfl{background-color:#d9534f}.item-details .badge.nsfp{background-color:#004085}.thumb.filter{position:relative;overflow:hidden}.thumb.filter:before{content:"";position:absolute;right:-10px;bottom:-10px;z-index:9;height:20px;width:20px;transform:rotate(45deg)}.thumb.filter.sfw:before{background-color:#5cb85c}.thumb.filter.nsfw:before{background-color:#f0ad4e}.thumb.filter.nsfl:before{background-color:#d9534f}.thumb.filter.nsfp:before{background-color:#004085}.thumb.filter>.benis-info{position:absolute;bottom:0;right:0;padding:2px 14px 2px 4px;background-color:#000c;font-size:10px;color:#f2f5f4;z-index:8;display:none}.thumb.filter>.benis-info.down{color:#d9534f}.thumb.filter>.sticky-badge:after{z-index:5}.thumb.filter:hover>.benis-info{display:inline}
`;class Sn{constructor(){this.id="FilterMarks",this.name="Filtermarkierung",this.description="Markiert Medien entsprechend ihres Filters.",this.displayLabelDetails=ne.get("FilterMarks.settings.detail_filters"),this.displayLabelStream=ne.get("FilterMarks.settings.stream_filters"),this.displayBenisStream=ne.get("FilterMarks.settings.stream_benis")}static displayFilterLabel(n,o){let l=Sn.getFilter(n),u=document.createElement("span");u.className="badge",u.classList.toggle(l),u.innerText=l.toUpperCase(),o.find(".item-details")[0].appendChild(u)}static getFilter(n){switch(n.flags){case 1:return"sfw";case 2:return"nsfw";case 4:return"nsfl";case 8:return"nsfp";default:throw new Error("Uknown Filter")}}getSettings(){return[{id:"stream_filters",title:"Filter in Streams",description:"Filterecken in Listen anzeigen?",type:"checkbox"},{id:"detail_filters",title:"Filter in Medienansicht",description:"Filterlabel in der Detailansicht einblenden?",type:"checkbox"},{id:"stream_benis",title:"Benis beim Mouseover",description:"Benis in der \xDCbersicht einblenden?",type:"checkbox"}]}async load(){this.overrideViews(),ve(F1)}overrideViews(){let n=this;(this.displayLabelStream||this.displayBenisStream)&&(p.View.Stream.Main.prototype.buildItem=function(o){const l=!p.mobile&&!!o.preview;return`
                    <a class="silent thumb filter ${n.displayLabelStream?Sn.getFilter(o):""}" ${l?'data-has-preview="true"':""} id="item-${o.id}" href="${this.baseURL+o.id}">
                        <img
                            width="128"
                            height="128"
                            onload="this.classList.add('loaded')"
                            onerror="this.parentElement.classList.add('error')"
                            src="${o.thumb}"
                        >
                        ${n.displayBenisStream?`
                        <span 
                            class="benis-info ${o.up-o.down>0?"up":"down"}">
                            ${o.up-o.down}
                        </span>`:""}
                        ${l?`
                        <video
                            class="inline-preview-video"
                            preload="none"
                            loop
                            muted
                            width="128"
                            height="128"
                            src="${o.preview}"
                        >`:""}
                        ${o.promoted>1e9?'<div class="sticky-badge"></div>':""}
                    </a>
                `}),this.displayLabelDetails&&(p.View.Stream.Item=p.View.Stream.Item.extend({show:function(o,l,u,m){this.parent(o,l,u,m),n.displayLabelDetails&&Sn.displayFilterLabel(l,this.$container)}})),xe.addVideoConstants()}}var R1={exports:{}};(function(t){var n=function(o){var l=Object.prototype,u=l.hasOwnProperty,m,g=typeof Symbol=="function"?Symbol:{},S=g.iterator||"@@iterator",w=g.asyncIterator||"@@asyncIterator",k=g.toStringTag||"@@toStringTag";function M(j,B,V){return Object.defineProperty(j,B,{value:V,enumerable:!0,configurable:!0,writable:!0}),j[B]}try{M({},"")}catch{M=function(B,V,re){return B[V]=re}}function T(j,B,V,re){var K=B&&B.prototype instanceof R?B:R,Se=Object.create(K.prototype),Ne=new qr(re||[]);return Se._invoke=wt(j,V,Ne),Se}o.wrap=T;function D(j,B,V){try{return{type:"normal",arg:j.call(B,V)}}catch(re){return{type:"throw",arg:re}}}var I="suspendedStart",L="suspendedYield",z="executing",N="completed",E={};function R(){}function Y(){}function Q(){}var Te={};M(Te,S,function(){return this});var me=Object.getPrototypeOf,Ce=me&&me(me($n([])));Ce&&Ce!==l&&u.call(Ce,S)&&(Te=Ce);var ee=Q.prototype=R.prototype=Object.create(Te);Y.prototype=Q,M(ee,"constructor",Q),M(Q,"constructor",Y),Y.displayName=M(Q,k,"GeneratorFunction");function te(j){["next","throw","return"].forEach(function(B){M(j,B,function(V){return this._invoke(B,V)})})}o.isGeneratorFunction=function(j){var B=typeof j=="function"&&j.constructor;return B?B===Y||(B.displayName||B.name)==="GeneratorFunction":!1},o.mark=function(j){return Object.setPrototypeOf?Object.setPrototypeOf(j,Q):(j.__proto__=Q,M(j,k,"GeneratorFunction")),j.prototype=Object.create(ee),j},o.awrap=function(j){return{__await:j}};function Oe(j,B){function V(Se,Ne,J,ke){var Ae=D(j[Se],j,Ne);if(Ae.type==="throw")ke(Ae.arg);else{var Nn=Ae.arg,De=Nn.value;return De&&typeof De=="object"&&u.call(De,"__await")?B.resolve(De.__await).then(function(Ut){V("next",Ut,J,ke)},function(Ut){V("throw",Ut,J,ke)}):B.resolve(De).then(function(Ut){Nn.value=Ut,J(Nn)},function(Ut){return V("throw",Ut,J,ke)})}}var re;function K(Se,Ne){function J(){return new B(function(ke,Ae){V(Se,Ne,ke,Ae)})}return re=re?re.then(J,J):J()}this._invoke=K}te(Oe.prototype),M(Oe.prototype,w,function(){return this}),o.AsyncIterator=Oe,o.async=function(j,B,V,re,K){K===void 0&&(K=Promise);var Se=new Oe(T(j,B,V,re),K);return o.isGeneratorFunction(B)?Se:Se.next().then(function(Ne){return Ne.done?Ne.value:Se.next()})};function wt(j,B,V){var re=I;return function(Se,Ne){if(re===z)throw new Error("Generator is already running");if(re===N){if(Se==="throw")throw Ne;return ra()}for(V.method=Se,V.arg=Ne;;){var J=V.delegate;if(J){var ke=Ve(J,V);if(ke){if(ke===E)continue;return ke}}if(V.method==="next")V.sent=V._sent=V.arg;else if(V.method==="throw"){if(re===I)throw re=N,V.arg;V.dispatchException(V.arg)}else V.method==="return"&&V.abrupt("return",V.arg);re=z;var Ae=D(j,B,V);if(Ae.type==="normal"){if(re=V.done?N:L,Ae.arg===E)continue;return{value:Ae.arg,done:V.done}}else Ae.type==="throw"&&(re=N,V.method="throw",V.arg=Ae.arg)}}}function Ve(j,B){var V=j.iterator[B.method];if(V===m){if(B.delegate=null,B.method==="throw"){if(j.iterator.return&&(B.method="return",B.arg=m,Ve(j,B),B.method==="throw"))return E;B.method="throw",B.arg=new TypeError("The iterator does not provide a 'throw' method")}return E}var re=D(V,j.iterator,B.arg);if(re.type==="throw")return B.method="throw",B.arg=re.arg,B.delegate=null,E;var K=re.arg;if(!K)return B.method="throw",B.arg=new TypeError("iterator result is not an object"),B.delegate=null,E;if(K.done)B[j.resultName]=K.value,B.next=j.nextLoc,B.method!=="return"&&(B.method="next",B.arg=m);else return K;return B.delegate=null,E}te(ee),M(ee,k,"Generator"),M(ee,S,function(){return this}),M(ee,"toString",function(){return"[object Generator]"});function nr(j){var B={tryLoc:j[0]};1 in j&&(B.catchLoc=j[1]),2 in j&&(B.finallyLoc=j[2],B.afterLoc=j[3]),this.tryEntries.push(B)}function Rn(j){var B=j.completion||{};B.type="normal",delete B.arg,j.completion=B}function qr(j){this.tryEntries=[{tryLoc:"root"}],j.forEach(nr,this),this.reset(!0)}o.keys=function(j){var B=[];for(var V in j)B.push(V);return B.reverse(),function re(){for(;B.length;){var K=B.pop();if(K in j)return re.value=K,re.done=!1,re}return re.done=!0,re}};function $n(j){if(j){var B=j[S];if(B)return B.call(j);if(typeof j.next=="function")return j;if(!isNaN(j.length)){var V=-1,re=function K(){for(;++V<j.length;)if(u.call(j,V))return K.value=j[V],K.done=!1,K;return K.value=m,K.done=!0,K};return re.next=re}}return{next:ra}}o.values=$n;function ra(){return{value:m,done:!0}}return qr.prototype={constructor:qr,reset:function(j){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(Rn),!j)for(var B in this)B.charAt(0)==="t"&&u.call(this,B)&&!isNaN(+B.slice(1))&&(this[B]=m)},stop:function(){this.done=!0;var j=this.tryEntries[0],B=j.completion;if(B.type==="throw")throw B.arg;return this.rval},dispatchException:function(j){if(this.done)throw j;var B=this;function V(ke,Ae){return Se.type="throw",Se.arg=j,B.next=ke,Ae&&(B.method="next",B.arg=m),!!Ae}for(var re=this.tryEntries.length-1;re>=0;--re){var K=this.tryEntries[re],Se=K.completion;if(K.tryLoc==="root")return V("end");if(K.tryLoc<=this.prev){var Ne=u.call(K,"catchLoc"),J=u.call(K,"finallyLoc");if(Ne&&J){if(this.prev<K.catchLoc)return V(K.catchLoc,!0);if(this.prev<K.finallyLoc)return V(K.finallyLoc)}else if(Ne){if(this.prev<K.catchLoc)return V(K.catchLoc,!0)}else if(J){if(this.prev<K.finallyLoc)return V(K.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(j,B){for(var V=this.tryEntries.length-1;V>=0;--V){var re=this.tryEntries[V];if(re.tryLoc<=this.prev&&u.call(re,"finallyLoc")&&this.prev<re.finallyLoc){var K=re;break}}K&&(j==="break"||j==="continue")&&K.tryLoc<=B&&B<=K.finallyLoc&&(K=null);var Se=K?K.completion:{};return Se.type=j,Se.arg=B,K?(this.method="next",this.next=K.finallyLoc,E):this.complete(Se)},complete:function(j,B){if(j.type==="throw")throw j.arg;return j.type==="break"||j.type==="continue"?this.next=j.arg:j.type==="return"?(this.rval=this.arg=j.arg,this.method="return",this.next="end"):j.type==="normal"&&B&&(this.next=B),E},finish:function(j){for(var B=this.tryEntries.length-1;B>=0;--B){var V=this.tryEntries[B];if(V.finallyLoc===j)return this.complete(V.completion,V.afterLoc),Rn(V),E}},catch:function(j){for(var B=this.tryEntries.length-1;B>=0;--B){var V=this.tryEntries[B];if(V.tryLoc===j){var re=V.completion;if(re.type==="throw"){var K=re.arg;Rn(V)}return K}}throw new Error("illegal catch attempt")},delegateYield:function(j,B,V){return this.delegate={iterator:$n(j),resultName:B,nextLoc:V},this.method==="next"&&(this.arg=m),E}},o}(t.exports);try{regeneratorRuntime=n}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}})(R1);var Ho=(t,n)=>`${t}-${n}-${Math.random().toString(16).slice(3,8)}`;const $1=Ho;let Vu=0;var Uu=({id:t,action:n,payload:o={}})=>{let l=t;return typeof l=="undefined"&&(l=$1("Job",Vu),Vu+=1),{id:l,action:n,payload:o}},Br={};let Yo=!1;Br.logging=Yo,Br.setLogging=t=>{Yo=t},Br.log=(...t)=>Yo?console.log.apply(globalThis,t):null;const N1=Uu,{log:Ci}=Br,B1=Ho;let Gu=0;var j1=()=>{const t=B1("Scheduler",Gu),n={},o={};let l=[];Gu+=1;const u=()=>l.length,m=()=>Object.keys(n).length,g=()=>{if(l.length!==0){const T=Object.keys(n);for(let D=0;D<T.length;D+=1)if(typeof o[T[D]]=="undefined"){l[0](n[T[D]]);break}}},S=(T,D)=>new Promise((I,L)=>{const z=N1({action:T,payload:D});l.push(async N=>{l.shift(),o[N.id]=z;try{I(await N[T].apply(globalThis,[...D,z.id]))}catch(E){L(E)}finally{delete o[N.id],g()}}),Ci(`[${t}]: Add ${z.id} to JobQueue`),Ci(`[${t}]: JobQueue length=${l.length}`),g()});return{addWorker:T=>(n[T.id]=T,Ci(`[${t}]: Add ${T.id}`),Ci(`[${t}]: Number of workers=${m()}`),g(),T.id),addJob:async(T,...D)=>{if(m()===0)throw Error(`[${t}]: You need to have at least one worker before adding jobs`);return S(T,D)},terminate:async()=>{Object.keys(n).forEach(async T=>{await n[T].terminate()}),l=[]},getQueueLen:u,getNumWorkers:m}};function z1(){return typeof window!="undefined"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process!="undefined"&&typeof process.versions=="object"&&!!process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0}var W1=z1;const H1=W1;var Y1=t=>{const n={};return typeof WorkerGlobalScope!="undefined"?n.type="webworker":H1()?n.type="electron":typeof window=="object"?n.type="browser":typeof process=="object"&&typeof vh=="function"&&(n.type="node"),typeof t=="undefined"?n:n[t]},Ai={exports:{}};(function(t,n){(function(o,l){t.exports=l()})(nn,function(){function o(){var l=arguments.length;if(l===0)throw new Error("resolveUrl requires at least one argument; got none.");var u=document.createElement("base");if(u.href=arguments[0],l===1)return u.href;var m=document.getElementsByTagName("head")[0];m.insertBefore(u,m.firstChild);for(var g=document.createElement("a"),S,w=1;w<l;w++)g.href=arguments[w],S=g.href,u.href=S;return m.removeChild(u),S}return o})})(Ai);const V1=Y1("type")==="browser"?Ai.exports:t=>t;var U1=t=>{const n=Ge({},t);return["corePath","workerPath","langPath"].forEach(o=>{typeof t[o]!="undefined"&&(n[o]=V1(n[o]))}),n},G1=t=>{const n=[],o=[],l=[],u=[],m=[];return t.blocks.forEach(g=>{g.paragraphs.forEach(S=>{S.lines.forEach(w=>{w.words.forEach(k=>{k.symbols.forEach(M=>{m.push(_t(Ge({},M),{page:t,block:g,paragraph:S,line:w,word:k}))}),u.push(_t(Ge({},k),{page:t,block:g,paragraph:S,line:w}))}),l.push(_t(Ge({},w),{page:t,block:g,paragraph:S}))}),o.push(_t(Ge({},S),{page:t,block:g}))}),n.push(_t(Ge({},g),{page:t}))}),_t(Ge({},t),{blocks:n,paragraphs:o,lines:l,words:u,symbols:m})},qu={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3},q1={defaultOEM:qu.DEFAULT},K1={name:"tesseract.js",version:"2.1.5",description:"Pure Javascript Multilingual OCR",main:"src/index.js",types:"src/index.d.ts",unpkg:"dist/tesseract.min.js",jsdelivr:"dist/tesseract.min.js",scripts:{start:"node scripts/server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json",prepublishOnly:"npm run build",wait:"rimraf dist && wait-on http://localhost:3000/dist/tesseract.dev.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:* test:node:all","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser-tpl":"mocha-headless-chrome -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:detect":"npm run test:browser-tpl -- -f ./tests/detect.test.html","test:browser:recognize":"npm run test:browser-tpl -- -f ./tests/recognize.test.html","test:browser:scheduler":"npm run test:browser-tpl -- -f ./tests/scheduler.test.html","test:browser:FS":"npm run test:browser-tpl -- -f ./tests/FS.test.html",lint:"eslint src","lint:fix":"eslint --fix src",postinstall:"opencollective-postinstall || true"},browser:{"./src/worker/node/index.js":"./src/worker/browser/index.js"},author:"",contributors:["jeromewu"],license:"Apache-2.0",devDependencies:{"@babel/core":"^7.7.7","@babel/preset-env":"^7.7.7",acorn:"^6.4.0","babel-loader":"^8.1.0",cors:"^2.8.5",eslint:"^7.2.0","eslint-config-airbnb-base":"^14.2.0","eslint-plugin-import":"^2.22.1","expect.js":"^0.3.1",express:"^4.17.1",mocha:"^8.1.3","mocha-headless-chrome":"^2.0.3","npm-run-all":"^4.1.5",nyc:"^15.1.0",rimraf:"^2.7.1","wait-on":"^3.3.0",webpack:"^4.44.2","webpack-bundle-analyzer":"^3.6.0","webpack-cli":"^3.3.12","webpack-dev-middleware":"^3.7.2"},dependencies:{"blueimp-load-image":"^3.0.0","bmp-js":"^0.1.0","file-type":"^12.4.1","idb-keyval":"^3.2.0","is-electron":"^2.2.0","is-url":"^1.2.4","jpeg-autorotate":"^7.1.1","node-fetch":"^2.6.0","opencollective-postinstall":"^2.0.2","regenerator-runtime":"^0.13.3","resolve-url":"^0.2.1","tesseract.js-core":"^2.2.0",zlibjs:"^0.3.1"},repository:{type:"git",url:"https://github.com/naptha/tesseract.js.git"},bugs:{url:"https://github.com/naptha/tesseract.js/issues"},homepage:"https://github.com/naptha/tesseract.js",collective:{type:"opencollective",url:"https://opencollective.com/tesseractjs"}},Q1={langPath:"https://tessdata.projectnaptha.com/4.0.0",workerBlobURL:!0,logger:()=>{}};const X1=Ai.exports,{version:Z1,dependencies:J1}=K1;var ew=_t(Ge({},Q1),{workerPath:typeof process!="undefined"&&{}.TESS_ENV==="development"?X1(`/dist/worker.dev.js?nocache=${Math.random().toString(36).slice(3)}`):`https://unpkg.com/tesseract.js@v${Z1}/dist/worker.min.js`,corePath:`https://unpkg.com/tesseract.js-core@v${J1["tesseract.js-core"].substring(1)}/tesseract-core.${typeof WebAssembly=="object"?"wasm":"asm"}.js`}),tw=({workerPath:t,workerBlobURL:n})=>{let o;if(Blob&&URL&&n){const l=new Blob([`importScripts("${t}");`],{type:"application/javascript"});o=new Worker(URL.createObjectURL(l))}else o=new Worker(t);return o},rw=t=>{t.terminate()},nw=(t,n)=>{t.onmessage=({data:o})=>{n(o)}},iw=async(t,n)=>{t.postMessage(n)},Pt={exports:{}};(function(t){(function(n){function o(m,g,S){var w=document.createElement("img"),k;function M(T,D){D&&console.log(D),T&&o.isInstanceOf("Blob",T)?(m=T,k=o.createObjectURL(m)):(k=m,S&&S.crossOrigin&&(w.crossOrigin=S.crossOrigin)),w.src=k}if(w.onerror=function(T){return o.onerror(w,T,m,k,g,S)},w.onload=function(T){return o.onload(w,T,m,k,g,S)},typeof m=="string")return o.hasMetaOption(S)?o.fetchBlob(m,M,S):M(),w;if(o.isInstanceOf("Blob",m)||o.isInstanceOf("File",m))return k=o.createObjectURL(m),k?(w.src=k,w):o.readFile(m,function(T){var D=T.target;D&&D.result?w.src=D.result:g&&g(T)})}var l=n.createObjectURL&&n||n.URL&&URL.revokeObjectURL&&URL||n.webkitURL&&webkitURL;function u(m,g){m&&m.slice(0,5)==="blob:"&&!(g&&g.noRevoke)&&o.revokeObjectURL(m)}o.hasMetaOption=function(m){return m&&m.meta},o.fetchBlob=function(m,g){g()},o.isInstanceOf=function(m,g){return Object.prototype.toString.call(g)==="[object "+m+"]"},o.transform=function(m,g,S,w,k){S(m,k)},o.onerror=function(m,g,S,w,k,M){u(w,M),k&&k.call(m,g)},o.onload=function(m,g,S,w,k,M){u(w,M),k&&o.transform(m,M,k,S,{originalWidth:m.naturalWidth||m.width,originalHeight:m.naturalHeight||m.height})},o.createObjectURL=function(m){return l?l.createObjectURL(m):!1},o.revokeObjectURL=function(m){return l?l.revokeObjectURL(m):!1},o.readFile=function(m,g,S){if(n.FileReader){var w=new FileReader;if(w.onload=w.onerror=g,S=S||"readAsDataURL",w[S])return w[S](m),w}return!1},t.exports?t.exports=o:n.loadImage=o})(typeof window!="undefined"&&window||nn)})(Pt);var Ku={exports:{}};(function(t){(function(n){t.exports?n(Pt.exports):n(window.loadImage)})(function(n){var o=n.transform;n.transform=function(l,u,m,g,S){o.call(n,n.scale(l,u,S),u,m,g,S)},n.transformCoordinates=function(){},n.getTransformedOptions=function(l,u){var m=u.aspectRatio,g,S,w,k;if(!m)return u;g={};for(S in u)Object.prototype.hasOwnProperty.call(u,S)&&(g[S]=u[S]);return g.crop=!0,w=l.naturalWidth||l.width,k=l.naturalHeight||l.height,w/k>m?(g.maxWidth=k*m,g.maxHeight=k):(g.maxWidth=w,g.maxHeight=w/m),g},n.renderImageToCanvas=function(l,u,m,g,S,w,k,M,T,D,I){var L=l.getContext("2d");return I.imageSmoothingEnabled===!1?L.imageSmoothingEnabled=!1:I.imageSmoothingQuality&&(L.imageSmoothingQuality=I.imageSmoothingQuality),L.drawImage(u,m,g,S,w,k,M,T,D),l},n.hasCanvasOption=function(l){return l.canvas||l.crop||!!l.aspectRatio},n.scale=function(l,u,m){u=u||{};var g=document.createElement("canvas"),S=l.getContext||n.hasCanvasOption(u)&&g.getContext,w=l.naturalWidth||l.width,k=l.naturalHeight||l.height,M=w,T=k,D,I,L,z,N,E,R,Y,Q,Te,me;function Ce(){var te=Math.max((L||M)/M,(z||T)/T);te>1&&(M*=te,T*=te)}function ee(){var te=Math.min((D||M)/M,(I||T)/T);te<1&&(M*=te,T*=te)}if(S&&(u=n.getTransformedOptions(l,u,m),R=u.left||0,Y=u.top||0,u.sourceWidth?(N=u.sourceWidth,u.right!==void 0&&u.left===void 0&&(R=w-N-u.right)):N=w-R-(u.right||0),u.sourceHeight?(E=u.sourceHeight,u.bottom!==void 0&&u.top===void 0&&(Y=k-E-u.bottom)):E=k-Y-(u.bottom||0),M=N,T=E),D=u.maxWidth,I=u.maxHeight,L=u.minWidth,z=u.minHeight,S&&D&&I&&u.crop?(M=D,T=I,me=N/E-D/I,me<0?(E=I*N/D,u.top===void 0&&u.bottom===void 0&&(Y=(k-E)/2)):me>0&&(N=D*E/I,u.left===void 0&&u.right===void 0&&(R=(w-N)/2))):((u.contain||u.cover)&&(L=D=D||L,z=I=I||z),u.cover?(ee(),Ce()):(Ce(),ee())),S){if(Q=u.pixelRatio,Q>1&&(g.style.width=M+"px",g.style.height=T+"px",M*=Q,T*=Q,g.getContext("2d").scale(Q,Q)),Te=u.downsamplingRatio,Te>0&&Te<1&&M<N&&T<E)for(;N*Te>M;)g.width=N*Te,g.height=E*Te,n.renderImageToCanvas(g,l,R,Y,N,E,0,0,g.width,g.height,u),R=0,Y=0,N=g.width,E=g.height,l=document.createElement("canvas"),l.width=N,l.height=E,n.renderImageToCanvas(l,g,0,0,N,E,0,0,N,E,u);return g.width=M,g.height=T,n.transformCoordinates(g,u),n.renderImageToCanvas(g,l,R,Y,N,E,0,0,M,T,u)}return l.width=M,l.height=T,l}})})(Ku);var Di={exports:{}};(function(t){(function(n){t.exports?n(Pt.exports):n(window.loadImage)})(function(n){var o=typeof Blob!="undefined"&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);n.blobSlice=o&&function(){var u=this.slice||this.webkitSlice||this.mozSlice;return u.apply(this,arguments)},n.metaDataParsers={jpeg:{65505:[],65517:[]}},n.parseMetaData=function(u,m,g,S){g=g||{},S=S||{};var w=this,k=g.maxMetaDataSize||262144,M=!(typeof DataView!="undefined"&&u&&u.size>=12&&u.type==="image/jpeg"&&n.blobSlice);(M||!n.readFile(n.blobSlice.call(u,0,k),function(T){if(T.target.error){console.log(T.target.error),m(S);return}var D=T.target.result,I=new DataView(D),L=2,z=I.byteLength-4,N=L,E,R,Y,Q;if(I.getUint16(0)===65496){for(;L<z&&(E=I.getUint16(L),E>=65504&&E<=65519||E===65534);){if(R=I.getUint16(L+2)+2,L+R>I.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if(Y=n.metaDataParsers.jpeg[E],Y&&!g.disableMetaDataParsers)for(Q=0;Q<Y.length;Q+=1)Y[Q].call(w,I,L,R,S,g);L+=R,N=L}!g.disableImageHead&&N>6&&(D.slice?S.imageHead=D.slice(0,N):S.imageHead=new Uint8Array(D).subarray(0,N))}else console.log("Invalid JPEG file: Missing JPEG marker.");m(S)},"readAsArrayBuffer"))&&m(S)},n.replaceHead=function(u,m,g){n.parseMetaData(u,function(S){g(new Blob([m,n.blobSlice.call(u,S.imageHead.byteLength)],{type:"image/jpeg"}))},{maxMetaDataSize:256,disableMetaDataParsers:!0})};var l=n.transform;n.transform=function(u,m,g,S,w){n.hasMetaOption(m)?n.parseMetaData(S,function(k){l.call(n,u,m,g,S,k)},m,w):l.apply(n,arguments)}})})(Di);var aw={exports:{}};(function(t){(function(n){t.exports?n(Pt.exports):n(window.loadImage)})(function(n){typeof fetch!="undefined"&&typeof Request!="undefined"?n.fetchBlob=function(o,l,u){fetch(new Request(o,u)).then(function(m){return m.blob()}).then(l).catch(function(m){l(null,m)})}:typeof XMLHttpRequest!="undefined"&&typeof ProgressEvent!="undefined"&&(n.fetchBlob=function(o,l,u){u=u||{};var m=new XMLHttpRequest;m.open(u.method||"GET",o),u.headers&&Object.keys(u.headers).forEach(function(g){m.setRequestHeader(g,u.headers[g])}),m.withCredentials=u.credentials==="include",m.responseType="blob",m.onload=function(){l(m.response)},m.onerror=m.onabort=m.ontimeout=function(g){l(null,g)},m.send(u.body)})})})(aw);var Qu={exports:{}};(function(t){(function(n){t.exports?n(Pt.exports,Di.exports):n(window.loadImage)})(function(n){function o(w){w&&(Object.defineProperty(this,"map",{value:this.privateIFDs[w].map}),Object.defineProperty(this,"tags",{value:this.tags&&this.tags[w]||{}}))}o.prototype.map={Orientation:274,Thumbnail:513,Exif:34665,GPSInfo:34853,Interoperability:40965},o.prototype.privateIFDs={34665:{name:"Exif",map:{}},34853:{name:"GPSInfo",map:{}},40965:{name:"Interoperability",map:{}}},o.prototype.get=function(w){return this[w]||this[this.map[w]]};function l(w,k,M){if(!M||k+M>w.byteLength){console.log("Invalid Exif data: Invalid thumbnail data.");return}return new Blob([w.buffer.slice(k,k+M)],{type:"image/jpeg"})}var u={1:{getValue:function(w,k){return w.getUint8(k)},size:1},2:{getValue:function(w,k){return String.fromCharCode(w.getUint8(k))},size:1,ascii:!0},3:{getValue:function(w,k,M){return w.getUint16(k,M)},size:2},4:{getValue:function(w,k,M){return w.getUint32(k,M)},size:4},5:{getValue:function(w,k,M){return w.getUint32(k,M)/w.getUint32(k+4,M)},size:8},9:{getValue:function(w,k,M){return w.getInt32(k,M)},size:4},10:{getValue:function(w,k,M){return w.getInt32(k,M)/w.getInt32(k+4,M)},size:8}};u[7]=u[1];function m(w,k,M,T,D,I){var L=u[T],z,N,E,R,Y,Q;if(!L){console.log("Invalid Exif data: Invalid tag type.");return}if(z=L.size*D,N=z>4?k+w.getUint32(M+8,I):M+8,N+z>w.byteLength){console.log("Invalid Exif data: Invalid data offset.");return}if(D===1)return L.getValue(w,N,I);for(E=[],R=0;R<D;R+=1)E[R]=L.getValue(w,N+R*L.size,I);if(L.ascii){for(Y="",R=0;R<E.length&&(Q=E[R],Q!=="\0");R+=1)Y+=Q;return Y}return E}function g(w,k,M,T,D,I,L,z){var N,E,R,Y,Q,Te;if(M+6>w.byteLength){console.log("Invalid Exif data: Invalid directory offset.");return}if(N=w.getUint16(M,T),E=M+2+12*N,E+4>w.byteLength){console.log("Invalid Exif data: Invalid directory size.");return}for(R=0;R<N;R+=1)Y=M+2+12*R,Q=w.getUint16(Y,T),!(L&&!L[Q])&&(z&&z[Q]===!0||(Te=m(w,k,Y,w.getUint16(Y+2,T),w.getUint32(Y+4,T),T),D[Q]=Te,I&&(I[Q]=Y)));return w.getUint32(E,T)}function S(w,k,M,T,D,I,L){var z=w.exif[k];z&&(w.exif[k]=new o(k),w.exifOffsets&&(w.exifOffsets[k]=new o(k)),g(M,T,T+z,D,w.exif[k],w.exifOffsets&&w.exifOffsets[k],I&&I[k],L&&L[k]))}n.parseExifData=function(w,k,M,T,D){if(!D.disableExif){var I=D.includeExifTags,L=D.excludeExifTags||{34665:{37500:!0}},z=k+10,N,E,R;if(w.getUint32(k+4)===1165519206){if(z+8>w.byteLength){console.log("Invalid Exif data: Invalid segment size.");return}if(w.getUint16(k+8)!==0){console.log("Invalid Exif data: Missing byte alignment offset.");return}switch(w.getUint16(z)){case 18761:N=!0;break;case 19789:N=!1;break;default:console.log("Invalid Exif data: Invalid byte alignment marker.");return}if(w.getUint16(z+2,N)!==42){console.log("Invalid Exif data: Missing TIFF marker.");return}E=w.getUint32(z+4,N),T.exif=new o,D.disableExifOffsets||(T.exifOffsets=new o,T.exifTiffOffset=z,T.exifLittleEndian=N),E=g(w,z,z+E,N,T.exif,T.exifOffsets,I,L),E&&!D.disableExifThumbnail&&(E=g(w,z,z+E,N,T.exif,T.exifOffsets,I,L),T.exif[513]&&T.exif[514]&&(T.exif[513]=l(w,z+T.exif[513],T.exif[514]))),R=Object.keys(T.exif.privateIFDs),R.forEach(function(Y){S(T,Y,w,z,N,I,L)})}}},n.metaDataParsers.jpeg[65505].push(n.parseExifData),n.exifWriters={274:function(w,k,M){var T=new DataView(w,k.exifOffsets[274]+8,2);return T.setUint16(0,M,k.exifLittleEndian),w}},n.writeExifData=function(w,k,M,T){n.exifWriters[k.exif.map[M]](w,k,T)},n.ExifMap=o})})(Qu);var ow={exports:{}};(function(t){(function(n){t.exports?n(Pt.exports,Qu.exports):n(window.loadImage)})(function(n){var o=n.ExifMap.prototype;o.tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",34665:{36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber"},34853:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},40965:{1:"InteroperabilityIndex"}},o.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},o.getText=function(l){var u=this.get(l);switch(l){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[l][u];case"ExifVersion":case"FlashpixVersion":return u?String.fromCharCode(u[0],u[1],u[2],u[3]):void 0;case"ComponentsConfiguration":return u?this.stringValues[l][u[0]]+this.stringValues[l][u[1]]+this.stringValues[l][u[2]]+this.stringValues[l][u[3]]:void 0;case"GPSVersionID":return u?u[0]+"."+u[1]+"."+u[2]+"."+u[3]:void 0}return String(u)},o.getAll=function(){var l={},u,m,g;for(u in this)Object.prototype.hasOwnProperty.call(this,u)&&(m=this[u],m&&m.getAll?l[this.privateIFDs[u].name]=m.getAll():(g=this.tags[u],g&&(l[g]=this.getText(g))));return l},o.getName=function(l){var u=this.tags[l];return typeof u=="object"?this.privateIFDs[l].name:u},function(){var l=o.tags,u,m,g;for(u in l)if(Object.prototype.hasOwnProperty.call(l,u))if(m=o.privateIFDs[u],m){g=l[u];for(u in g)Object.prototype.hasOwnProperty.call(g,u)&&(m.map[g[u]]=Number(u))}else o.map[l[u]]=Number(u)}()})})(ow);var Xu={exports:{}};(function(t){(function(n){t.exports?n(Pt.exports,Di.exports):n(window.loadImage)})(function(n){function o(){}o.prototype.map={ObjectName:5},o.prototype.types={0:"Uint16",200:"Uint16",201:"Uint16",202:"binary"},o.prototype.get=function(k){return this[k]||this[this.map[k]]};function l(k,M,T){for(var D="",I=M+T,L=M;L<I;L+=1)D+=String.fromCharCode(k.getUint8(L));return D}function u(k,M,T,D,I){return M.types[k]==="binary"?new Blob([T.buffer.slice(D,D+I)]):M.types[k]==="Uint16"?T.getUint16(D):l(T,D,I)}function m(k,M){return k===void 0?M:k instanceof Array?(k.push(M),k):[k,M]}function g(k,M,T,D,I,L){for(var z,N,E,R=M+T,Y=M;Y<R;)k.getUint8(Y)===28&&k.getUint8(Y+1)===2&&(E=k.getUint8(Y+2),(!I||I[E])&&(!L||!L[E])&&(N=k.getInt16(Y+3),z=u(E,D.iptc,k,Y+5,N),D.iptc[E]=m(D.iptc[E],z),D.iptcOffsets&&(D.iptcOffsets[E]=Y))),Y+=1}function S(k,M){return k.getUint32(M)===943868237&&k.getUint16(M+4)===1028}function w(k,M){var T=k.getUint8(M+7);return T%2!==0&&(T+=1),T===0&&(T=4),T}n.parseIptcData=function(k,M,T,D,I){if(!I.disableIptc)for(var L=M+T;M+8<L;){if(S(k,M)){var z=w(k,M),N=M+8+z;if(N>L){console.log("Invalid IPTC data: Invalid segment offset.");break}var E=k.getUint16(M+6+z);if(M+E>L){console.log("Invalid IPTC data: Invalid segment size.");break}D.iptc=new o,I.disableIptcOffsets||(D.iptcOffsets=new o),g(k,N,E,D,I.includeIptcTags,I.excludeIptcTags||{202:!0});return}M+=1}},n.metaDataParsers.jpeg[65517].push(n.parseIptcData),n.IptcMap=o})})(Xu);var sw={exports:{}};(function(t){(function(n){t.exports?n(Pt.exports,Xu.exports):n(window.loadImage)})(function(n){var o=n.IptcMap.prototype;o.tags={0:"ApplicationRecordVersion",3:"ObjectTypeReference",4:"ObjectAttributeReference",5:"ObjectName",7:"EditStatus",8:"EditorialUpdate",10:"Urgency",12:"SubjectReference",15:"Category",20:"SupplementalCategories",22:"FixtureIdentifier",25:"Keywords",26:"ContentLocationCode",27:"ContentLocationName",30:"ReleaseDate",35:"ReleaseTime",37:"ExpirationDate",38:"ExpirationTime",40:"SpecialInstructions",42:"ActionAdvised",45:"ReferenceService",47:"ReferenceDate",50:"ReferenceNumber",55:"DateCreated",60:"TimeCreated",62:"DigitalCreationDate",63:"DigitalCreationTime",65:"OriginatingProgram",70:"ProgramVersion",75:"ObjectCycle",80:"Byline",85:"BylineTitle",90:"City",92:"Sublocation",95:"State",100:"CountryCode",101:"Country",103:"OriginalTransmissionReference",105:"Headline",110:"Credit",115:"Source",116:"CopyrightNotice",118:"Contact",120:"Caption",121:"LocalCaption",122:"Writer",125:"RasterizedCaption",130:"ImageType",131:"ImageOrientation",135:"LanguageIdentifier",150:"AudioType",151:"AudioSamplingRate",152:"AudioSamplingResolution",153:"AudioDuration",154:"AudioOutcue",184:"JobID",185:"MasterDocumentID",186:"ShortDocumentID",187:"UniqueDocumentID",188:"OwnerID",200:"ObjectPreviewFileFormat",201:"ObjectPreviewFileVersion",202:"ObjectPreviewData",221:"Prefs",225:"ClassifyState",228:"SimilarityIndex",230:"DocumentNotes",231:"DocumentHistory",232:"ExifCameraInfo",255:"CatalogSets"},o.stringValues={10:{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"},75:{a:"Morning",b:"Both Morning and Evening",p:"Evening"},131:{L:"Landscape",P:"Portrait",S:"Square"}},o.getText=function(l){var u=this.get(l),m=this.map[l],g=this.stringValues[m];return g?g[u]:String(u)},o.getAll=function(){var l={},u,m;for(u in this)Object.prototype.hasOwnProperty.call(this,u)&&(m=this.tags[u],m&&(l[m]=this.getText(m)));return l},o.getName=function(l){return this.tags[l]},function(){var l=o.tags,u=o.map||{},m;for(m in l)Object.prototype.hasOwnProperty.call(l,m)&&(u[l[m]]=Number(m))}()})})(sw);var lw={exports:{}};(function(t){(function(n){t.exports?n(Pt.exports,Ku.exports,Di.exports):n(window.loadImage)})(function(n){var o=n.hasCanvasOption,l=n.hasMetaOption,u=n.transformCoordinates,m=n.getTransformedOptions;(function(){var g="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==",S=document.createElement("img");S.onload=function(){n.orientation=S.width===1&&S.height===2},S.src=g})(),n.hasCanvasOption=function(g){return!!g.orientation&&!n.orientation||g.orientation>1&&g.orientation<9||o.call(n,g)},n.hasMetaOption=function(g){return g&&g.orientation===!0&&!n.orientation||l.call(n,g)},n.transformCoordinates=function(g,S){u.call(n,g,S);var w=g.getContext("2d"),k=g.width,M=g.height,T=g.style.width,D=g.style.height,I=S.orientation;if(I>1&&I<9)switch(I>4&&(g.width=M,g.height=k,g.style.width=D,g.style.height=T),I){case 2:w.translate(k,0),w.scale(-1,1);break;case 3:w.translate(k,M),w.rotate(Math.PI);break;case 4:w.translate(0,M),w.scale(1,-1);break;case 5:w.rotate(.5*Math.PI),w.scale(1,-1);break;case 6:w.rotate(.5*Math.PI),w.translate(0,-M);break;case 7:w.rotate(.5*Math.PI),w.translate(k,-M),w.scale(-1,1);break;case 8:w.rotate(-.5*Math.PI),w.translate(-k,0);break}},n.getTransformedOptions=function(g,S,w){var k=m.call(n,g,S),M=k.orientation,T,D;if(M===!0){if(n.orientation)return k;M=w&&w.exif&&w.exif.get("Orientation")}if(!(M>1&&M<9))return k;T={};for(D in k)Object.prototype.hasOwnProperty.call(k,D)&&(T[D]=k[D]);switch(T.orientation=M,M){case 2:T.left=k.right,T.right=k.left;break;case 3:T.left=k.right,T.top=k.bottom,T.right=k.left,T.bottom=k.top;break;case 4:T.top=k.bottom,T.bottom=k.top;break;case 5:T.left=k.top,T.top=k.left,T.right=k.bottom,T.bottom=k.right;break;case 6:T.left=k.top,T.top=k.right,T.right=k.bottom,T.bottom=k.left;break;case 7:T.left=k.bottom,T.top=k.right,T.right=k.top,T.bottom=k.left;break;case 8:T.left=k.bottom,T.top=k.left,T.right=k.top,T.bottom=k.right;break}return T.orientation>4&&(T.maxWidth=k.maxHeight,T.maxHeight=k.maxWidth,T.minWidth=k.minHeight,T.minHeight=k.minWidth,T.sourceWidth=k.sourceHeight,T.sourceHeight=k.sourceWidth),T}})})(lw);var cw=Pt.exports;const Zu=Ai.exports,uw=cw,Vo=t=>new Promise((n,o)=>{const l=new FileReader;l.onload=()=>{n(l.result)},l.onerror=({target:{error:{code:u}}})=>{o(Error(`File could not be read! Code=${u}`))},l.readAsArrayBuffer(t)}),Ju=t=>new Promise(n=>{uw(t,o=>o.toBlob(n),{orientation:!0,canvas:!0})}),Uo=async t=>{let n=t;if(typeof t=="undefined")return"undefined";if(typeof t=="string")if(t.endsWith(".pbm"))n=await(await fetch(Zu(t))).arrayBuffer();else{let o=t;/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(t)||(o=Zu(t)),n=await Vo(await Ju(o))}else if(t instanceof HTMLElement)t.tagName==="IMG"&&(n=await Uo(t.src)),t.tagName==="VIDEO"&&(n=await Uo(t.poster)),t.tagName==="CANVAS"&&await new Promise(o=>{t.toBlob(async l=>{n=await Vo(l),o()})});else if(t instanceof File||t instanceof Blob){let o=t;t.name.endsWith(".pbm")||(o=await Ju(o)),n=await Vo(o)}return new Uint8Array(n)};var dw=Uo,fw={defaultOptions:ew,spawnWorker:tw,terminateWorker:rw,onMessage:nw,send:iw,loadImage:dw};const hw=U1,mw=G1,pt=Uu,{log:ed}=Br,vw=Ho,{defaultOEM:pw}=q1,{defaultOptions:gw,spawnWorker:bw,terminateWorker:yw,onMessage:xw,loadImage:td,send:ww}=fw;let rd=0;var nd=(t={})=>{const n=vw("Worker",rd),Ce=hw(Ge(Ge({},gw),t)),{logger:o,errorHandler:l}=Ce,u=sh(Ce,["logger","errorHandler"]),m={},g={};let S=bw(u);rd+=1;const w=(ee,te)=>{m[ee]=te},k=(ee,te)=>{g[ee]=te},M=({id:ee,action:te,payload:Oe})=>new Promise((wt,Ve)=>{ed(`[${n}]: Start ${ee}, action=${te}`),w(te,wt),k(te,Ve),ww(S,{workerId:n,jobId:ee,action:te,payload:Oe})}),T=ee=>M(pt({id:ee,action:"load",payload:{options:u}})),D=(ee,te,Oe)=>M(pt({id:Oe,action:"FS",payload:{method:"writeFile",args:[ee,te]}})),I=(ee,te)=>M(pt({id:te,action:"FS",payload:{method:"readFile",args:[ee,{encoding:"utf8"}]}})),L=(ee,te)=>M(pt({id:te,action:"FS",payload:{method:"unlink",args:[ee]}})),z=(ee,te,Oe)=>M(pt({id:Oe,action:"FS",payload:{method:ee,args:te}})),N=(ee="eng",te)=>M(pt({id:te,action:"loadLanguage",payload:{langs:ee,options:u}})),E=(ee="eng",te=pw,Oe)=>M(pt({id:Oe,action:"initialize",payload:{langs:ee,oem:te}})),R=(ee={},te)=>M(pt({id:te,action:"setParameters",payload:{params:ee}})),Y=async(ee,te={},Oe)=>M(pt({id:Oe,action:"recognize",payload:{image:await td(ee),options:te}})),Q=(ee="Tesseract OCR Result",te=!1,Oe)=>M(pt({id:Oe,action:"getPDF",payload:{title:ee,textonly:te}})),Te=async(ee,te)=>M(pt({id:te,action:"detect",payload:{image:await td(ee)}})),me=async()=>(S!==null&&(yw(S),S=null),Promise.resolve());return xw(S,({workerId:ee,jobId:te,status:Oe,action:wt,data:Ve})=>{if(Oe==="resolve"){ed(`[${ee}]: Complete ${te}`);let nr=Ve;wt==="recognize"?nr=mw(Ve):wt==="getPDF"&&(nr=Array.from(_t(Ge({},Ve),{length:Object.keys(Ve).length}))),m[wt]({jobId:te,data:nr})}else if(Oe==="reject")if(g[wt](Ve),l)l(Ve);else throw Error(Ve);else Oe==="progress"&&o(_t(Ge({},Ve),{userJobId:te}))}),{id:n,worker:S,setResolve:w,setReject:k,load:T,writeText:D,readText:I,removeFile:L,FS:z,loadLanguage:N,initialize:E,setParameters:R,recognize:Y,getPDF:Q,detect:Te,terminate:me}};const id=nd;var _w={recognize:async(t,n,o)=>{const l=id(o);return await l.load(),await l.loadLanguage(n),await l.initialize(n),l.recognize(t).finally(async()=>{await l.terminate()})},detect:async(t,n)=>{const o=id(n);return await o.load(),await o.loadLanguage("osd"),await o.initialize("osd"),o.detect(t).finally(async()=>{await o.terminate()})}},Sw={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},kw={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12"};const Mw=j1,Tw=nd,Ow=_w,Pw=Sw,Cw=qu,Aw=kw,{setLogging:Dw}=Br;var Iw=Ge({languages:Pw,OEM:Cw,PSM:Aw,createScheduler:Mw,createWorker:Tw,setLogging:Dw},Ow),Ew=`<span class="fa fa-close close-popup"></span>
<pre class="content">test</pre>
`,Lw=`.ocr-button{position:absolute;top:20px;left:24px;color:#fff;opacity:.7;font-size:22px;text-shadow:0 0 3px #000;z-index:10}.ocr-button:hover{color:var(--theme-main-color);opacity:1;text-shadow:none;cursor:pointer}#ocr-popup{border-top:3px solid #2a2e31;max-height:40vh;display:none;overflow:hidden}#ocr-popup.visible{display:flex}#ocr-popup pre{padding:10px;font-family:sans-serif;text-align:center;width:100%}#ocr-popup .close-popup{position:fixed;font-size:20px;right:15px;margin-top:5px;cursor:pointer}#ocr-popup .close-popup:hover{color:var(--theme-main-color)}
`;class Fw{constructor(){this.id="ImageOCR",this.name="Texterkennung",this.description="Extrahiere Text aus Bildern.",this.searchWording="Verarbeite Bild..."}async load(){const n=document.createElement("div");n.id="ocr-popup",this.popup=n,this.$popup=$(this.popup),this.popup.innerHTML=Ew,this.textbox=this.$popup.find(".content")[0],this.close=this.$popup.find(".close-popup")[0],this.addButton(),ve(Lw)}addButton(){let n=this;p.View.Stream.Item=p.View.Stream.Item.extend({show:function(o,l,u,m){if(this.parent(o,l,u,m),l.video===!1){let g=this.$image.parent(),S=document.createElement("span");S.innerHTML='<span class="fa fa-search ocr-button"></span>',g[0].appendChild(S),S.addEventListener("click",()=>{$(".item-image-wrapper").after(n.popup),n.checkImage()}),n.close.addEventListener("click",()=>{n.togglePopup()})}}}),xe.addVideoConstants()}checkImage(){let n=document.getElementsByClassName("item-image-actual")[0];this.textbox.innerText=this.searchWording,this.popup.classList.add("visible"),GM.xmlHttpRequest({url:n.src,method:"GET",responseType:"arraybuffer",headers:{"cache-control":"no-cache","Upgrade-Insecure-Requests":"1"},onload:o=>{Iw.recognize(new Blob([new Uint8Array(o.response)]),"deu").then(l=>{this.togglePopup(l.data.text),Jt.init(this.popup,lr)}).catch(l=>{this.togglePopup()})}})}togglePopup(n){if(!n)return this.popup.classList.remove("visible"),!1;this.textbox.innerText=n}}var Rw=`<ul id="new-messages">
</ul>
<div>
    <a href="/inbox/all" class="action">Alle Benachrichtigungen</a>
</div>
`,$w=`<div>
    ##THUMB##
</div>
<a href="##URL##" class="content">
    <div class="headline">##TITLE##</div>
    <div class="text">##TEXT##</div>
    <span  class="user um##MARK##">##USER##</span>
    <span class="time permalink">##TIME##</span>
</a>
`,Nw=`#inbox-link{position:relative}#inbox-link.active{color:var(--theme-main-color)}#notification-center{display:none;position:fixed;top:52px;z-index:100;border:3px solid #2a2e31;background-color:#161618;box-shadow:2px 0 10px #000;min-width:300px;max-height:50vh;flex-direction:column}#notification-center.visible{display:flex}#notification-center>div{padding:10px;text-align:center;border-top:1px solid #252525}#notification-center #new-messages{padding-left:10px;margin:0}#notification-center #new-messages.loading{text-align:center;justify-content:center;padding:10px}#notification-center #new-messages.loading .fa-spin{font-size:24px}#notification-center #new-messages .simplebar-scrollbar{background:#2a2e31;right:0;border-radius:0}#notification-center #new-messages .simplebar-scrollbar.visible{opacity:1}#notification-center #new-messages li{align-items:center;justify-content:center;display:flex;opacity:.5}#notification-center #new-messages li:not(:last-child){border-bottom:1px solid #252525}#notification-center #new-messages li:hover{opacity:1}#notification-center #new-messages li:hover .headline{color:var(--theme-main-color)}#notification-center #new-messages li.new{opacity:1}#notification-center #new-messages li.new .message:before{content:"\\f0e0"}#notification-center #new-messages li.no-notifications{text-align:center;width:100%;padding:10px}#notification-center #new-messages li .headline{color:#fff;font-weight:700}#notification-center #new-messages li .comment-thumb{height:42px;width:42px}#notification-center #new-messages li .content{padding:10px;flex-grow:1}#notification-center #new-messages li .content small{display:block;font-size:12px;font-weight:400;color:#666}#notification-center #new-messages li .content .time{float:right}#notification-center #new-messages li .content .text{text-overflow:ellipsis;max-width:200px;color:#666;white-space:nowrap;overflow:hidden}#notification-center #new-messages li .content span{font-size:12px}#notification-center #new-messages li .message{width:42px;margin-left:4px;font-size:34px;margin-right:-4px}
`;class Go{constructor(){this.id="NotificationCenter",this.name="Nachrichten Schnellzugriff",this.description="\xD6ffnet neue Benachrichtigungen in einem kleinen Men\xFC",this.showUnreadMessages=ne.get("NotificationCenter.settings.show_unread_messages"),this.menuOpen=!1,this.icon=$("#inbox-link"),this.elem=document.createElement("div"),this.messageContainer=null,this.scrollbar=null}static getTitle(n){return n.thumb===null?"Private Nachricht":"Kommentar"}async load(){this.elem.innerHTML=Rw,this.elem.id="notification-center",document.querySelectorAll(".user-info.user-only")[0].appendChild(this.elem),this.messageContainer=document.getElementById("new-messages"),this.addListener(),ve(Nw)}getSettings(){return[{id:"show_unread_messages",title:"Ungelesene Nachrichten Anzeigen",description:"Zeigt auch ungelesene Nachrichten an, es werden allerdings nur gelesene hervorgehoben",type:"checkbox"}]}addListener(){this.icon.unbind("click"),this.icon[0].addEventListener("click",n=>{n.preventDefault(),n.stopPropagation(),this.toggleMenu()}),window.addEventListener("click",n=>{this.menuOpen&&($(n.target).parents("#notification-center")[0]||(n.preventDefault(),this.toggleMenu()))})}toggleMenu(){this.menuOpen=!this.menuOpen,this.icon[0].classList.toggle("active"),this.elem.classList.toggle("visible");const n=this.messageContainer;this.scrollbar&&this.scrollbar.destroy(),n&&(n.innerHTML='<span class="fa fa-spinner fa-spin"></span>',n.classList.add("loading"),this.getNotifications(!0).then(o=>{let l=o.messages,u=l.filter(m=>!m.read).length;if(n.innerHTML="",n.classList.remove("loading"),p.user.setInboxLink({notifications:0,mentions:0,messages:0,comments:0,follows:0}),u<=0){let m=document.createElement("li");if(m.innerText="Keine neuen Benachrichtigungen!",m.className="no-notifications",n.appendChild(m),!this.showUnreadMessages)return!1}l.filter(m=>m.message!==null).forEach(m=>{this.addEntry(Go.getTitle(m),m.name,m.created,m.thumb,m.mark,m.itemId,m.id,m.message,m.read)}),this.scrollbar=Jt.init(n,lr)}))}getNotifications(n=!1){return new Promise((o,l)=>{p.api.get(n?"inbox.all":"inbox.conversations",{},o,l)})}addEntry(n,o,l,u,m,g,S,w,k){var I;let M=document.createElement("li");M.id=`notification-${S}`;let T='<img src="//thumb.pr0gramm.com/##THUMB##" class="comment-thumb">',D=u?`/new/${g}:comment${S}`:`/inbox/messages/${o}`;u?T=T.replace("##THUMB",u):T='<span class="message fa fa-envelope-open"></span>',o===null&&(o="Systembenachrichtigung"),M.innerHTML=$w.replaceArray(["##TITLE##","##USER##","##TIME##","##THUMB##","##URL##","##MARK##","##TEXT##"],[n,o,new Intl.DateTimeFormat("de-DE",{dateStyle:"medium",timeStyle:"short"}).format(new Date(l*1e3)),T,D,m,xe.escapeHtml(w)]),$(M).on("click",L=>{L.preventDefault();const N=$(L.target).closest("a").first().attr("href");N&&(p.currentView=null,p.navigateTo(N.substring(1),p.NAVIGATE.FORCE))}),k||M.classList.add("new"),(I=this.messageContainer)==null||I.appendChild(M)}}//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var ad;function H(){return ad.apply(null,arguments)}function Bw(t){ad=t}function gt(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function mr(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function de(t,n){return Object.prototype.hasOwnProperty.call(t,n)}function qo(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var n;for(n in t)if(de(t,n))return!1;return!0}function qe(t){return t===void 0}function Nt(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function kn(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function od(t,n){var o=[],l,u=t.length;for(l=0;l<u;++l)o.push(n(t[l],l));return o}function er(t,n){for(var o in n)de(n,o)&&(t[o]=n[o]);return de(n,"toString")&&(t.toString=n.toString),de(n,"valueOf")&&(t.valueOf=n.valueOf),t}function Ct(t,n,o,l){return Ed(t,n,o,l,!0).utc()}function jw(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function oe(t){return t._pf==null&&(t._pf=jw()),t._pf}var Ko;Array.prototype.some?Ko=Array.prototype.some:Ko=function(t){var n=Object(this),o=n.length>>>0,l;for(l=0;l<o;l++)if(l in n&&t.call(this,n[l],l,n))return!0;return!1};function Qo(t){if(t._isValid==null){var n=oe(t),o=Ko.call(n.parsedDateParts,function(u){return u!=null}),l=!isNaN(t._d.getTime())&&n.overflow<0&&!n.empty&&!n.invalidEra&&!n.invalidMonth&&!n.invalidWeekday&&!n.weekdayMismatch&&!n.nullInput&&!n.invalidFormat&&!n.userInvalidated&&(!n.meridiem||n.meridiem&&o);if(t._strict&&(l=l&&n.charsLeftOver===0&&n.unusedTokens.length===0&&n.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=l;else return l}return t._isValid}function Ii(t){var n=Ct(NaN);return t!=null?er(oe(n),t):oe(n).userInvalidated=!0,n}var sd=H.momentProperties=[],Xo=!1;function Zo(t,n){var o,l,u,m=sd.length;if(qe(n._isAMomentObject)||(t._isAMomentObject=n._isAMomentObject),qe(n._i)||(t._i=n._i),qe(n._f)||(t._f=n._f),qe(n._l)||(t._l=n._l),qe(n._strict)||(t._strict=n._strict),qe(n._tzm)||(t._tzm=n._tzm),qe(n._isUTC)||(t._isUTC=n._isUTC),qe(n._offset)||(t._offset=n._offset),qe(n._pf)||(t._pf=oe(n)),qe(n._locale)||(t._locale=n._locale),m>0)for(o=0;o<m;o++)l=sd[o],u=n[l],qe(u)||(t[l]=u);return t}function Mn(t){Zo(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Xo===!1&&(Xo=!0,H.updateOffset(this),Xo=!1)}function bt(t){return t instanceof Mn||t!=null&&t._isAMomentObject!=null}function ld(t){H.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+t)}function lt(t,n){var o=!0;return er(function(){if(H.deprecationHandler!=null&&H.deprecationHandler(null,t),o){var l=[],u,m,g,S=arguments.length;for(m=0;m<S;m++){if(u="",typeof arguments[m]=="object"){u+=`
[`+m+"] ";for(g in arguments[0])de(arguments[0],g)&&(u+=g+": "+arguments[0][g]+", ");u=u.slice(0,-2)}else u=arguments[m];l.push(u)}ld(t+`
Arguments: `+Array.prototype.slice.call(l).join("")+`
`+new Error().stack),o=!1}return n.apply(this,arguments)},n)}var cd={};function ud(t,n){H.deprecationHandler!=null&&H.deprecationHandler(t,n),cd[t]||(ld(n),cd[t]=!0)}H.suppressDeprecationWarnings=!1,H.deprecationHandler=null;function At(t){return typeof Function!="undefined"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function zw(t){var n,o;for(o in t)de(t,o)&&(n=t[o],At(n)?this[o]=n:this["_"+o]=n);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Jo(t,n){var o=er({},t),l;for(l in n)de(n,l)&&(mr(t[l])&&mr(n[l])?(o[l]={},er(o[l],t[l]),er(o[l],n[l])):n[l]!=null?o[l]=n[l]:delete o[l]);for(l in t)de(t,l)&&!de(n,l)&&mr(t[l])&&(o[l]=er({},o[l]));return o}function es(t){t!=null&&this.set(t)}var ts;Object.keys?ts=Object.keys:ts=function(t){var n,o=[];for(n in t)de(t,n)&&o.push(n);return o};var Ww={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Hw(t,n,o){var l=this._calendar[t]||this._calendar.sameElse;return At(l)?l.call(n,o):l}function Dt(t,n,o){var l=""+Math.abs(t),u=n-l.length,m=t>=0;return(m?o?"+":"":"-")+Math.pow(10,Math.max(0,u)).toString().substr(1)+l}var rs=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ei=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ns={},jr={};function X(t,n,o,l){var u=l;typeof l=="string"&&(u=function(){return this[l]()}),t&&(jr[t]=u),n&&(jr[n[0]]=function(){return Dt(u.apply(this,arguments),n[1],n[2])}),o&&(jr[o]=function(){return this.localeData().ordinal(u.apply(this,arguments),t)})}function Yw(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function Vw(t){var n=t.match(rs),o,l;for(o=0,l=n.length;o<l;o++)jr[n[o]]?n[o]=jr[n[o]]:n[o]=Yw(n[o]);return function(u){var m="",g;for(g=0;g<l;g++)m+=At(n[g])?n[g].call(u,t):n[g];return m}}function Li(t,n){return t.isValid()?(n=dd(n,t.localeData()),ns[n]=ns[n]||Vw(n),ns[n](t)):t.localeData().invalidDate()}function dd(t,n){var o=5;function l(u){return n.longDateFormat(u)||u}for(Ei.lastIndex=0;o>=0&&Ei.test(t);)t=t.replace(Ei,l),Ei.lastIndex=0,o-=1;return t}var Uw={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Gw(t){var n=this._longDateFormat[t],o=this._longDateFormat[t.toUpperCase()];return n||!o?n:(this._longDateFormat[t]=o.match(rs).map(function(l){return l==="MMMM"||l==="MM"||l==="DD"||l==="dddd"?l.slice(1):l}).join(""),this._longDateFormat[t])}var qw="Invalid date";function Kw(){return this._invalidDate}var Qw="%d",Xw=/\d{1,2}/;function Zw(t){return this._ordinal.replace("%d",t)}var Jw={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function e_(t,n,o,l){var u=this._relativeTime[o];return At(u)?u(t,n,o,l):u.replace(/%d/i,t)}function t_(t,n){var o=this._relativeTime[t>0?"future":"past"];return At(o)?o(n):o.replace(/%s/i,n)}var Tn={};function We(t,n){var o=t.toLowerCase();Tn[o]=Tn[o+"s"]=Tn[n]=t}function ct(t){return typeof t=="string"?Tn[t]||Tn[t.toLowerCase()]:void 0}function is(t){var n={},o,l;for(l in t)de(t,l)&&(o=ct(l),o&&(n[o]=t[l]));return n}var fd={};function He(t,n){fd[t]=n}function r_(t){var n=[],o;for(o in t)de(t,o)&&n.push({unit:o,priority:fd[o]});return n.sort(function(l,u){return l.priority-u.priority}),n}function Fi(t){return t%4===0&&t%100!==0||t%400===0}function ut(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function le(t){var n=+t,o=0;return n!==0&&isFinite(n)&&(o=ut(n)),o}function zr(t,n){return function(o){return o!=null?(hd(this,t,o),H.updateOffset(this,n),this):Ri(this,t)}}function Ri(t,n){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+n]():NaN}function hd(t,n,o){t.isValid()&&!isNaN(o)&&(n==="FullYear"&&Fi(t.year())&&t.month()===1&&t.date()===29?(o=le(o),t._d["set"+(t._isUTC?"UTC":"")+n](o,t.month(),Hi(o,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+n](o))}function n_(t){return t=ct(t),At(this[t])?this[t]():this}function i_(t,n){if(typeof t=="object"){t=is(t);var o=r_(t),l,u=o.length;for(l=0;l<u;l++)this[o[l].unit](t[o[l].unit])}else if(t=ct(t),At(this[t]))return this[t](n);return this}var md=/\d/,Je=/\d\d/,vd=/\d{3}/,as=/\d{4}/,$i=/[+-]?\d{6}/,we=/\d\d?/,pd=/\d\d\d\d?/,gd=/\d\d\d\d\d\d?/,Ni=/\d{1,3}/,os=/\d{1,4}/,Bi=/[+-]?\d{1,6}/,Wr=/\d+/,ji=/[+-]?\d+/,a_=/Z|[+-]\d\d:?\d\d/gi,zi=/Z|[+-]\d\d(?::?\d\d)?/gi,o_=/[+-]?\d+(\.\d{1,3})?/,On=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Wi;Wi={};function G(t,n,o){Wi[t]=At(n)?n:function(l,u){return l&&o?o:n}}function s_(t,n){return de(Wi,t)?Wi[t](n._strict,n._locale):new RegExp(l_(t))}function l_(t){return et(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(n,o,l,u,m){return o||l||u||m}))}function et(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ss={};function pe(t,n){var o,l=n,u;for(typeof t=="string"&&(t=[t]),Nt(n)&&(l=function(m,g){g[n]=le(m)}),u=t.length,o=0;o<u;o++)ss[t[o]]=l}function Pn(t,n){pe(t,function(o,l,u,m){u._w=u._w||{},n(o,u._w,u,m)})}function c_(t,n,o){n!=null&&de(ss,t)&&ss[t](n,o._a,o,t)}var Ye=0,Bt=1,It=2,Le=3,yt=4,jt=5,vr=6,u_=7,d_=8;function f_(t,n){return(t%n+n)%n}var Pe;Array.prototype.indexOf?Pe=Array.prototype.indexOf:Pe=function(t){var n;for(n=0;n<this.length;++n)if(this[n]===t)return n;return-1};function Hi(t,n){if(isNaN(t)||isNaN(n))return NaN;var o=f_(n,12);return t+=(n-o)/12,o===1?Fi(t)?29:28:31-o%7%2}X("M",["MM",2],"Mo",function(){return this.month()+1}),X("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),X("MMMM",0,0,function(t){return this.localeData().months(this,t)}),We("month","M"),He("month",8),G("M",we),G("MM",we,Je),G("MMM",function(t,n){return n.monthsShortRegex(t)}),G("MMMM",function(t,n){return n.monthsRegex(t)}),pe(["M","MM"],function(t,n){n[Bt]=le(t)-1}),pe(["MMM","MMMM"],function(t,n,o,l){var u=o._locale.monthsParse(t,l,o._strict);u!=null?n[Bt]=u:oe(o).invalidMonth=t});var h_="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),bd="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),yd=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,m_=On,v_=On;function p_(t,n){return t?gt(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||yd).test(n)?"format":"standalone"][t.month()]:gt(this._months)?this._months:this._months.standalone}function g_(t,n){return t?gt(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[yd.test(n)?"format":"standalone"][t.month()]:gt(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function b_(t,n,o){var l,u,m,g=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],l=0;l<12;++l)m=Ct([2e3,l]),this._shortMonthsParse[l]=this.monthsShort(m,"").toLocaleLowerCase(),this._longMonthsParse[l]=this.months(m,"").toLocaleLowerCase();return o?n==="MMM"?(u=Pe.call(this._shortMonthsParse,g),u!==-1?u:null):(u=Pe.call(this._longMonthsParse,g),u!==-1?u:null):n==="MMM"?(u=Pe.call(this._shortMonthsParse,g),u!==-1?u:(u=Pe.call(this._longMonthsParse,g),u!==-1?u:null)):(u=Pe.call(this._longMonthsParse,g),u!==-1?u:(u=Pe.call(this._shortMonthsParse,g),u!==-1?u:null))}function y_(t,n,o){var l,u,m;if(this._monthsParseExact)return b_.call(this,t,n,o);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),l=0;l<12;l++){if(u=Ct([2e3,l]),o&&!this._longMonthsParse[l]&&(this._longMonthsParse[l]=new RegExp("^"+this.months(u,"").replace(".","")+"$","i"),this._shortMonthsParse[l]=new RegExp("^"+this.monthsShort(u,"").replace(".","")+"$","i")),!o&&!this._monthsParse[l]&&(m="^"+this.months(u,"")+"|^"+this.monthsShort(u,""),this._monthsParse[l]=new RegExp(m.replace(".",""),"i")),o&&n==="MMMM"&&this._longMonthsParse[l].test(t))return l;if(o&&n==="MMM"&&this._shortMonthsParse[l].test(t))return l;if(!o&&this._monthsParse[l].test(t))return l}}function xd(t,n){var o;if(!t.isValid())return t;if(typeof n=="string"){if(/^\d+$/.test(n))n=le(n);else if(n=t.localeData().monthsParse(n),!Nt(n))return t}return o=Math.min(t.date(),Hi(t.year(),n)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](n,o),t}function wd(t){return t!=null?(xd(this,t),H.updateOffset(this,!0),this):Ri(this,"Month")}function x_(){return Hi(this.year(),this.month())}function w_(t){return this._monthsParseExact?(de(this,"_monthsRegex")||_d.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(de(this,"_monthsShortRegex")||(this._monthsShortRegex=m_),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function __(t){return this._monthsParseExact?(de(this,"_monthsRegex")||_d.call(this),t?this._monthsStrictRegex:this._monthsRegex):(de(this,"_monthsRegex")||(this._monthsRegex=v_),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function _d(){function t(g,S){return S.length-g.length}var n=[],o=[],l=[],u,m;for(u=0;u<12;u++)m=Ct([2e3,u]),n.push(this.monthsShort(m,"")),o.push(this.months(m,"")),l.push(this.months(m,"")),l.push(this.monthsShort(m,""));for(n.sort(t),o.sort(t),l.sort(t),u=0;u<12;u++)n[u]=et(n[u]),o[u]=et(o[u]);for(u=0;u<24;u++)l[u]=et(l[u]);this._monthsRegex=new RegExp("^("+l.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}X("Y",0,0,function(){var t=this.year();return t<=9999?Dt(t,4):"+"+t}),X(0,["YY",2],0,function(){return this.year()%100}),X(0,["YYYY",4],0,"year"),X(0,["YYYYY",5],0,"year"),X(0,["YYYYYY",6,!0],0,"year"),We("year","y"),He("year",1),G("Y",ji),G("YY",we,Je),G("YYYY",os,as),G("YYYYY",Bi,$i),G("YYYYYY",Bi,$i),pe(["YYYYY","YYYYYY"],Ye),pe("YYYY",function(t,n){n[Ye]=t.length===2?H.parseTwoDigitYear(t):le(t)}),pe("YY",function(t,n){n[Ye]=H.parseTwoDigitYear(t)}),pe("Y",function(t,n){n[Ye]=parseInt(t,10)});function Cn(t){return Fi(t)?366:365}H.parseTwoDigitYear=function(t){return le(t)+(le(t)>68?1900:2e3)};var Sd=zr("FullYear",!0);function S_(){return Fi(this.year())}function k_(t,n,o,l,u,m,g){var S;return t<100&&t>=0?(S=new Date(t+400,n,o,l,u,m,g),isFinite(S.getFullYear())&&S.setFullYear(t)):S=new Date(t,n,o,l,u,m,g),S}function An(t){var n,o;return t<100&&t>=0?(o=Array.prototype.slice.call(arguments),o[0]=t+400,n=new Date(Date.UTC.apply(null,o)),isFinite(n.getUTCFullYear())&&n.setUTCFullYear(t)):n=new Date(Date.UTC.apply(null,arguments)),n}function Yi(t,n,o){var l=7+n-o,u=(7+An(t,0,l).getUTCDay()-n)%7;return-u+l-1}function kd(t,n,o,l,u){var m=(7+o-l)%7,g=Yi(t,l,u),S=1+7*(n-1)+m+g,w,k;return S<=0?(w=t-1,k=Cn(w)+S):S>Cn(t)?(w=t+1,k=S-Cn(t)):(w=t,k=S),{year:w,dayOfYear:k}}function Dn(t,n,o){var l=Yi(t.year(),n,o),u=Math.floor((t.dayOfYear()-l-1)/7)+1,m,g;return u<1?(g=t.year()-1,m=u+zt(g,n,o)):u>zt(t.year(),n,o)?(m=u-zt(t.year(),n,o),g=t.year()+1):(g=t.year(),m=u),{week:m,year:g}}function zt(t,n,o){var l=Yi(t,n,o),u=Yi(t+1,n,o);return(Cn(t)-l+u)/7}X("w",["ww",2],"wo","week"),X("W",["WW",2],"Wo","isoWeek"),We("week","w"),We("isoWeek","W"),He("week",5),He("isoWeek",5),G("w",we),G("ww",we,Je),G("W",we),G("WW",we,Je),Pn(["w","ww","W","WW"],function(t,n,o,l){n[l.substr(0,1)]=le(t)});function M_(t){return Dn(t,this._week.dow,this._week.doy).week}var T_={dow:0,doy:6};function O_(){return this._week.dow}function P_(){return this._week.doy}function C_(t){var n=this.localeData().week(this);return t==null?n:this.add((t-n)*7,"d")}function A_(t){var n=Dn(this,1,4).week;return t==null?n:this.add((t-n)*7,"d")}X("d",0,"do","day"),X("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),X("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),X("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),X("e",0,0,"weekday"),X("E",0,0,"isoWeekday"),We("day","d"),We("weekday","e"),We("isoWeekday","E"),He("day",11),He("weekday",11),He("isoWeekday",11),G("d",we),G("e",we),G("E",we),G("dd",function(t,n){return n.weekdaysMinRegex(t)}),G("ddd",function(t,n){return n.weekdaysShortRegex(t)}),G("dddd",function(t,n){return n.weekdaysRegex(t)}),Pn(["dd","ddd","dddd"],function(t,n,o,l){var u=o._locale.weekdaysParse(t,l,o._strict);u!=null?n.d=u:oe(o).invalidWeekday=t}),Pn(["d","e","E"],function(t,n,o,l){n[l]=le(t)});function D_(t,n){return typeof t!="string"?t:isNaN(t)?(t=n.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function I_(t,n){return typeof t=="string"?n.weekdaysParse(t)%7||7:isNaN(t)?null:t}function ls(t,n){return t.slice(n,7).concat(t.slice(0,n))}var E_="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Md="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),L_="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),F_=On,R_=On,$_=On;function N_(t,n){var o=gt(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(n)?"format":"standalone"];return t===!0?ls(o,this._week.dow):t?o[t.day()]:o}function B_(t){return t===!0?ls(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function j_(t){return t===!0?ls(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function z_(t,n,o){var l,u,m,g=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],l=0;l<7;++l)m=Ct([2e3,1]).day(l),this._minWeekdaysParse[l]=this.weekdaysMin(m,"").toLocaleLowerCase(),this._shortWeekdaysParse[l]=this.weekdaysShort(m,"").toLocaleLowerCase(),this._weekdaysParse[l]=this.weekdays(m,"").toLocaleLowerCase();return o?n==="dddd"?(u=Pe.call(this._weekdaysParse,g),u!==-1?u:null):n==="ddd"?(u=Pe.call(this._shortWeekdaysParse,g),u!==-1?u:null):(u=Pe.call(this._minWeekdaysParse,g),u!==-1?u:null):n==="dddd"?(u=Pe.call(this._weekdaysParse,g),u!==-1||(u=Pe.call(this._shortWeekdaysParse,g),u!==-1)?u:(u=Pe.call(this._minWeekdaysParse,g),u!==-1?u:null)):n==="ddd"?(u=Pe.call(this._shortWeekdaysParse,g),u!==-1||(u=Pe.call(this._weekdaysParse,g),u!==-1)?u:(u=Pe.call(this._minWeekdaysParse,g),u!==-1?u:null)):(u=Pe.call(this._minWeekdaysParse,g),u!==-1||(u=Pe.call(this._weekdaysParse,g),u!==-1)?u:(u=Pe.call(this._shortWeekdaysParse,g),u!==-1?u:null))}function W_(t,n,o){var l,u,m;if(this._weekdaysParseExact)return z_.call(this,t,n,o);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),l=0;l<7;l++){if(u=Ct([2e3,1]).day(l),o&&!this._fullWeekdaysParse[l]&&(this._fullWeekdaysParse[l]=new RegExp("^"+this.weekdays(u,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[l]=new RegExp("^"+this.weekdaysShort(u,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[l]=new RegExp("^"+this.weekdaysMin(u,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[l]||(m="^"+this.weekdays(u,"")+"|^"+this.weekdaysShort(u,"")+"|^"+this.weekdaysMin(u,""),this._weekdaysParse[l]=new RegExp(m.replace(".",""),"i")),o&&n==="dddd"&&this._fullWeekdaysParse[l].test(t))return l;if(o&&n==="ddd"&&this._shortWeekdaysParse[l].test(t))return l;if(o&&n==="dd"&&this._minWeekdaysParse[l].test(t))return l;if(!o&&this._weekdaysParse[l].test(t))return l}}function H_(t){if(!this.isValid())return t!=null?this:NaN;var n=this._isUTC?this._d.getUTCDay():this._d.getDay();return t!=null?(t=D_(t,this.localeData()),this.add(t-n,"d")):n}function Y_(t){if(!this.isValid())return t!=null?this:NaN;var n=(this.day()+7-this.localeData()._week.dow)%7;return t==null?n:this.add(t-n,"d")}function V_(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var n=I_(t,this.localeData());return this.day(this.day()%7?n:n-7)}else return this.day()||7}function U_(t){return this._weekdaysParseExact?(de(this,"_weekdaysRegex")||cs.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(de(this,"_weekdaysRegex")||(this._weekdaysRegex=F_),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function G_(t){return this._weekdaysParseExact?(de(this,"_weekdaysRegex")||cs.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(de(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=R_),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function q_(t){return this._weekdaysParseExact?(de(this,"_weekdaysRegex")||cs.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(de(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=$_),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function cs(){function t(M,T){return T.length-M.length}var n=[],o=[],l=[],u=[],m,g,S,w,k;for(m=0;m<7;m++)g=Ct([2e3,1]).day(m),S=et(this.weekdaysMin(g,"")),w=et(this.weekdaysShort(g,"")),k=et(this.weekdays(g,"")),n.push(S),o.push(w),l.push(k),u.push(S),u.push(w),u.push(k);n.sort(t),o.sort(t),l.sort(t),u.sort(t),this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+n.join("|")+")","i")}function us(){return this.hours()%12||12}function K_(){return this.hours()||24}X("H",["HH",2],0,"hour"),X("h",["hh",2],0,us),X("k",["kk",2],0,K_),X("hmm",0,0,function(){return""+us.apply(this)+Dt(this.minutes(),2)}),X("hmmss",0,0,function(){return""+us.apply(this)+Dt(this.minutes(),2)+Dt(this.seconds(),2)}),X("Hmm",0,0,function(){return""+this.hours()+Dt(this.minutes(),2)}),X("Hmmss",0,0,function(){return""+this.hours()+Dt(this.minutes(),2)+Dt(this.seconds(),2)});function Td(t,n){X(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),n)})}Td("a",!0),Td("A",!1),We("hour","h"),He("hour",13);function Od(t,n){return n._meridiemParse}G("a",Od),G("A",Od),G("H",we),G("h",we),G("k",we),G("HH",we,Je),G("hh",we,Je),G("kk",we,Je),G("hmm",pd),G("hmmss",gd),G("Hmm",pd),G("Hmmss",gd),pe(["H","HH"],Le),pe(["k","kk"],function(t,n,o){var l=le(t);n[Le]=l===24?0:l}),pe(["a","A"],function(t,n,o){o._isPm=o._locale.isPM(t),o._meridiem=t}),pe(["h","hh"],function(t,n,o){n[Le]=le(t),oe(o).bigHour=!0}),pe("hmm",function(t,n,o){var l=t.length-2;n[Le]=le(t.substr(0,l)),n[yt]=le(t.substr(l)),oe(o).bigHour=!0}),pe("hmmss",function(t,n,o){var l=t.length-4,u=t.length-2;n[Le]=le(t.substr(0,l)),n[yt]=le(t.substr(l,2)),n[jt]=le(t.substr(u)),oe(o).bigHour=!0}),pe("Hmm",function(t,n,o){var l=t.length-2;n[Le]=le(t.substr(0,l)),n[yt]=le(t.substr(l))}),pe("Hmmss",function(t,n,o){var l=t.length-4,u=t.length-2;n[Le]=le(t.substr(0,l)),n[yt]=le(t.substr(l,2)),n[jt]=le(t.substr(u))});function Q_(t){return(t+"").toLowerCase().charAt(0)==="p"}var X_=/[ap]\.?m?\.?/i,Z_=zr("Hours",!0);function J_(t,n,o){return t>11?o?"pm":"PM":o?"am":"AM"}var Pd={calendar:Ww,longDateFormat:Uw,invalidDate:qw,ordinal:Qw,dayOfMonthOrdinalParse:Xw,relativeTime:Jw,months:h_,monthsShort:bd,week:T_,weekdays:E_,weekdaysMin:L_,weekdaysShort:Md,meridiemParse:X_},Me={},In={},En;function e2(t,n){var o,l=Math.min(t.length,n.length);for(o=0;o<l;o+=1)if(t[o]!==n[o])return o;return l}function Cd(t){return t&&t.toLowerCase().replace("_","-")}function t2(t){for(var n=0,o,l,u,m;n<t.length;){for(m=Cd(t[n]).split("-"),o=m.length,l=Cd(t[n+1]),l=l?l.split("-"):null;o>0;){if(u=Vi(m.slice(0,o).join("-")),u)return u;if(l&&l.length>=o&&e2(m,l)>=o-1)break;o--}n++}return En}function r2(t){return t.match("^[^/\\\\]*$")!=null}function Vi(t){var n=null,o;if(Me[t]===void 0&&typeof module!="undefined"&&module&&module.exports&&r2(t))try{n=En._abbr,o=require,o("./locale/"+t),tr(n)}catch{Me[t]=null}return Me[t]}function tr(t,n){var o;return t&&(qe(n)?o=Wt(t):o=ds(t,n),o?En=o:typeof console!="undefined"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),En._abbr}function ds(t,n){if(n!==null){var o,l=Pd;if(n.abbr=t,Me[t]!=null)ud("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),l=Me[t]._config;else if(n.parentLocale!=null)if(Me[n.parentLocale]!=null)l=Me[n.parentLocale]._config;else if(o=Vi(n.parentLocale),o!=null)l=o._config;else return In[n.parentLocale]||(In[n.parentLocale]=[]),In[n.parentLocale].push({name:t,config:n}),null;return Me[t]=new es(Jo(l,n)),In[t]&&In[t].forEach(function(u){ds(u.name,u.config)}),tr(t),Me[t]}else return delete Me[t],null}function n2(t,n){if(n!=null){var o,l,u=Pd;Me[t]!=null&&Me[t].parentLocale!=null?Me[t].set(Jo(Me[t]._config,n)):(l=Vi(t),l!=null&&(u=l._config),n=Jo(u,n),l==null&&(n.abbr=t),o=new es(n),o.parentLocale=Me[t],Me[t]=o),tr(t)}else Me[t]!=null&&(Me[t].parentLocale!=null?(Me[t]=Me[t].parentLocale,t===tr()&&tr(t)):Me[t]!=null&&delete Me[t]);return Me[t]}function Wt(t){var n;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return En;if(!gt(t)){if(n=Vi(t),n)return n;t=[t]}return t2(t)}function i2(){return ts(Me)}function fs(t){var n,o=t._a;return o&&oe(t).overflow===-2&&(n=o[Bt]<0||o[Bt]>11?Bt:o[It]<1||o[It]>Hi(o[Ye],o[Bt])?It:o[Le]<0||o[Le]>24||o[Le]===24&&(o[yt]!==0||o[jt]!==0||o[vr]!==0)?Le:o[yt]<0||o[yt]>59?yt:o[jt]<0||o[jt]>59?jt:o[vr]<0||o[vr]>999?vr:-1,oe(t)._overflowDayOfYear&&(n<Ye||n>It)&&(n=It),oe(t)._overflowWeeks&&n===-1&&(n=u_),oe(t)._overflowWeekday&&n===-1&&(n=d_),oe(t).overflow=n),t}var a2=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,o2=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,s2=/Z|[+-]\d\d(?::?\d\d)?/,Ui=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],hs=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],l2=/^\/?Date\((-?\d+)/i,c2=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,u2={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Ad(t){var n,o,l=t._i,u=a2.exec(l)||o2.exec(l),m,g,S,w,k=Ui.length,M=hs.length;if(u){for(oe(t).iso=!0,n=0,o=k;n<o;n++)if(Ui[n][1].exec(u[1])){g=Ui[n][0],m=Ui[n][2]!==!1;break}if(g==null){t._isValid=!1;return}if(u[3]){for(n=0,o=M;n<o;n++)if(hs[n][1].exec(u[3])){S=(u[2]||" ")+hs[n][0];break}if(S==null){t._isValid=!1;return}}if(!m&&S!=null){t._isValid=!1;return}if(u[4])if(s2.exec(u[4]))w="Z";else{t._isValid=!1;return}t._f=g+(S||"")+(w||""),vs(t)}else t._isValid=!1}function d2(t,n,o,l,u,m){var g=[f2(t),bd.indexOf(n),parseInt(o,10),parseInt(l,10),parseInt(u,10)];return m&&g.push(parseInt(m,10)),g}function f2(t){var n=parseInt(t,10);return n<=49?2e3+n:n<=999?1900+n:n}function h2(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function m2(t,n,o){if(t){var l=Md.indexOf(t),u=new Date(n[0],n[1],n[2]).getDay();if(l!==u)return oe(o).weekdayMismatch=!0,o._isValid=!1,!1}return!0}function v2(t,n,o){if(t)return u2[t];if(n)return 0;var l=parseInt(o,10),u=l%100,m=(l-u)/100;return m*60+u}function Dd(t){var n=c2.exec(h2(t._i)),o;if(n){if(o=d2(n[4],n[3],n[2],n[5],n[6],n[7]),!m2(n[1],o,t))return;t._a=o,t._tzm=v2(n[8],n[9],n[10]),t._d=An.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),oe(t).rfc2822=!0}else t._isValid=!1}function p2(t){var n=l2.exec(t._i);if(n!==null){t._d=new Date(+n[1]);return}if(Ad(t),t._isValid===!1)delete t._isValid;else return;if(Dd(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:H.createFromInputFallback(t)}H.createFromInputFallback=lt("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function Hr(t,n,o){return t!=null?t:n!=null?n:o}function g2(t){var n=new Date(H.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function ms(t){var n,o,l=[],u,m,g;if(!t._d){for(u=g2(t),t._w&&t._a[It]==null&&t._a[Bt]==null&&b2(t),t._dayOfYear!=null&&(g=Hr(t._a[Ye],u[Ye]),(t._dayOfYear>Cn(g)||t._dayOfYear===0)&&(oe(t)._overflowDayOfYear=!0),o=An(g,0,t._dayOfYear),t._a[Bt]=o.getUTCMonth(),t._a[It]=o.getUTCDate()),n=0;n<3&&t._a[n]==null;++n)t._a[n]=l[n]=u[n];for(;n<7;n++)t._a[n]=l[n]=t._a[n]==null?n===2?1:0:t._a[n];t._a[Le]===24&&t._a[yt]===0&&t._a[jt]===0&&t._a[vr]===0&&(t._nextDay=!0,t._a[Le]=0),t._d=(t._useUTC?An:k_).apply(null,l),m=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Le]=24),t._w&&typeof t._w.d!="undefined"&&t._w.d!==m&&(oe(t).weekdayMismatch=!0)}}function b2(t){var n,o,l,u,m,g,S,w,k;n=t._w,n.GG!=null||n.W!=null||n.E!=null?(m=1,g=4,o=Hr(n.GG,t._a[Ye],Dn(_e(),1,4).year),l=Hr(n.W,1),u=Hr(n.E,1),(u<1||u>7)&&(w=!0)):(m=t._locale._week.dow,g=t._locale._week.doy,k=Dn(_e(),m,g),o=Hr(n.gg,t._a[Ye],k.year),l=Hr(n.w,k.week),n.d!=null?(u=n.d,(u<0||u>6)&&(w=!0)):n.e!=null?(u=n.e+m,(n.e<0||n.e>6)&&(w=!0)):u=m),l<1||l>zt(o,m,g)?oe(t)._overflowWeeks=!0:w!=null?oe(t)._overflowWeekday=!0:(S=kd(o,l,u,m,g),t._a[Ye]=S.year,t._dayOfYear=S.dayOfYear)}H.ISO_8601=function(){},H.RFC_2822=function(){};function vs(t){if(t._f===H.ISO_8601){Ad(t);return}if(t._f===H.RFC_2822){Dd(t);return}t._a=[],oe(t).empty=!0;var n=""+t._i,o,l,u,m,g,S=n.length,w=0,k,M;for(u=dd(t._f,t._locale).match(rs)||[],M=u.length,o=0;o<M;o++)m=u[o],l=(n.match(s_(m,t))||[])[0],l&&(g=n.substr(0,n.indexOf(l)),g.length>0&&oe(t).unusedInput.push(g),n=n.slice(n.indexOf(l)+l.length),w+=l.length),jr[m]?(l?oe(t).empty=!1:oe(t).unusedTokens.push(m),c_(m,l,t)):t._strict&&!l&&oe(t).unusedTokens.push(m);oe(t).charsLeftOver=S-w,n.length>0&&oe(t).unusedInput.push(n),t._a[Le]<=12&&oe(t).bigHour===!0&&t._a[Le]>0&&(oe(t).bigHour=void 0),oe(t).parsedDateParts=t._a.slice(0),oe(t).meridiem=t._meridiem,t._a[Le]=y2(t._locale,t._a[Le],t._meridiem),k=oe(t).era,k!==null&&(t._a[Ye]=t._locale.erasConvertYear(k,t._a[Ye])),ms(t),fs(t)}function y2(t,n,o){var l;return o==null?n:t.meridiemHour!=null?t.meridiemHour(n,o):(t.isPM!=null&&(l=t.isPM(o),l&&n<12&&(n+=12),!l&&n===12&&(n=0)),n)}function x2(t){var n,o,l,u,m,g,S=!1,w=t._f.length;if(w===0){oe(t).invalidFormat=!0,t._d=new Date(NaN);return}for(u=0;u<w;u++)m=0,g=!1,n=Zo({},t),t._useUTC!=null&&(n._useUTC=t._useUTC),n._f=t._f[u],vs(n),Qo(n)&&(g=!0),m+=oe(n).charsLeftOver,m+=oe(n).unusedTokens.length*10,oe(n).score=m,S?m<l&&(l=m,o=n):(l==null||m<l||g)&&(l=m,o=n,g&&(S=!0));er(t,o||n)}function w2(t){if(!t._d){var n=is(t._i),o=n.day===void 0?n.date:n.day;t._a=od([n.year,n.month,o,n.hour,n.minute,n.second,n.millisecond],function(l){return l&&parseInt(l,10)}),ms(t)}}function _2(t){var n=new Mn(fs(Id(t)));return n._nextDay&&(n.add(1,"d"),n._nextDay=void 0),n}function Id(t){var n=t._i,o=t._f;return t._locale=t._locale||Wt(t._l),n===null||o===void 0&&n===""?Ii({nullInput:!0}):(typeof n=="string"&&(t._i=n=t._locale.preparse(n)),bt(n)?new Mn(fs(n)):(kn(n)?t._d=n:gt(o)?x2(t):o?vs(t):S2(t),Qo(t)||(t._d=null),t))}function S2(t){var n=t._i;qe(n)?t._d=new Date(H.now()):kn(n)?t._d=new Date(n.valueOf()):typeof n=="string"?p2(t):gt(n)?(t._a=od(n.slice(0),function(o){return parseInt(o,10)}),ms(t)):mr(n)?w2(t):Nt(n)?t._d=new Date(n):H.createFromInputFallback(t)}function Ed(t,n,o,l,u){var m={};return(n===!0||n===!1)&&(l=n,n=void 0),(o===!0||o===!1)&&(l=o,o=void 0),(mr(t)&&qo(t)||gt(t)&&t.length===0)&&(t=void 0),m._isAMomentObject=!0,m._useUTC=m._isUTC=u,m._l=o,m._i=t,m._f=n,m._strict=l,_2(m)}function _e(t,n,o,l){return Ed(t,n,o,l,!1)}var k2=lt("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=_e.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:Ii()}),M2=lt("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=_e.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:Ii()});function Ld(t,n){var o,l;if(n.length===1&&gt(n[0])&&(n=n[0]),!n.length)return _e();for(o=n[0],l=1;l<n.length;++l)(!n[l].isValid()||n[l][t](o))&&(o=n[l]);return o}function T2(){var t=[].slice.call(arguments,0);return Ld("isBefore",t)}function O2(){var t=[].slice.call(arguments,0);return Ld("isAfter",t)}var P2=function(){return Date.now?Date.now():+new Date},Ln=["year","quarter","month","week","day","hour","minute","second","millisecond"];function C2(t){var n,o=!1,l,u=Ln.length;for(n in t)if(de(t,n)&&!(Pe.call(Ln,n)!==-1&&(t[n]==null||!isNaN(t[n]))))return!1;for(l=0;l<u;++l)if(t[Ln[l]]){if(o)return!1;parseFloat(t[Ln[l]])!==le(t[Ln[l]])&&(o=!0)}return!0}function A2(){return this._isValid}function D2(){return xt(NaN)}function Gi(t){var n=is(t),o=n.year||0,l=n.quarter||0,u=n.month||0,m=n.week||n.isoWeek||0,g=n.day||0,S=n.hour||0,w=n.minute||0,k=n.second||0,M=n.millisecond||0;this._isValid=C2(n),this._milliseconds=+M+k*1e3+w*6e4+S*1e3*60*60,this._days=+g+m*7,this._months=+u+l*3+o*12,this._data={},this._locale=Wt(),this._bubble()}function qi(t){return t instanceof Gi}function ps(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function I2(t,n,o){var l=Math.min(t.length,n.length),u=Math.abs(t.length-n.length),m=0,g;for(g=0;g<l;g++)(o&&t[g]!==n[g]||!o&&le(t[g])!==le(n[g]))&&m++;return m+u}function Fd(t,n){X(t,0,0,function(){var o=this.utcOffset(),l="+";return o<0&&(o=-o,l="-"),l+Dt(~~(o/60),2)+n+Dt(~~o%60,2)})}Fd("Z",":"),Fd("ZZ",""),G("Z",zi),G("ZZ",zi),pe(["Z","ZZ"],function(t,n,o){o._useUTC=!0,o._tzm=gs(zi,t)});var E2=/([\+\-]|\d\d)/gi;function gs(t,n){var o=(n||"").match(t),l,u,m;return o===null?null:(l=o[o.length-1]||[],u=(l+"").match(E2)||["-",0,0],m=+(u[1]*60)+le(u[2]),m===0?0:u[0]==="+"?m:-m)}function bs(t,n){var o,l;return n._isUTC?(o=n.clone(),l=(bt(t)||kn(t)?t.valueOf():_e(t).valueOf())-o.valueOf(),o._d.setTime(o._d.valueOf()+l),H.updateOffset(o,!1),o):_e(t).local()}function ys(t){return-Math.round(t._d.getTimezoneOffset())}H.updateOffset=function(){};function L2(t,n,o){var l=this._offset||0,u;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=gs(zi,t),t===null)return this}else Math.abs(t)<16&&!o&&(t=t*60);return!this._isUTC&&n&&(u=ys(this)),this._offset=t,this._isUTC=!0,u!=null&&this.add(u,"m"),l!==t&&(!n||this._changeInProgress?Bd(this,xt(t-l,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,H.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?l:ys(this)}function F2(t,n){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,n),this):-this.utcOffset()}function R2(t){return this.utcOffset(0,t)}function $2(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(ys(this),"m")),this}function N2(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=gs(a_,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function B2(t){return this.isValid()?(t=t?_e(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function j2(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function z2(){if(!qe(this._isDSTShifted))return this._isDSTShifted;var t={},n;return Zo(t,this),t=Id(t),t._a?(n=t._isUTC?Ct(t._a):_e(t._a),this._isDSTShifted=this.isValid()&&I2(t._a,n.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function W2(){return this.isValid()?!this._isUTC:!1}function H2(){return this.isValid()?this._isUTC:!1}function Rd(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Y2=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,V2=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function xt(t,n){var o=t,l=null,u,m,g;return qi(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:Nt(t)||!isNaN(+t)?(o={},n?o[n]=+t:o.milliseconds=+t):(l=Y2.exec(t))?(u=l[1]==="-"?-1:1,o={y:0,d:le(l[It])*u,h:le(l[Le])*u,m:le(l[yt])*u,s:le(l[jt])*u,ms:le(ps(l[vr]*1e3))*u}):(l=V2.exec(t))?(u=l[1]==="-"?-1:1,o={y:pr(l[2],u),M:pr(l[3],u),w:pr(l[4],u),d:pr(l[5],u),h:pr(l[6],u),m:pr(l[7],u),s:pr(l[8],u)}):o==null?o={}:typeof o=="object"&&("from"in o||"to"in o)&&(g=U2(_e(o.from),_e(o.to)),o={},o.ms=g.milliseconds,o.M=g.months),m=new Gi(o),qi(t)&&de(t,"_locale")&&(m._locale=t._locale),qi(t)&&de(t,"_isValid")&&(m._isValid=t._isValid),m}xt.fn=Gi.prototype,xt.invalid=D2;function pr(t,n){var o=t&&parseFloat(t.replace(",","."));return(isNaN(o)?0:o)*n}function $d(t,n){var o={};return o.months=n.month()-t.month()+(n.year()-t.year())*12,t.clone().add(o.months,"M").isAfter(n)&&--o.months,o.milliseconds=+n-+t.clone().add(o.months,"M"),o}function U2(t,n){var o;return t.isValid()&&n.isValid()?(n=bs(n,t),t.isBefore(n)?o=$d(t,n):(o=$d(n,t),o.milliseconds=-o.milliseconds,o.months=-o.months),o):{milliseconds:0,months:0}}function Nd(t,n){return function(o,l){var u,m;return l!==null&&!isNaN(+l)&&(ud(n,"moment()."+n+"(period, number) is deprecated. Please use moment()."+n+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),m=o,o=l,l=m),u=xt(o,l),Bd(this,u,t),this}}function Bd(t,n,o,l){var u=n._milliseconds,m=ps(n._days),g=ps(n._months);!t.isValid()||(l=l==null?!0:l,g&&xd(t,Ri(t,"Month")+g*o),m&&hd(t,"Date",Ri(t,"Date")+m*o),u&&t._d.setTime(t._d.valueOf()+u*o),l&&H.updateOffset(t,m||g))}var G2=Nd(1,"add"),q2=Nd(-1,"subtract");function jd(t){return typeof t=="string"||t instanceof String}function K2(t){return bt(t)||kn(t)||jd(t)||Nt(t)||X2(t)||Q2(t)||t===null||t===void 0}function Q2(t){var n=mr(t)&&!qo(t),o=!1,l=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],u,m,g=l.length;for(u=0;u<g;u+=1)m=l[u],o=o||de(t,m);return n&&o}function X2(t){var n=gt(t),o=!1;return n&&(o=t.filter(function(l){return!Nt(l)&&jd(t)}).length===0),n&&o}function Z2(t){var n=mr(t)&&!qo(t),o=!1,l=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],u,m;for(u=0;u<l.length;u+=1)m=l[u],o=o||de(t,m);return n&&o}function J2(t,n){var o=t.diff(n,"days",!0);return o<-6?"sameElse":o<-1?"lastWeek":o<0?"lastDay":o<1?"sameDay":o<2?"nextDay":o<7?"nextWeek":"sameElse"}function eS(t,n){arguments.length===1&&(arguments[0]?K2(arguments[0])?(t=arguments[0],n=void 0):Z2(arguments[0])&&(n=arguments[0],t=void 0):(t=void 0,n=void 0));var o=t||_e(),l=bs(o,this).startOf("day"),u=H.calendarFormat(this,l)||"sameElse",m=n&&(At(n[u])?n[u].call(this,o):n[u]);return this.format(m||this.localeData().calendar(u,this,_e(o)))}function tS(){return new Mn(this)}function rS(t,n){var o=bt(t)?t:_e(t);return this.isValid()&&o.isValid()?(n=ct(n)||"millisecond",n==="millisecond"?this.valueOf()>o.valueOf():o.valueOf()<this.clone().startOf(n).valueOf()):!1}function nS(t,n){var o=bt(t)?t:_e(t);return this.isValid()&&o.isValid()?(n=ct(n)||"millisecond",n==="millisecond"?this.valueOf()<o.valueOf():this.clone().endOf(n).valueOf()<o.valueOf()):!1}function iS(t,n,o,l){var u=bt(t)?t:_e(t),m=bt(n)?n:_e(n);return this.isValid()&&u.isValid()&&m.isValid()?(l=l||"()",(l[0]==="("?this.isAfter(u,o):!this.isBefore(u,o))&&(l[1]===")"?this.isBefore(m,o):!this.isAfter(m,o))):!1}function aS(t,n){var o=bt(t)?t:_e(t),l;return this.isValid()&&o.isValid()?(n=ct(n)||"millisecond",n==="millisecond"?this.valueOf()===o.valueOf():(l=o.valueOf(),this.clone().startOf(n).valueOf()<=l&&l<=this.clone().endOf(n).valueOf())):!1}function oS(t,n){return this.isSame(t,n)||this.isAfter(t,n)}function sS(t,n){return this.isSame(t,n)||this.isBefore(t,n)}function lS(t,n,o){var l,u,m;if(!this.isValid())return NaN;if(l=bs(t,this),!l.isValid())return NaN;switch(u=(l.utcOffset()-this.utcOffset())*6e4,n=ct(n),n){case"year":m=Ki(this,l)/12;break;case"month":m=Ki(this,l);break;case"quarter":m=Ki(this,l)/3;break;case"second":m=(this-l)/1e3;break;case"minute":m=(this-l)/6e4;break;case"hour":m=(this-l)/36e5;break;case"day":m=(this-l-u)/864e5;break;case"week":m=(this-l-u)/6048e5;break;default:m=this-l}return o?m:ut(m)}function Ki(t,n){if(t.date()<n.date())return-Ki(n,t);var o=(n.year()-t.year())*12+(n.month()-t.month()),l=t.clone().add(o,"months"),u,m;return n-l<0?(u=t.clone().add(o-1,"months"),m=(n-l)/(l-u)):(u=t.clone().add(o+1,"months"),m=(n-l)/(u-l)),-(o+m)||0}H.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",H.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function cS(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function uS(t){if(!this.isValid())return null;var n=t!==!0,o=n?this.clone().utc():this;return o.year()<0||o.year()>9999?Li(o,n?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):At(Date.prototype.toISOString)?n?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Li(o,"Z")):Li(o,n?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function dS(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",n="",o,l,u,m;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",n="Z"),o="["+t+'("]',l=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",u="-MM-DD[T]HH:mm:ss.SSS",m=n+'[")]',this.format(o+l+u+m)}function fS(t){t||(t=this.isUtc()?H.defaultFormatUtc:H.defaultFormat);var n=Li(this,t);return this.localeData().postformat(n)}function hS(t,n){return this.isValid()&&(bt(t)&&t.isValid()||_e(t).isValid())?xt({to:this,from:t}).locale(this.locale()).humanize(!n):this.localeData().invalidDate()}function mS(t){return this.from(_e(),t)}function vS(t,n){return this.isValid()&&(bt(t)&&t.isValid()||_e(t).isValid())?xt({from:this,to:t}).locale(this.locale()).humanize(!n):this.localeData().invalidDate()}function pS(t){return this.to(_e(),t)}function zd(t){var n;return t===void 0?this._locale._abbr:(n=Wt(t),n!=null&&(this._locale=n),this)}var Wd=lt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function Hd(){return this._locale}var Qi=1e3,Yr=60*Qi,Xi=60*Yr,Yd=(365*400+97)*24*Xi;function Vr(t,n){return(t%n+n)%n}function Vd(t,n,o){return t<100&&t>=0?new Date(t+400,n,o)-Yd:new Date(t,n,o).valueOf()}function Ud(t,n,o){return t<100&&t>=0?Date.UTC(t+400,n,o)-Yd:Date.UTC(t,n,o)}function gS(t){var n,o;if(t=ct(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(o=this._isUTC?Ud:Vd,t){case"year":n=o(this.year(),0,1);break;case"quarter":n=o(this.year(),this.month()-this.month()%3,1);break;case"month":n=o(this.year(),this.month(),1);break;case"week":n=o(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":n=o(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":n=o(this.year(),this.month(),this.date());break;case"hour":n=this._d.valueOf(),n-=Vr(n+(this._isUTC?0:this.utcOffset()*Yr),Xi);break;case"minute":n=this._d.valueOf(),n-=Vr(n,Yr);break;case"second":n=this._d.valueOf(),n-=Vr(n,Qi);break}return this._d.setTime(n),H.updateOffset(this,!0),this}function bS(t){var n,o;if(t=ct(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(o=this._isUTC?Ud:Vd,t){case"year":n=o(this.year()+1,0,1)-1;break;case"quarter":n=o(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":n=o(this.year(),this.month()+1,1)-1;break;case"week":n=o(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":n=o(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":n=o(this.year(),this.month(),this.date()+1)-1;break;case"hour":n=this._d.valueOf(),n+=Xi-Vr(n+(this._isUTC?0:this.utcOffset()*Yr),Xi)-1;break;case"minute":n=this._d.valueOf(),n+=Yr-Vr(n,Yr)-1;break;case"second":n=this._d.valueOf(),n+=Qi-Vr(n,Qi)-1;break}return this._d.setTime(n),H.updateOffset(this,!0),this}function yS(){return this._d.valueOf()-(this._offset||0)*6e4}function xS(){return Math.floor(this.valueOf()/1e3)}function wS(){return new Date(this.valueOf())}function _S(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function SS(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function kS(){return this.isValid()?this.toISOString():null}function MS(){return Qo(this)}function TS(){return er({},oe(this))}function OS(){return oe(this).overflow}function PS(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}X("N",0,0,"eraAbbr"),X("NN",0,0,"eraAbbr"),X("NNN",0,0,"eraAbbr"),X("NNNN",0,0,"eraName"),X("NNNNN",0,0,"eraNarrow"),X("y",["y",1],"yo","eraYear"),X("y",["yy",2],0,"eraYear"),X("y",["yyy",3],0,"eraYear"),X("y",["yyyy",4],0,"eraYear"),G("N",xs),G("NN",xs),G("NNN",xs),G("NNNN",BS),G("NNNNN",jS),pe(["N","NN","NNN","NNNN","NNNNN"],function(t,n,o,l){var u=o._locale.erasParse(t,l,o._strict);u?oe(o).era=u:oe(o).invalidEra=t}),G("y",Wr),G("yy",Wr),G("yyy",Wr),G("yyyy",Wr),G("yo",zS),pe(["y","yy","yyy","yyyy"],Ye),pe(["yo"],function(t,n,o,l){var u;o._locale._eraYearOrdinalRegex&&(u=t.match(o._locale._eraYearOrdinalRegex)),o._locale.eraYearOrdinalParse?n[Ye]=o._locale.eraYearOrdinalParse(t,u):n[Ye]=parseInt(t,10)});function CS(t,n){var o,l,u,m=this._eras||Wt("en")._eras;for(o=0,l=m.length;o<l;++o){switch(typeof m[o].since){case"string":u=H(m[o].since).startOf("day"),m[o].since=u.valueOf();break}switch(typeof m[o].until){case"undefined":m[o].until=1/0;break;case"string":u=H(m[o].until).startOf("day").valueOf(),m[o].until=u.valueOf();break}}return m}function AS(t,n,o){var l,u,m=this.eras(),g,S,w;for(t=t.toUpperCase(),l=0,u=m.length;l<u;++l)if(g=m[l].name.toUpperCase(),S=m[l].abbr.toUpperCase(),w=m[l].narrow.toUpperCase(),o)switch(n){case"N":case"NN":case"NNN":if(S===t)return m[l];break;case"NNNN":if(g===t)return m[l];break;case"NNNNN":if(w===t)return m[l];break}else if([g,S,w].indexOf(t)>=0)return m[l]}function DS(t,n){var o=t.since<=t.until?1:-1;return n===void 0?H(t.since).year():H(t.since).year()+(n-t.offset)*o}function IS(){var t,n,o,l=this.localeData().eras();for(t=0,n=l.length;t<n;++t)if(o=this.clone().startOf("day").valueOf(),l[t].since<=o&&o<=l[t].until||l[t].until<=o&&o<=l[t].since)return l[t].name;return""}function ES(){var t,n,o,l=this.localeData().eras();for(t=0,n=l.length;t<n;++t)if(o=this.clone().startOf("day").valueOf(),l[t].since<=o&&o<=l[t].until||l[t].until<=o&&o<=l[t].since)return l[t].narrow;return""}function LS(){var t,n,o,l=this.localeData().eras();for(t=0,n=l.length;t<n;++t)if(o=this.clone().startOf("day").valueOf(),l[t].since<=o&&o<=l[t].until||l[t].until<=o&&o<=l[t].since)return l[t].abbr;return""}function FS(){var t,n,o,l,u=this.localeData().eras();for(t=0,n=u.length;t<n;++t)if(o=u[t].since<=u[t].until?1:-1,l=this.clone().startOf("day").valueOf(),u[t].since<=l&&l<=u[t].until||u[t].until<=l&&l<=u[t].since)return(this.year()-H(u[t].since).year())*o+u[t].offset;return this.year()}function RS(t){return de(this,"_erasNameRegex")||ws.call(this),t?this._erasNameRegex:this._erasRegex}function $S(t){return de(this,"_erasAbbrRegex")||ws.call(this),t?this._erasAbbrRegex:this._erasRegex}function NS(t){return de(this,"_erasNarrowRegex")||ws.call(this),t?this._erasNarrowRegex:this._erasRegex}function xs(t,n){return n.erasAbbrRegex(t)}function BS(t,n){return n.erasNameRegex(t)}function jS(t,n){return n.erasNarrowRegex(t)}function zS(t,n){return n._eraYearOrdinalRegex||Wr}function ws(){var t=[],n=[],o=[],l=[],u,m,g=this.eras();for(u=0,m=g.length;u<m;++u)n.push(et(g[u].name)),t.push(et(g[u].abbr)),o.push(et(g[u].narrow)),l.push(et(g[u].name)),l.push(et(g[u].abbr)),l.push(et(g[u].narrow));this._erasRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+n.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+o.join("|")+")","i")}X(0,["gg",2],0,function(){return this.weekYear()%100}),X(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Zi(t,n){X(0,[t,t.length],0,n)}Zi("gggg","weekYear"),Zi("ggggg","weekYear"),Zi("GGGG","isoWeekYear"),Zi("GGGGG","isoWeekYear"),We("weekYear","gg"),We("isoWeekYear","GG"),He("weekYear",1),He("isoWeekYear",1),G("G",ji),G("g",ji),G("GG",we,Je),G("gg",we,Je),G("GGGG",os,as),G("gggg",os,as),G("GGGGG",Bi,$i),G("ggggg",Bi,$i),Pn(["gggg","ggggg","GGGG","GGGGG"],function(t,n,o,l){n[l.substr(0,2)]=le(t)}),Pn(["gg","GG"],function(t,n,o,l){n[l]=H.parseTwoDigitYear(t)});function WS(t){return Gd.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function HS(t){return Gd.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function YS(){return zt(this.year(),1,4)}function VS(){return zt(this.isoWeekYear(),1,4)}function US(){var t=this.localeData()._week;return zt(this.year(),t.dow,t.doy)}function GS(){var t=this.localeData()._week;return zt(this.weekYear(),t.dow,t.doy)}function Gd(t,n,o,l,u){var m;return t==null?Dn(this,l,u).year:(m=zt(t,l,u),n>m&&(n=m),qS.call(this,t,n,o,l,u))}function qS(t,n,o,l,u){var m=kd(t,n,o,l,u),g=An(m.year,0,m.dayOfYear);return this.year(g.getUTCFullYear()),this.month(g.getUTCMonth()),this.date(g.getUTCDate()),this}X("Q",0,"Qo","quarter"),We("quarter","Q"),He("quarter",7),G("Q",md),pe("Q",function(t,n){n[Bt]=(le(t)-1)*3});function KS(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}X("D",["DD",2],"Do","date"),We("date","D"),He("date",9),G("D",we),G("DD",we,Je),G("Do",function(t,n){return t?n._dayOfMonthOrdinalParse||n._ordinalParse:n._dayOfMonthOrdinalParseLenient}),pe(["D","DD"],It),pe("Do",function(t,n){n[It]=le(t.match(we)[0])});var qd=zr("Date",!0);X("DDD",["DDDD",3],"DDDo","dayOfYear"),We("dayOfYear","DDD"),He("dayOfYear",4),G("DDD",Ni),G("DDDD",vd),pe(["DDD","DDDD"],function(t,n,o){o._dayOfYear=le(t)});function QS(t){var n=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?n:this.add(t-n,"d")}X("m",["mm",2],0,"minute"),We("minute","m"),He("minute",14),G("m",we),G("mm",we,Je),pe(["m","mm"],yt);var XS=zr("Minutes",!1);X("s",["ss",2],0,"second"),We("second","s"),He("second",15),G("s",we),G("ss",we,Je),pe(["s","ss"],jt);var ZS=zr("Seconds",!1);X("S",0,0,function(){return~~(this.millisecond()/100)}),X(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),X(0,["SSS",3],0,"millisecond"),X(0,["SSSS",4],0,function(){return this.millisecond()*10}),X(0,["SSSSS",5],0,function(){return this.millisecond()*100}),X(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),X(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),X(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),X(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),We("millisecond","ms"),He("millisecond",16),G("S",Ni,md),G("SS",Ni,Je),G("SSS",Ni,vd);var rr,Kd;for(rr="SSSS";rr.length<=9;rr+="S")G(rr,Wr);function JS(t,n){n[vr]=le(("0."+t)*1e3)}for(rr="S";rr.length<=9;rr+="S")pe(rr,JS);Kd=zr("Milliseconds",!1),X("z",0,0,"zoneAbbr"),X("zz",0,0,"zoneName");function ek(){return this._isUTC?"UTC":""}function tk(){return this._isUTC?"Coordinated Universal Time":""}var W=Mn.prototype;W.add=G2,W.calendar=eS,W.clone=tS,W.diff=lS,W.endOf=bS,W.format=fS,W.from=hS,W.fromNow=mS,W.to=vS,W.toNow=pS,W.get=n_,W.invalidAt=OS,W.isAfter=rS,W.isBefore=nS,W.isBetween=iS,W.isSame=aS,W.isSameOrAfter=oS,W.isSameOrBefore=sS,W.isValid=MS,W.lang=Wd,W.locale=zd,W.localeData=Hd,W.max=M2,W.min=k2,W.parsingFlags=TS,W.set=i_,W.startOf=gS,W.subtract=q2,W.toArray=_S,W.toObject=SS,W.toDate=wS,W.toISOString=uS,W.inspect=dS,typeof Symbol!="undefined"&&Symbol.for!=null&&(W[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),W.toJSON=kS,W.toString=cS,W.unix=xS,W.valueOf=yS,W.creationData=PS,W.eraName=IS,W.eraNarrow=ES,W.eraAbbr=LS,W.eraYear=FS,W.year=Sd,W.isLeapYear=S_,W.weekYear=WS,W.isoWeekYear=HS,W.quarter=W.quarters=KS,W.month=wd,W.daysInMonth=x_,W.week=W.weeks=C_,W.isoWeek=W.isoWeeks=A_,W.weeksInYear=US,W.weeksInWeekYear=GS,W.isoWeeksInYear=YS,W.isoWeeksInISOWeekYear=VS,W.date=qd,W.day=W.days=H_,W.weekday=Y_,W.isoWeekday=V_,W.dayOfYear=QS,W.hour=W.hours=Z_,W.minute=W.minutes=XS,W.second=W.seconds=ZS,W.millisecond=W.milliseconds=Kd,W.utcOffset=L2,W.utc=R2,W.local=$2,W.parseZone=N2,W.hasAlignedHourOffset=B2,W.isDST=j2,W.isLocal=W2,W.isUtcOffset=H2,W.isUtc=Rd,W.isUTC=Rd,W.zoneAbbr=ek,W.zoneName=tk,W.dates=lt("dates accessor is deprecated. Use date instead.",qd),W.months=lt("months accessor is deprecated. Use month instead",wd),W.years=lt("years accessor is deprecated. Use year instead",Sd),W.zone=lt("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",F2),W.isDSTShifted=lt("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",z2);function rk(t){return _e(t*1e3)}function nk(){return _e.apply(null,arguments).parseZone()}function Qd(t){return t}var fe=es.prototype;fe.calendar=Hw,fe.longDateFormat=Gw,fe.invalidDate=Kw,fe.ordinal=Zw,fe.preparse=Qd,fe.postformat=Qd,fe.relativeTime=e_,fe.pastFuture=t_,fe.set=zw,fe.eras=CS,fe.erasParse=AS,fe.erasConvertYear=DS,fe.erasAbbrRegex=$S,fe.erasNameRegex=RS,fe.erasNarrowRegex=NS,fe.months=p_,fe.monthsShort=g_,fe.monthsParse=y_,fe.monthsRegex=__,fe.monthsShortRegex=w_,fe.week=M_,fe.firstDayOfYear=P_,fe.firstDayOfWeek=O_,fe.weekdays=N_,fe.weekdaysMin=j_,fe.weekdaysShort=B_,fe.weekdaysParse=W_,fe.weekdaysRegex=U_,fe.weekdaysShortRegex=G_,fe.weekdaysMinRegex=q_,fe.isPM=Q_,fe.meridiem=J_;function Ji(t,n,o,l){var u=Wt(),m=Ct().set(l,n);return u[o](m,t)}function Xd(t,n,o){if(Nt(t)&&(n=t,t=void 0),t=t||"",n!=null)return Ji(t,n,o,"month");var l,u=[];for(l=0;l<12;l++)u[l]=Ji(t,l,o,"month");return u}function _s(t,n,o,l){typeof t=="boolean"?(Nt(n)&&(o=n,n=void 0),n=n||""):(n=t,o=n,t=!1,Nt(n)&&(o=n,n=void 0),n=n||"");var u=Wt(),m=t?u._week.dow:0,g,S=[];if(o!=null)return Ji(n,(o+m)%7,l,"day");for(g=0;g<7;g++)S[g]=Ji(n,(g+m)%7,l,"day");return S}function ik(t,n){return Xd(t,n,"months")}function ak(t,n){return Xd(t,n,"monthsShort")}function ok(t,n,o){return _s(t,n,o,"weekdays")}function sk(t,n,o){return _s(t,n,o,"weekdaysShort")}function lk(t,n,o){return _s(t,n,o,"weekdaysMin")}tr("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var n=t%10,o=le(t%100/10)===1?"th":n===1?"st":n===2?"nd":n===3?"rd":"th";return t+o}}),H.lang=lt("moment.lang is deprecated. Use moment.locale instead.",tr),H.langData=lt("moment.langData is deprecated. Use moment.localeData instead.",Wt);var Ht=Math.abs;function ck(){var t=this._data;return this._milliseconds=Ht(this._milliseconds),this._days=Ht(this._days),this._months=Ht(this._months),t.milliseconds=Ht(t.milliseconds),t.seconds=Ht(t.seconds),t.minutes=Ht(t.minutes),t.hours=Ht(t.hours),t.months=Ht(t.months),t.years=Ht(t.years),this}function Zd(t,n,o,l){var u=xt(n,o);return t._milliseconds+=l*u._milliseconds,t._days+=l*u._days,t._months+=l*u._months,t._bubble()}function uk(t,n){return Zd(this,t,n,1)}function dk(t,n){return Zd(this,t,n,-1)}function Jd(t){return t<0?Math.floor(t):Math.ceil(t)}function fk(){var t=this._milliseconds,n=this._days,o=this._months,l=this._data,u,m,g,S,w;return t>=0&&n>=0&&o>=0||t<=0&&n<=0&&o<=0||(t+=Jd(Ss(o)+n)*864e5,n=0,o=0),l.milliseconds=t%1e3,u=ut(t/1e3),l.seconds=u%60,m=ut(u/60),l.minutes=m%60,g=ut(m/60),l.hours=g%24,n+=ut(g/24),w=ut(ef(n)),o+=w,n-=Jd(Ss(w)),S=ut(o/12),o%=12,l.days=n,l.months=o,l.years=S,this}function ef(t){return t*4800/146097}function Ss(t){return t*146097/4800}function hk(t){if(!this.isValid())return NaN;var n,o,l=this._milliseconds;if(t=ct(t),t==="month"||t==="quarter"||t==="year")switch(n=this._days+l/864e5,o=this._months+ef(n),t){case"month":return o;case"quarter":return o/3;case"year":return o/12}else switch(n=this._days+Math.round(Ss(this._months)),t){case"week":return n/7+l/6048e5;case"day":return n+l/864e5;case"hour":return n*24+l/36e5;case"minute":return n*1440+l/6e4;case"second":return n*86400+l/1e3;case"millisecond":return Math.floor(n*864e5)+l;default:throw new Error("Unknown unit "+t)}}function mk(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+le(this._months/12)*31536e6:NaN}function Yt(t){return function(){return this.as(t)}}var vk=Yt("ms"),pk=Yt("s"),gk=Yt("m"),bk=Yt("h"),yk=Yt("d"),xk=Yt("w"),wk=Yt("M"),_k=Yt("Q"),Sk=Yt("y");function kk(){return xt(this)}function Mk(t){return t=ct(t),this.isValid()?this[t+"s"]():NaN}function gr(t){return function(){return this.isValid()?this._data[t]:NaN}}var Tk=gr("milliseconds"),Ok=gr("seconds"),Pk=gr("minutes"),Ck=gr("hours"),Ak=gr("days"),Dk=gr("months"),Ik=gr("years");function Ek(){return ut(this.days()/7)}var Vt=Math.round,Ur={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Lk(t,n,o,l,u){return u.relativeTime(n||1,!!o,t,l)}function Fk(t,n,o,l){var u=xt(t).abs(),m=Vt(u.as("s")),g=Vt(u.as("m")),S=Vt(u.as("h")),w=Vt(u.as("d")),k=Vt(u.as("M")),M=Vt(u.as("w")),T=Vt(u.as("y")),D=m<=o.ss&&["s",m]||m<o.s&&["ss",m]||g<=1&&["m"]||g<o.m&&["mm",g]||S<=1&&["h"]||S<o.h&&["hh",S]||w<=1&&["d"]||w<o.d&&["dd",w];return o.w!=null&&(D=D||M<=1&&["w"]||M<o.w&&["ww",M]),D=D||k<=1&&["M"]||k<o.M&&["MM",k]||T<=1&&["y"]||["yy",T],D[2]=n,D[3]=+t>0,D[4]=l,Lk.apply(null,D)}function Rk(t){return t===void 0?Vt:typeof t=="function"?(Vt=t,!0):!1}function $k(t,n){return Ur[t]===void 0?!1:n===void 0?Ur[t]:(Ur[t]=n,t==="s"&&(Ur.ss=n-1),!0)}function Nk(t,n){if(!this.isValid())return this.localeData().invalidDate();var o=!1,l=Ur,u,m;return typeof t=="object"&&(n=t,t=!1),typeof t=="boolean"&&(o=t),typeof n=="object"&&(l=Object.assign({},Ur,n),n.s!=null&&n.ss==null&&(l.ss=n.s-1)),u=this.localeData(),m=Fk(this,!o,l,u),o&&(m=u.pastFuture(+this,m)),u.postformat(m)}var ks=Math.abs;function Gr(t){return(t>0)-(t<0)||+t}function ea(){if(!this.isValid())return this.localeData().invalidDate();var t=ks(this._milliseconds)/1e3,n=ks(this._days),o=ks(this._months),l,u,m,g,S=this.asSeconds(),w,k,M,T;return S?(l=ut(t/60),u=ut(l/60),t%=60,l%=60,m=ut(o/12),o%=12,g=t?t.toFixed(3).replace(/\.?0+$/,""):"",w=S<0?"-":"",k=Gr(this._months)!==Gr(S)?"-":"",M=Gr(this._days)!==Gr(S)?"-":"",T=Gr(this._milliseconds)!==Gr(S)?"-":"",w+"P"+(m?k+m+"Y":"")+(o?k+o+"M":"")+(n?M+n+"D":"")+(u||l||t?"T":"")+(u?T+u+"H":"")+(l?T+l+"M":"")+(t?T+g+"S":"")):"P0D"}var ce=Gi.prototype;ce.isValid=A2,ce.abs=ck,ce.add=uk,ce.subtract=dk,ce.as=hk,ce.asMilliseconds=vk,ce.asSeconds=pk,ce.asMinutes=gk,ce.asHours=bk,ce.asDays=yk,ce.asWeeks=xk,ce.asMonths=wk,ce.asQuarters=_k,ce.asYears=Sk,ce.valueOf=mk,ce._bubble=fk,ce.clone=kk,ce.get=Mk,ce.milliseconds=Tk,ce.seconds=Ok,ce.minutes=Pk,ce.hours=Ck,ce.days=Ak,ce.weeks=Ek,ce.months=Dk,ce.years=Ik,ce.humanize=Nk,ce.toISOString=ea,ce.toString=ea,ce.toJSON=ea,ce.locale=zd,ce.localeData=Hd,ce.toIsoString=lt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ea),ce.lang=Wd,X("X",0,0,"unix"),X("x",0,0,"valueOf"),G("x",ji),G("X",o_),pe("X",function(t,n,o){o._d=new Date(parseFloat(t)*1e3)}),pe("x",function(t,n,o){o._d=new Date(le(t))});//! moment.js
H.version="2.29.4",Bw(_e),H.fn=W,H.min=T2,H.max=O2,H.now=P2,H.utc=Ct,H.unix=rk,H.months=ik,H.isDate=kn,H.locale=tr,H.invalid=Ii,H.duration=xt,H.isMoment=bt,H.weekdays=ok,H.parseZone=nk,H.localeData=Wt,H.isDuration=qi,H.monthsShort=ak,H.weekdaysMin=lk,H.defineLocale=ds,H.updateLocale=n2,H.locales=i2,H.weekdaysShort=sk,H.normalizeUnits=ct,H.relativeTimeRounding=Rk,H.relativeTimeThreshold=$k,H.calendarFormat=J2,H.prototype=W,H.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var tf={exports:{}};/*!
 * Chart.js v2.9.4
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */(function(t,n){(function(o,l){t.exports=l(function(){try{return require("moment")}catch{}}())})(nn,function(o){o=o&&o.hasOwnProperty("default")?o.default:o;function l(e,r){return r={exports:{}},e(r,r.exports),r.exports}function u(e){return e&&e.default||e}var m={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},g=l(function(e){var r={};for(var i in m)m.hasOwnProperty(i)&&(r[m[i]]=i);var a=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var s in a)if(a.hasOwnProperty(s)){if(!("channels"in a[s]))throw new Error("missing channels property: "+s);if(!("labels"in a[s]))throw new Error("missing channel labels property: "+s);if(a[s].labels.length!==a[s].channels)throw new Error("channel and label counts mismatch: "+s);var c=a[s].channels,d=a[s].labels;delete a[s].channels,delete a[s].labels,Object.defineProperty(a[s],"channels",{value:c}),Object.defineProperty(a[s],"labels",{value:d})}a.rgb.hsl=function(f){var v=f[0]/255,b=f[1]/255,y=f[2]/255,_=Math.min(v,b,y),O=Math.max(v,b,y),P=O-_,C,A,F;return O===_?C=0:v===O?C=(b-y)/P:b===O?C=2+(y-v)/P:y===O&&(C=4+(v-b)/P),C=Math.min(C*60,360),C<0&&(C+=360),F=(_+O)/2,O===_?A=0:F<=.5?A=P/(O+_):A=P/(2-O-_),[C,A*100,F*100]},a.rgb.hsv=function(f){var v,b,y,_,O,P=f[0]/255,C=f[1]/255,A=f[2]/255,F=Math.max(P,C,A),U=F-Math.min(P,C,A),q=function(ae){return(F-ae)/6/U+1/2};return U===0?_=O=0:(O=U/F,v=q(P),b=q(C),y=q(A),P===F?_=y-b:C===F?_=1/3+v-y:A===F&&(_=2/3+b-v),_<0?_+=1:_>1&&(_-=1)),[_*360,O*100,F*100]},a.rgb.hwb=function(f){var v=f[0],b=f[1],y=f[2],_=a.rgb.hsl(f)[0],O=1/255*Math.min(v,Math.min(b,y));return y=1-1/255*Math.max(v,Math.max(b,y)),[_,O*100,y*100]},a.rgb.cmyk=function(f){var v=f[0]/255,b=f[1]/255,y=f[2]/255,_,O,P,C;return C=Math.min(1-v,1-b,1-y),_=(1-v-C)/(1-C)||0,O=(1-b-C)/(1-C)||0,P=(1-y-C)/(1-C)||0,[_*100,O*100,P*100,C*100]};function h(f,v){return Math.pow(f[0]-v[0],2)+Math.pow(f[1]-v[1],2)+Math.pow(f[2]-v[2],2)}a.rgb.keyword=function(f){var v=r[f];if(v)return v;var b=1/0,y;for(var _ in m)if(m.hasOwnProperty(_)){var O=m[_],P=h(f,O);P<b&&(b=P,y=_)}return y},a.keyword.rgb=function(f){return m[f]},a.rgb.xyz=function(f){var v=f[0]/255,b=f[1]/255,y=f[2]/255;v=v>.04045?Math.pow((v+.055)/1.055,2.4):v/12.92,b=b>.04045?Math.pow((b+.055)/1.055,2.4):b/12.92,y=y>.04045?Math.pow((y+.055)/1.055,2.4):y/12.92;var _=v*.4124+b*.3576+y*.1805,O=v*.2126+b*.7152+y*.0722,P=v*.0193+b*.1192+y*.9505;return[_*100,O*100,P*100]},a.rgb.lab=function(f){var v=a.rgb.xyz(f),b=v[0],y=v[1],_=v[2],O,P,C;return b/=95.047,y/=100,_/=108.883,b=b>.008856?Math.pow(b,1/3):7.787*b+16/116,y=y>.008856?Math.pow(y,1/3):7.787*y+16/116,_=_>.008856?Math.pow(_,1/3):7.787*_+16/116,O=116*y-16,P=500*(b-y),C=200*(y-_),[O,P,C]},a.hsl.rgb=function(f){var v=f[0]/360,b=f[1]/100,y=f[2]/100,_,O,P,C,A;if(b===0)return A=y*255,[A,A,A];y<.5?O=y*(1+b):O=y+b-y*b,_=2*y-O,C=[0,0,0];for(var F=0;F<3;F++)P=v+1/3*-(F-1),P<0&&P++,P>1&&P--,6*P<1?A=_+(O-_)*6*P:2*P<1?A=O:3*P<2?A=_+(O-_)*(2/3-P)*6:A=_,C[F]=A*255;return C},a.hsl.hsv=function(f){var v=f[0],b=f[1]/100,y=f[2]/100,_=b,O=Math.max(y,.01),P,C;return y*=2,b*=y<=1?y:2-y,_*=O<=1?O:2-O,C=(y+b)/2,P=y===0?2*_/(O+_):2*b/(y+b),[v,P*100,C*100]},a.hsv.rgb=function(f){var v=f[0]/60,b=f[1]/100,y=f[2]/100,_=Math.floor(v)%6,O=v-Math.floor(v),P=255*y*(1-b),C=255*y*(1-b*O),A=255*y*(1-b*(1-O));switch(y*=255,_){case 0:return[y,A,P];case 1:return[C,y,P];case 2:return[P,y,A];case 3:return[P,C,y];case 4:return[A,P,y];case 5:return[y,P,C]}},a.hsv.hsl=function(f){var v=f[0],b=f[1]/100,y=f[2]/100,_=Math.max(y,.01),O,P,C;return C=(2-b)*y,O=(2-b)*_,P=b*_,P/=O<=1?O:2-O,P=P||0,C/=2,[v,P*100,C*100]},a.hwb.rgb=function(f){var v=f[0]/360,b=f[1]/100,y=f[2]/100,_=b+y,O,P,C,A;_>1&&(b/=_,y/=_),O=Math.floor(6*v),P=1-y,C=6*v-O,(O&1)!==0&&(C=1-C),A=b+C*(P-b);var F,U,q;switch(O){default:case 6:case 0:F=P,U=A,q=b;break;case 1:F=A,U=P,q=b;break;case 2:F=b,U=P,q=A;break;case 3:F=b,U=A,q=P;break;case 4:F=A,U=b,q=P;break;case 5:F=P,U=b,q=A;break}return[F*255,U*255,q*255]},a.cmyk.rgb=function(f){var v=f[0]/100,b=f[1]/100,y=f[2]/100,_=f[3]/100,O,P,C;return O=1-Math.min(1,v*(1-_)+_),P=1-Math.min(1,b*(1-_)+_),C=1-Math.min(1,y*(1-_)+_),[O*255,P*255,C*255]},a.xyz.rgb=function(f){var v=f[0]/100,b=f[1]/100,y=f[2]/100,_,O,P;return _=v*3.2406+b*-1.5372+y*-.4986,O=v*-.9689+b*1.8758+y*.0415,P=v*.0557+b*-.204+y*1.057,_=_>.0031308?1.055*Math.pow(_,1/2.4)-.055:_*12.92,O=O>.0031308?1.055*Math.pow(O,1/2.4)-.055:O*12.92,P=P>.0031308?1.055*Math.pow(P,1/2.4)-.055:P*12.92,_=Math.min(Math.max(0,_),1),O=Math.min(Math.max(0,O),1),P=Math.min(Math.max(0,P),1),[_*255,O*255,P*255]},a.xyz.lab=function(f){var v=f[0],b=f[1],y=f[2],_,O,P;return v/=95.047,b/=100,y/=108.883,v=v>.008856?Math.pow(v,1/3):7.787*v+16/116,b=b>.008856?Math.pow(b,1/3):7.787*b+16/116,y=y>.008856?Math.pow(y,1/3):7.787*y+16/116,_=116*b-16,O=500*(v-b),P=200*(b-y),[_,O,P]},a.lab.xyz=function(f){var v=f[0],b=f[1],y=f[2],_,O,P;O=(v+16)/116,_=b/500+O,P=O-y/200;var C=Math.pow(O,3),A=Math.pow(_,3),F=Math.pow(P,3);return O=C>.008856?C:(O-16/116)/7.787,_=A>.008856?A:(_-16/116)/7.787,P=F>.008856?F:(P-16/116)/7.787,_*=95.047,O*=100,P*=108.883,[_,O,P]},a.lab.lch=function(f){var v=f[0],b=f[1],y=f[2],_,O,P;return _=Math.atan2(y,b),O=_*360/2/Math.PI,O<0&&(O+=360),P=Math.sqrt(b*b+y*y),[v,P,O]},a.lch.lab=function(f){var v=f[0],b=f[1],y=f[2],_,O,P;return P=y/360*2*Math.PI,_=b*Math.cos(P),O=b*Math.sin(P),[v,_,O]},a.rgb.ansi16=function(f){var v=f[0],b=f[1],y=f[2],_=1 in arguments?arguments[1]:a.rgb.hsv(f)[2];if(_=Math.round(_/50),_===0)return 30;var O=30+(Math.round(y/255)<<2|Math.round(b/255)<<1|Math.round(v/255));return _===2&&(O+=60),O},a.hsv.ansi16=function(f){return a.rgb.ansi16(a.hsv.rgb(f),f[2])},a.rgb.ansi256=function(f){var v=f[0],b=f[1],y=f[2];if(v===b&&b===y)return v<8?16:v>248?231:Math.round((v-8)/247*24)+232;var _=16+36*Math.round(v/255*5)+6*Math.round(b/255*5)+Math.round(y/255*5);return _},a.ansi16.rgb=function(f){var v=f%10;if(v===0||v===7)return f>50&&(v+=3.5),v=v/10.5*255,[v,v,v];var b=(~~(f>50)+1)*.5,y=(v&1)*b*255,_=(v>>1&1)*b*255,O=(v>>2&1)*b*255;return[y,_,O]},a.ansi256.rgb=function(f){if(f>=232){var v=(f-232)*10+8;return[v,v,v]}f-=16;var b,y=Math.floor(f/36)/5*255,_=Math.floor((b=f%36)/6)/5*255,O=b%6/5*255;return[y,_,O]},a.rgb.hex=function(f){var v=((Math.round(f[0])&255)<<16)+((Math.round(f[1])&255)<<8)+(Math.round(f[2])&255),b=v.toString(16).toUpperCase();return"000000".substring(b.length)+b},a.hex.rgb=function(f){var v=f.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!v)return[0,0,0];var b=v[0];v[0].length===3&&(b=b.split("").map(function(C){return C+C}).join(""));var y=parseInt(b,16),_=y>>16&255,O=y>>8&255,P=y&255;return[_,O,P]},a.rgb.hcg=function(f){var v=f[0]/255,b=f[1]/255,y=f[2]/255,_=Math.max(Math.max(v,b),y),O=Math.min(Math.min(v,b),y),P=_-O,C,A;return P<1?C=O/(1-P):C=0,P<=0?A=0:_===v?A=(b-y)/P%6:_===b?A=2+(y-v)/P:A=4+(v-b)/P+4,A/=6,A%=1,[A*360,P*100,C*100]},a.hsl.hcg=function(f){var v=f[1]/100,b=f[2]/100,y=1,_=0;return b<.5?y=2*v*b:y=2*v*(1-b),y<1&&(_=(b-.5*y)/(1-y)),[f[0],y*100,_*100]},a.hsv.hcg=function(f){var v=f[1]/100,b=f[2]/100,y=v*b,_=0;return y<1&&(_=(b-y)/(1-y)),[f[0],y*100,_*100]},a.hcg.rgb=function(f){var v=f[0]/360,b=f[1]/100,y=f[2]/100;if(b===0)return[y*255,y*255,y*255];var _=[0,0,0],O=v%1*6,P=O%1,C=1-P,A=0;switch(Math.floor(O)){case 0:_[0]=1,_[1]=P,_[2]=0;break;case 1:_[0]=C,_[1]=1,_[2]=0;break;case 2:_[0]=0,_[1]=1,_[2]=P;break;case 3:_[0]=0,_[1]=C,_[2]=1;break;case 4:_[0]=P,_[1]=0,_[2]=1;break;default:_[0]=1,_[1]=0,_[2]=C}return A=(1-b)*y,[(b*_[0]+A)*255,(b*_[1]+A)*255,(b*_[2]+A)*255]},a.hcg.hsv=function(f){var v=f[1]/100,b=f[2]/100,y=v+b*(1-v),_=0;return y>0&&(_=v/y),[f[0],_*100,y*100]},a.hcg.hsl=function(f){var v=f[1]/100,b=f[2]/100,y=b*(1-v)+.5*v,_=0;return y>0&&y<.5?_=v/(2*y):y>=.5&&y<1&&(_=v/(2*(1-y))),[f[0],_*100,y*100]},a.hcg.hwb=function(f){var v=f[1]/100,b=f[2]/100,y=v+b*(1-v);return[f[0],(y-v)*100,(1-y)*100]},a.hwb.hcg=function(f){var v=f[1]/100,b=f[2]/100,y=1-b,_=y-v,O=0;return _<1&&(O=(y-_)/(1-_)),[f[0],_*100,O*100]},a.apple.rgb=function(f){return[f[0]/65535*255,f[1]/65535*255,f[2]/65535*255]},a.rgb.apple=function(f){return[f[0]/255*65535,f[1]/255*65535,f[2]/255*65535]},a.gray.rgb=function(f){return[f[0]/100*255,f[0]/100*255,f[0]/100*255]},a.gray.hsl=a.gray.hsv=function(f){return[0,0,f[0]]},a.gray.hwb=function(f){return[0,100,f[0]]},a.gray.cmyk=function(f){return[0,0,0,f[0]]},a.gray.lab=function(f){return[f[0],0,0]},a.gray.hex=function(f){var v=Math.round(f[0]/100*255)&255,b=(v<<16)+(v<<8)+v,y=b.toString(16).toUpperCase();return"000000".substring(y.length)+y},a.rgb.gray=function(f){var v=(f[0]+f[1]+f[2])/3;return[v/255*100]}});g.rgb,g.hsl,g.hsv,g.hwb,g.cmyk,g.xyz,g.lab,g.lch,g.hex,g.keyword,g.ansi16,g.ansi256,g.hcg,g.apple,g.gray;function S(){for(var e={},r=Object.keys(g),i=r.length,a=0;a<i;a++)e[r[a]]={distance:-1,parent:null};return e}function w(e){var r=S(),i=[e];for(r[e].distance=0;i.length;)for(var a=i.pop(),s=Object.keys(g[a]),c=s.length,d=0;d<c;d++){var h=s[d],f=r[h];f.distance===-1&&(f.distance=r[a].distance+1,f.parent=a,i.unshift(h))}return r}function k(e,r){return function(i){return r(e(i))}}function M(e,r){for(var i=[r[e].parent,e],a=g[r[e].parent][e],s=r[e].parent;r[s].parent;)i.unshift(r[s].parent),a=k(g[r[s].parent][s],a),s=r[s].parent;return a.conversion=i,a}var T=function(e){for(var r=w(e),i={},a=Object.keys(r),s=a.length,c=0;c<s;c++){var d=a[c],h=r[d];h.parent!==null&&(i[d]=M(d,r))}return i},D={},I=Object.keys(g);function L(e){var r=function(i){return i==null?i:(arguments.length>1&&(i=Array.prototype.slice.call(arguments)),e(i))};return"conversion"in e&&(r.conversion=e.conversion),r}function z(e){var r=function(i){if(i==null)return i;arguments.length>1&&(i=Array.prototype.slice.call(arguments));var a=e(i);if(typeof a=="object")for(var s=a.length,c=0;c<s;c++)a[c]=Math.round(a[c]);return a};return"conversion"in e&&(r.conversion=e.conversion),r}I.forEach(function(e){D[e]={},Object.defineProperty(D[e],"channels",{value:g[e].channels}),Object.defineProperty(D[e],"labels",{value:g[e].labels});var r=T(e),i=Object.keys(r);i.forEach(function(a){var s=r[a];D[e][a]=z(s),D[e][a].raw=L(s)})});var N=D,E={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},R={getRgba:Y,getHsla:Q,getRgb:me,getHsl:Ce,getHwb:Te,getAlpha:ee,hexString:te,rgbString:Oe,rgbaString:wt,percentString:Ve,percentaString:nr,hslString:Rn,hslaString:qr,hwbString:$n,keyword:ra};function Y(e){if(!!e){var r=/^#([a-fA-F0-9]{3,4})$/i,i=/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i,a=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,s=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,c=/(\w+)/,d=[0,0,0],h=1,f=e.match(r),v="";if(f){f=f[1],v=f[3];for(var b=0;b<d.length;b++)d[b]=parseInt(f[b]+f[b],16);v&&(h=Math.round(parseInt(v+v,16)/255*100)/100)}else if(f=e.match(i)){v=f[2],f=f[1];for(var b=0;b<d.length;b++)d[b]=parseInt(f.slice(b*2,b*2+2),16);v&&(h=Math.round(parseInt(v,16)/255*100)/100)}else if(f=e.match(a)){for(var b=0;b<d.length;b++)d[b]=parseInt(f[b+1]);h=parseFloat(f[4])}else if(f=e.match(s)){for(var b=0;b<d.length;b++)d[b]=Math.round(parseFloat(f[b+1])*2.55);h=parseFloat(f[4])}else if(f=e.match(c)){if(f[1]=="transparent")return[0,0,0,0];if(d=E[f[1]],!d)return}for(var b=0;b<d.length;b++)d[b]=j(d[b],0,255);return!h&&h!=0?h=1:h=j(h,0,1),d[3]=h,d}}function Q(e){if(!!e){var r=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,i=e.match(r);if(i){var a=parseFloat(i[4]),s=j(parseInt(i[1]),0,360),c=j(parseFloat(i[2]),0,100),d=j(parseFloat(i[3]),0,100),h=j(isNaN(a)?1:a,0,1);return[s,c,d,h]}}}function Te(e){if(!!e){var r=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,i=e.match(r);if(i){var a=parseFloat(i[4]),s=j(parseInt(i[1]),0,360),c=j(parseFloat(i[2]),0,100),d=j(parseFloat(i[3]),0,100),h=j(isNaN(a)?1:a,0,1);return[s,c,d,h]}}}function me(e){var r=Y(e);return r&&r.slice(0,3)}function Ce(e){var r=Q(e);return r&&r.slice(0,3)}function ee(e){var r=Y(e);if(r)return r[3];if(r=Q(e))return r[3];if(r=Te(e))return r[3]}function te(e,i){var i=i!==void 0&&e.length===3?i:e[3];return"#"+B(e[0])+B(e[1])+B(e[2])+(i>=0&&i<1?B(Math.round(i*255)):"")}function Oe(e,r){return r<1||e[3]&&e[3]<1?wt(e,r):"rgb("+e[0]+", "+e[1]+", "+e[2]+")"}function wt(e,r){return r===void 0&&(r=e[3]!==void 0?e[3]:1),"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+r+")"}function Ve(e,r){if(r<1||e[3]&&e[3]<1)return nr(e,r);var i=Math.round(e[0]/255*100),a=Math.round(e[1]/255*100),s=Math.round(e[2]/255*100);return"rgb("+i+"%, "+a+"%, "+s+"%)"}function nr(e,r){var i=Math.round(e[0]/255*100),a=Math.round(e[1]/255*100),s=Math.round(e[2]/255*100);return"rgba("+i+"%, "+a+"%, "+s+"%, "+(r||e[3]||1)+")"}function Rn(e,r){return r<1||e[3]&&e[3]<1?qr(e,r):"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)"}function qr(e,r){return r===void 0&&(r=e[3]!==void 0?e[3]:1),"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+r+")"}function $n(e,r){return r===void 0&&(r=e[3]!==void 0?e[3]:1),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+(r!==void 0&&r!==1?", "+r:"")+")"}function ra(e){return V[e.slice(0,3)]}function j(e,r,i){return Math.min(Math.max(r,e),i)}function B(e){var r=e.toString(16).toUpperCase();return r.length<2?"0"+r:r}var V={};for(var re in E)V[E[re]]=re;var K=function(e){if(e instanceof K)return e;if(!(this instanceof K))return new K(e);this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var r;typeof e=="string"?(r=R.getRgba(e),r?this.setValues("rgb",r):(r=R.getHsla(e))?this.setValues("hsl",r):(r=R.getHwb(e))&&this.setValues("hwb",r)):typeof e=="object"&&(r=e,r.r!==void 0||r.red!==void 0?this.setValues("rgb",r):r.l!==void 0||r.lightness!==void 0?this.setValues("hsl",r):r.v!==void 0||r.value!==void 0?this.setValues("hsv",r):r.w!==void 0||r.whiteness!==void 0?this.setValues("hwb",r):(r.c!==void 0||r.cyan!==void 0)&&this.setValues("cmyk",r))};K.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var e=this.values;return e.alpha!==1?e.hwb.concat([e.alpha]):e.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var e=this.values;return e.rgb.concat([e.alpha])},hslaArray:function(){var e=this.values;return e.hsl.concat([e.alpha])},alpha:function(e){return e===void 0?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return e&&(e%=360,e=e<0?360+e:e),this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return R.hexString(this.values.rgb)},rgbString:function(){return R.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return R.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return R.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return R.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return R.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return R.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return R.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var e=this.values.rgb;return e[0]<<16|e[1]<<8|e[2]},luminosity:function(){for(var e=this.values.rgb,r=[],i=0;i<e.length;i++){var a=e[i]/255;r[i]=a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4)}return .2126*r[0]+.7152*r[1]+.0722*r[2]},contrast:function(e){var r=this.luminosity(),i=e.luminosity();return r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)},level:function(e){var r=this.contrast(e);return r>=7.1?"AAA":r>=4.5?"AA":""},dark:function(){var e=this.values.rgb,r=(e[0]*299+e[1]*587+e[2]*114)/1e3;return r<128},light:function(){return!this.dark()},negate:function(){for(var e=[],r=0;r<3;r++)e[r]=255-this.values.rgb[r];return this.setValues("rgb",e),this},lighten:function(e){var r=this.values.hsl;return r[2]+=r[2]*e,this.setValues("hsl",r),this},darken:function(e){var r=this.values.hsl;return r[2]-=r[2]*e,this.setValues("hsl",r),this},saturate:function(e){var r=this.values.hsl;return r[1]+=r[1]*e,this.setValues("hsl",r),this},desaturate:function(e){var r=this.values.hsl;return r[1]-=r[1]*e,this.setValues("hsl",r),this},whiten:function(e){var r=this.values.hwb;return r[1]+=r[1]*e,this.setValues("hwb",r),this},blacken:function(e){var r=this.values.hwb;return r[2]+=r[2]*e,this.setValues("hwb",r),this},greyscale:function(){var e=this.values.rgb,r=e[0]*.3+e[1]*.59+e[2]*.11;return this.setValues("rgb",[r,r,r]),this},clearer:function(e){var r=this.values.alpha;return this.setValues("alpha",r-r*e),this},opaquer:function(e){var r=this.values.alpha;return this.setValues("alpha",r+r*e),this},rotate:function(e){var r=this.values.hsl,i=(r[0]+e)%360;return r[0]=i<0?360+i:i,this.setValues("hsl",r),this},mix:function(e,r){var i=this,a=e,s=r===void 0?.5:r,c=2*s-1,d=i.alpha()-a.alpha(),h=((c*d===-1?c:(c+d)/(1+c*d))+1)/2,f=1-h;return this.rgb(h*i.red()+f*a.red(),h*i.green()+f*a.green(),h*i.blue()+f*a.blue()).alpha(i.alpha()*s+a.alpha()*(1-s))},toJSON:function(){return this.rgb()},clone:function(){var e=new K,r=this.values,i=e.values,a,s;for(var c in r)r.hasOwnProperty(c)&&(a=r[c],s={}.toString.call(a),s==="[object Array]"?i[c]=a.slice(0):s==="[object Number]"?i[c]=a:console.error("unexpected color value:",a));return e}},K.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},K.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},K.prototype.getValues=function(e){for(var r=this.values,i={},a=0;a<e.length;a++)i[e.charAt(a)]=r[e][a];return r.alpha!==1&&(i.a=r.alpha),i},K.prototype.setValues=function(e,r){var i=this.values,a=this.spaces,s=this.maxes,c=1,d;if(this.valid=!0,e==="alpha")c=r;else if(r.length)i[e]=r.slice(0,e.length),c=r[e.length];else if(r[e.charAt(0)]!==void 0){for(d=0;d<e.length;d++)i[e][d]=r[e.charAt(d)];c=r.a}else if(r[a[e][0]]!==void 0){var h=a[e];for(d=0;d<e.length;d++)i[e][d]=r[h[d]];c=r.alpha}if(i.alpha=Math.max(0,Math.min(1,c===void 0?i.alpha:c)),e==="alpha")return!1;var f;for(d=0;d<e.length;d++)f=Math.max(0,Math.min(s[e][d],i[e][d])),i[e][d]=Math.round(f);for(var v in a)v!==e&&(i[v]=N[e][v](i[e]));return!0},K.prototype.setSpace=function(e,r){var i=r[0];return i===void 0?this.getValues(e):(typeof i=="number"&&(i=Array.prototype.slice.call(r)),this.setValues(e,i),this)},K.prototype.setChannel=function(e,r,i){var a=this.values[e];return i===void 0?a[r]:i===a[r]?this:(a[r]=i,this.setValues(e,a),this)},typeof window!="undefined"&&(window.Color=K);var Se=K;function Ne(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}var J={noop:function(){},uid:function(){var e=0;return function(){return e++}}(),isNullOrUndef:function(e){return e===null||typeof e=="undefined"},isArray:function(e){if(Array.isArray&&Array.isArray(e))return!0;var r=Object.prototype.toString.call(e);return r.substr(0,7)==="[object"&&r.substr(-6)==="Array]"},isObject:function(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"},isFinite:function(e){return(typeof e=="number"||e instanceof Number)&&isFinite(e)},valueOrDefault:function(e,r){return typeof e=="undefined"?r:e},valueAtIndexOrDefault:function(e,r,i){return J.valueOrDefault(J.isArray(e)?e[r]:e,i)},callback:function(e,r,i){if(e&&typeof e.call=="function")return e.apply(i,r)},each:function(e,r,i,a){var s,c,d;if(J.isArray(e))if(c=e.length,a)for(s=c-1;s>=0;s--)r.call(i,e[s],s);else for(s=0;s<c;s++)r.call(i,e[s],s);else if(J.isObject(e))for(d=Object.keys(e),c=d.length,s=0;s<c;s++)r.call(i,e[d[s]],d[s])},arrayEquals:function(e,r){var i,a,s,c;if(!e||!r||e.length!==r.length)return!1;for(i=0,a=e.length;i<a;++i)if(s=e[i],c=r[i],s instanceof Array&&c instanceof Array){if(!J.arrayEquals(s,c))return!1}else if(s!==c)return!1;return!0},clone:function(e){if(J.isArray(e))return e.map(J.clone);if(J.isObject(e)){for(var r=Object.create(e),i=Object.keys(e),a=i.length,s=0;s<a;++s)r[i[s]]=J.clone(e[i[s]]);return r}return e},_merger:function(e,r,i,a){if(!!Ne(e)){var s=r[e],c=i[e];J.isObject(s)&&J.isObject(c)?J.merge(s,c,a):r[e]=J.clone(c)}},_mergerIf:function(e,r,i){if(!!Ne(e)){var a=r[e],s=i[e];J.isObject(a)&&J.isObject(s)?J.mergeIf(a,s):r.hasOwnProperty(e)||(r[e]=J.clone(s))}},merge:function(e,r,i){var a=J.isArray(r)?r:[r],s=a.length,c,d,h,f,v;if(!J.isObject(e))return e;for(i=i||{},c=i.merger||J._merger,d=0;d<s;++d)if(r=a[d],!!J.isObject(r))for(h=Object.keys(r),v=0,f=h.length;v<f;++v)c(h[v],e,r,i);return e},mergeIf:function(e,r){return J.merge(e,r,{merger:J._mergerIf})},extend:Object.assign||function(e){return J.merge(e,[].slice.call(arguments,1),{merger:function(r,i,a){i[r]=a[r]}})},inherits:function(e){var r=this,i=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return r.apply(this,arguments)},a=function(){this.constructor=i};return a.prototype=r.prototype,i.prototype=new a,i.extend=J.inherits,e&&J.extend(i.prototype,e),i.__super__=r.prototype,i},_deprecated:function(e,r,i,a){r!==void 0&&console.warn(e+': "'+i+'" is deprecated. Please use "'+a+'" instead')}},ke=J;J.callCallback=J.callback,J.indexOf=function(e,r,i){return Array.prototype.indexOf.call(e,r,i)},J.getValueOrDefault=J.valueOrDefault,J.getValueAtIndexOrDefault=J.valueAtIndexOrDefault;var Ae={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return(e=e-1)*e*e+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-((e=e-1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return(e=e-1)*e*e*e*e+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-Math.cos(e*(Math.PI/2))+1},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return e===0?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return e===1?1:-Math.pow(2,-10*e)+1},easeInOutExpo:function(e){return e===0?0:e===1?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(-Math.pow(2,-10*--e)+2)},easeInCirc:function(e){return e>=1?e:-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-(e=e-1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var r=1.70158,i=0,a=1;return e===0?0:e===1?1:(i||(i=.3),r=i/(2*Math.PI)*Math.asin(1/a),-(a*Math.pow(2,10*(e-=1))*Math.sin((e-r)*(2*Math.PI)/i)))},easeOutElastic:function(e){var r=1.70158,i=0,a=1;return e===0?0:e===1?1:(i||(i=.3),r=i/(2*Math.PI)*Math.asin(1/a),a*Math.pow(2,-10*e)*Math.sin((e-r)*(2*Math.PI)/i)+1)},easeInOutElastic:function(e){var r=1.70158,i=0,a=1;return e===0?0:(e/=.5)===2?1:(i||(i=.45),r=i/(2*Math.PI)*Math.asin(1/a),e<1?-.5*(a*Math.pow(2,10*(e-=1))*Math.sin((e-r)*(2*Math.PI)/i)):a*Math.pow(2,-10*(e-=1))*Math.sin((e-r)*(2*Math.PI)/i)*.5+1)},easeInBack:function(e){var r=1.70158;return e*e*((r+1)*e-r)},easeOutBack:function(e){var r=1.70158;return(e=e-1)*e*((r+1)*e+r)+1},easeInOutBack:function(e){var r=1.70158;return(e/=.5)<1?.5*(e*e*(((r*=1.525)+1)*e-r)):.5*((e-=2)*e*(((r*=1.525)+1)*e+r)+2)},easeInBounce:function(e){return 1-Ae.easeOutBounce(1-e)},easeOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:function(e){return e<.5?Ae.easeInBounce(e*2)*.5:Ae.easeOutBounce(e*2-1)*.5+.5}},Nn={effects:Ae};ke.easingEffects=Ae;var De=Math.PI,Ut=De/180,iM=De*2,dt=De/2,Bn=De/4,nf=De*2/3,na={clear:function(e){e.ctx.clearRect(0,0,e.width,e.height)},roundedRect:function(e,r,i,a,s,c){if(c){var d=Math.min(c,s/2,a/2),h=r+d,f=i+d,v=r+a-d,b=i+s-d;e.moveTo(r,f),h<v&&f<b?(e.arc(h,f,d,-De,-dt),e.arc(v,f,d,-dt,0),e.arc(v,b,d,0,dt),e.arc(h,b,d,dt,De)):h<v?(e.moveTo(h,i),e.arc(v,f,d,-dt,dt),e.arc(h,f,d,dt,De+dt)):f<b?(e.arc(h,f,d,-De,0),e.arc(h,b,d,0,De)):e.arc(h,f,d,-De,De),e.closePath(),e.moveTo(r,i)}else e.rect(r,i,a,s)},drawPoint:function(e,r,i,a,s,c){var d,h,f,v,b,y=(c||0)*Ut;if(r&&typeof r=="object"&&(d=r.toString(),d==="[object HTMLImageElement]"||d==="[object HTMLCanvasElement]")){e.save(),e.translate(a,s),e.rotate(y),e.drawImage(r,-r.width/2,-r.height/2,r.width,r.height),e.restore();return}if(!(isNaN(i)||i<=0)){switch(e.beginPath(),r){default:e.arc(a,s,i,0,iM),e.closePath();break;case"triangle":e.moveTo(a+Math.sin(y)*i,s-Math.cos(y)*i),y+=nf,e.lineTo(a+Math.sin(y)*i,s-Math.cos(y)*i),y+=nf,e.lineTo(a+Math.sin(y)*i,s-Math.cos(y)*i),e.closePath();break;case"rectRounded":b=i*.516,v=i-b,h=Math.cos(y+Bn)*v,f=Math.sin(y+Bn)*v,e.arc(a-h,s-f,b,y-De,y-dt),e.arc(a+f,s-h,b,y-dt,y),e.arc(a+h,s+f,b,y,y+dt),e.arc(a-f,s+h,b,y+dt,y+De),e.closePath();break;case"rect":if(!c){v=Math.SQRT1_2*i,e.rect(a-v,s-v,2*v,2*v);break}y+=Bn;case"rectRot":h=Math.cos(y)*i,f=Math.sin(y)*i,e.moveTo(a-h,s-f),e.lineTo(a+f,s-h),e.lineTo(a+h,s+f),e.lineTo(a-f,s+h),e.closePath();break;case"crossRot":y+=Bn;case"cross":h=Math.cos(y)*i,f=Math.sin(y)*i,e.moveTo(a-h,s-f),e.lineTo(a+h,s+f),e.moveTo(a+f,s-h),e.lineTo(a-f,s+h);break;case"star":h=Math.cos(y)*i,f=Math.sin(y)*i,e.moveTo(a-h,s-f),e.lineTo(a+h,s+f),e.moveTo(a+f,s-h),e.lineTo(a-f,s+h),y+=Bn,h=Math.cos(y)*i,f=Math.sin(y)*i,e.moveTo(a-h,s-f),e.lineTo(a+h,s+f),e.moveTo(a+f,s-h),e.lineTo(a-f,s+h);break;case"line":h=Math.cos(y)*i,f=Math.sin(y)*i,e.moveTo(a-h,s-f),e.lineTo(a+h,s+f);break;case"dash":e.moveTo(a,s),e.lineTo(a+Math.cos(y)*i,s+Math.sin(y)*i);break}e.fill(),e.stroke()}},_isPointInArea:function(e,r){var i=1e-6;return e.x>r.left-i&&e.x<r.right+i&&e.y>r.top-i&&e.y<r.bottom+i},clipArea:function(e,r){e.save(),e.beginPath(),e.rect(r.left,r.top,r.right-r.left,r.bottom-r.top),e.clip()},unclipArea:function(e){e.restore()},lineTo:function(e,r,i,a){var s=i.steppedLine;if(s){if(s==="middle"){var c=(r.x+i.x)/2;e.lineTo(c,a?i.y:r.y),e.lineTo(c,a?r.y:i.y)}else s==="after"&&!a||s!=="after"&&a?e.lineTo(r.x,i.y):e.lineTo(i.x,r.y);e.lineTo(i.x,i.y);return}if(!i.tension){e.lineTo(i.x,i.y);return}e.bezierCurveTo(a?r.controlPointPreviousX:r.controlPointNextX,a?r.controlPointPreviousY:r.controlPointNextY,a?i.controlPointNextX:i.controlPointPreviousX,a?i.controlPointNextY:i.controlPointPreviousY,i.x,i.y)}},aM=na;ke.clear=na.clear,ke.drawRoundedRectangle=function(e){e.beginPath(),na.roundedRect.apply(na,arguments)};var af={_set:function(e,r){return ke.merge(this[e]||(this[e]={}),r)}};af._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var Z=af,ia=ke.valueOrDefault;function oM(e){return!e||ke.isNullOrUndef(e.size)||ke.isNullOrUndef(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}var sM={toLineHeight:function(e,r){var i=(""+e).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!i||i[1]==="normal")return r*1.2;switch(e=+i[2],i[3]){case"px":return e;case"%":e/=100;break}return r*e},toPadding:function(e){var r,i,a,s;return ke.isObject(e)?(r=+e.top||0,i=+e.right||0,a=+e.bottom||0,s=+e.left||0):r=i=a=s=+e||0,{top:r,right:i,bottom:a,left:s,height:r+a,width:s+i}},_parseFont:function(e){var r=Z.global,i=ia(e.fontSize,r.defaultFontSize),a={family:ia(e.fontFamily,r.defaultFontFamily),lineHeight:ke.options.toLineHeight(ia(e.lineHeight,r.defaultLineHeight),i),size:i,style:ia(e.fontStyle,r.defaultFontStyle),weight:null,string:""};return a.string=oM(a),a},resolve:function(e,r,i,a){var s=!0,c,d,h;for(c=0,d=e.length;c<d;++c)if(h=e[c],h!==void 0&&(r!==void 0&&typeof h=="function"&&(h=h(r),s=!1),i!==void 0&&ke.isArray(h)&&(h=h[i],s=!1),h!==void 0))return a&&!s&&(a.cacheable=!1),h}},of={_factorize:function(e){var r=[],i=Math.sqrt(e),a;for(a=1;a<i;a++)e%a===0&&(r.push(a),r.push(e/a));return i===(i|0)&&r.push(i),r.sort(function(s,c){return s-c}).pop(),r},log10:Math.log10||function(e){var r=Math.log(e)*Math.LOG10E,i=Math.round(r),a=e===Math.pow(10,i);return a?i:r}},lM=of;ke.log10=of.log10;var cM=function(e,r){return{x:function(i){return e+e+r-i},setWidth:function(i){r=i},textAlign:function(i){return i==="center"?i:i==="right"?"left":"right"},xPlus:function(i,a){return i-a},leftForLtr:function(i,a){return i-a}}},uM=function(){return{x:function(e){return e},setWidth:function(e){},textAlign:function(e){return e},xPlus:function(e,r){return e+r},leftForLtr:function(e,r){return e}}},dM=function(e,r,i){return e?cM(r,i):uM()},fM=function(e,r){var i,a;(r==="ltr"||r==="rtl")&&(i=e.canvas.style,a=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",r,"important"),e.prevTextDirection=a)},hM=function(e){var r=e.prevTextDirection;r!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",r[0],r[1]))},mM={getRtlAdapter:dM,overrideTextDirection:fM,restoreTextDirection:hM},x=ke,vM=Nn,pM=aM,gM=sM,bM=lM,yM=mM;x.easing=vM,x.canvas=pM,x.options=gM,x.math=bM,x.rtl=yM;function xM(e,r,i,a){var s=Object.keys(i),c,d,h,f,v,b,y,_,O;for(c=0,d=s.length;c<d;++c)if(h=s[c],b=i[h],r.hasOwnProperty(h)||(r[h]=b),f=r[h],!(f===b||h[0]==="_")){if(e.hasOwnProperty(h)||(e[h]=f),v=e[h],y=typeof b,y===typeof v){if(y==="string"){if(_=Se(v),_.valid&&(O=Se(b),O.valid)){r[h]=O.mix(_,a).rgbString();continue}}else if(x.isFinite(v)&&x.isFinite(b)){r[h]=v+(b-v)*a;continue}}r[h]=b}}var Ts=function(e){x.extend(this,e),this.initialize.apply(this,arguments)};x.extend(Ts.prototype,{_type:void 0,initialize:function(){this.hidden=!1},pivot:function(){var e=this;return e._view||(e._view=x.extend({},e._model)),e._start={},e},transition:function(e){var r=this,i=r._model,a=r._start,s=r._view;return!i||e===1?(r._view=x.extend({},i),r._start=null,r):(s||(s=r._view={}),a||(a=r._start={}),xM(a,s,i,e),r)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return x.isNumber(this._model.x)&&x.isNumber(this._model.y)}}),Ts.extend=x.inherits;var Et=Ts,Os=Et.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),Ps=Os;Object.defineProperty(Os.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(Os.prototype,"chartInstance",{get:function(){return this.chart},set:function(e){this.chart=e}}),Z._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:x.noop,onComplete:x.noop}});var Cs={animations:[],request:null,addAnimation:function(e,r,i,a){var s=this.animations,c,d;for(r.chart=e,r.startTime=Date.now(),r.duration=i,a||(e.animating=!0),c=0,d=s.length;c<d;++c)if(s[c].chart===e){s[c]=r;return}s.push(r),s.length===1&&this.requestAnimationFrame()},cancelAnimation:function(e){var r=x.findIndex(this.animations,function(i){return i.chart===e});r!==-1&&(this.animations.splice(r,1),e.animating=!1)},requestAnimationFrame:function(){var e=this;e.request===null&&(e.request=x.requestAnimFrame.call(window,function(){e.request=null,e.startDigest()}))},startDigest:function(){var e=this;e.advance(),e.animations.length>0&&e.requestAnimationFrame()},advance:function(){for(var e=this.animations,r,i,a,s,c=0;c<e.length;)r=e[c],i=r.chart,a=r.numSteps,s=Math.floor((Date.now()-r.startTime)/r.duration*a)+1,r.currentStep=Math.min(s,a),x.callback(r.render,[i,r],i),x.callback(r.onAnimationProgress,[r],i),r.currentStep>=a?(x.callback(r.onAnimationComplete,[r],i),i.animating=!1,e.splice(c,1)):++c}},Kr=x.options.resolve,sf=["push","pop","shift","splice","unshift"];function wM(e,r){if(e._chartjs){e._chartjs.listeners.push(r);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[r]}}),sf.forEach(function(i){var a="onData"+i.charAt(0).toUpperCase()+i.slice(1),s=e[i];Object.defineProperty(e,i,{configurable:!0,enumerable:!1,value:function(){var c=Array.prototype.slice.call(arguments),d=s.apply(this,c);return x.each(e._chartjs.listeners,function(h){typeof h[a]=="function"&&h[a].apply(h,c)}),d}})})}function lf(e,r){var i=e._chartjs;if(!!i){var a=i.listeners,s=a.indexOf(r);s!==-1&&a.splice(s,1),!(a.length>0)&&(sf.forEach(function(c){delete e[c]}),delete e._chartjs)}}var As=function(e,r){this.initialize(e,r)};x.extend(As.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(e,r){var i=this;i.chart=e,i.index=r,i.linkScales(),i.addElements(),i._type=i.getMeta().type},updateIndex:function(e){this.index=e},linkScales:function(){var e=this,r=e.getMeta(),i=e.chart,a=i.scales,s=e.getDataset(),c=i.options.scales;(r.xAxisID===null||!(r.xAxisID in a)||s.xAxisID)&&(r.xAxisID=s.xAxisID||c.xAxes[0].id),(r.yAxisID===null||!(r.yAxisID in a)||s.yAxisID)&&(r.yAxisID=s.yAxisID||c.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(e){return this.chart.scales[e]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&lf(this._data,this)},createMetaDataset:function(){var e=this,r=e.datasetElementType;return r&&new r({_chart:e.chart,_datasetIndex:e.index})},createMetaData:function(e){var r=this,i=r.dataElementType;return i&&new i({_chart:r.chart,_datasetIndex:r.index,_index:e})},addElements:function(){var e=this,r=e.getMeta(),i=e.getDataset().data||[],a=r.data,s,c;for(s=0,c=i.length;s<c;++s)a[s]=a[s]||e.createMetaData(s);r.dataset=r.dataset||e.createMetaDataset()},addElementAndReset:function(e){var r=this.createMetaData(e);this.getMeta().data.splice(e,0,r),this.updateElement(r,e,!0)},buildOrUpdateElements:function(){var e=this,r=e.getDataset(),i=r.data||(r.data=[]);e._data!==i&&(e._data&&lf(e._data,e),i&&Object.isExtensible(i)&&wM(i,e),e._data=i),e.resyncElements()},_configure:function(){var e=this;e._config=x.merge(Object.create(null),[e.chart.options.datasets[e._type],e.getDataset()],{merger:function(r,i,a){r!=="_meta"&&r!=="data"&&x._merger(r,i,a)}})},_update:function(e){var r=this;r._configure(),r._cachedDataOpts=null,r.update(e)},update:x.noop,transition:function(e){for(var r=this.getMeta(),i=r.data||[],a=i.length,s=0;s<a;++s)i[s].transition(e);r.dataset&&r.dataset.transition(e)},draw:function(){var e=this.getMeta(),r=e.data||[],i=r.length,a=0;for(e.dataset&&e.dataset.draw();a<i;++a)r[a].draw()},getStyle:function(e){var r=this,i=r.getMeta(),a=i.dataset,s;return r._configure(),a&&e===void 0?s=r._resolveDatasetElementOptions(a||{}):(e=e||0,s=r._resolveDataElementOptions(i.data[e]||{},e)),(s.fill===!1||s.fill===null)&&(s.backgroundColor=s.borderColor),s},_resolveDatasetElementOptions:function(e,r){var i=this,a=i.chart,s=i._config,c=e.custom||{},d=a.options.elements[i.datasetElementType.prototype._type]||{},h=i._datasetElementOptions,f={},v,b,y,_,O={chart:a,dataset:i.getDataset(),datasetIndex:i.index,hover:r};for(v=0,b=h.length;v<b;++v)y=h[v],_=r?"hover"+y.charAt(0).toUpperCase()+y.slice(1):y,f[y]=Kr([c[_],s[_],d[_]],O);return f},_resolveDataElementOptions:function(e,r){var i=this,a=e&&e.custom,s=i._cachedDataOpts;if(s&&!a)return s;var c=i.chart,d=i._config,h=c.options.elements[i.dataElementType.prototype._type]||{},f=i._dataElementOptions,v={},b={chart:c,dataIndex:r,dataset:i.getDataset(),datasetIndex:i.index},y={cacheable:!a},_,O,P,C;if(a=a||{},x.isArray(f))for(O=0,P=f.length;O<P;++O)C=f[O],v[C]=Kr([a[C],d[C],h[C]],b,r,y);else for(_=Object.keys(f),O=0,P=_.length;O<P;++O)C=_[O],v[C]=Kr([a[C],d[f[C]],d[C],h[C]],b,r,y);return y.cacheable&&(i._cachedDataOpts=Object.freeze(v)),v},removeHoverStyle:function(e){x.merge(e._model,e.$previousStyle||{}),delete e.$previousStyle},setHoverStyle:function(e){var r=this.chart.data.datasets[e._datasetIndex],i=e._index,a=e.custom||{},s=e._model,c=x.getHoverColor;e.$previousStyle={backgroundColor:s.backgroundColor,borderColor:s.borderColor,borderWidth:s.borderWidth},s.backgroundColor=Kr([a.hoverBackgroundColor,r.hoverBackgroundColor,c(s.backgroundColor)],void 0,i),s.borderColor=Kr([a.hoverBorderColor,r.hoverBorderColor,c(s.borderColor)],void 0,i),s.borderWidth=Kr([a.hoverBorderWidth,r.hoverBorderWidth,s.borderWidth],void 0,i)},_removeDatasetHoverStyle:function(){var e=this.getMeta().dataset;e&&this.removeHoverStyle(e)},_setDatasetHoverStyle:function(){var e=this.getMeta().dataset,r={},i,a,s,c,d,h;if(!!e){for(h=e._model,d=this._resolveDatasetElementOptions(e,!0),c=Object.keys(d),i=0,a=c.length;i<a;++i)s=c[i],r[s]=h[s],h[s]=d[s];e.$previousStyle=r}},resyncElements:function(){var e=this,r=e.getMeta(),i=e.getDataset().data,a=r.data.length,s=i.length;s<a?r.data.splice(s,a-s):s>a&&e.insertElements(a,s-a)},insertElements:function(e,r){for(var i=0;i<r;++i)this.addElementAndReset(e+i)},onDataPush:function(){var e=arguments.length;this.insertElements(this.getDataset().data.length-e,e)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(e,r){this.getMeta().data.splice(e,r),this.insertElements(e,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),As.extend=x.inherits;var ft=As,Lt=Math.PI*2;Z._set("global",{elements:{arc:{backgroundColor:Z.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});function cf(e,r){var i=r.startAngle,a=r.endAngle,s=r.pixelMargin,c=s/r.outerRadius,d=r.x,h=r.y;e.beginPath(),e.arc(d,h,r.outerRadius,i-c,a+c),r.innerRadius>s?(c=s/r.innerRadius,e.arc(d,h,r.innerRadius-s,a+c,i-c,!0)):e.arc(d,h,s,a+Math.PI/2,i-Math.PI/2),e.closePath(),e.clip()}function _M(e,r,i,a){var s=i.endAngle,c;for(a&&(i.endAngle=i.startAngle+Lt,cf(e,i),i.endAngle=s,i.endAngle===i.startAngle&&i.fullCircles&&(i.endAngle+=Lt,i.fullCircles--)),e.beginPath(),e.arc(i.x,i.y,i.innerRadius,i.startAngle+Lt,i.startAngle,!0),c=0;c<i.fullCircles;++c)e.stroke();for(e.beginPath(),e.arc(i.x,i.y,r.outerRadius,i.startAngle,i.startAngle+Lt),c=0;c<i.fullCircles;++c)e.stroke()}function SM(e,r,i){var a=r.borderAlign==="inner";a?(e.lineWidth=r.borderWidth*2,e.lineJoin="round"):(e.lineWidth=r.borderWidth,e.lineJoin="bevel"),i.fullCircles&&_M(e,r,i,a),a&&cf(e,i),e.beginPath(),e.arc(i.x,i.y,r.outerRadius,i.startAngle,i.endAngle),e.arc(i.x,i.y,i.innerRadius,i.endAngle,i.startAngle,!0),e.closePath(),e.stroke()}var kM=Et.extend({_type:"arc",inLabelRange:function(e){var r=this._view;return r?Math.pow(e-r.x,2)<Math.pow(r.radius+r.hoverRadius,2):!1},inRange:function(e,r){var i=this._view;if(i){for(var a=x.getAngleFromPoint(i,{x:e,y:r}),s=a.angle,c=a.distance,d=i.startAngle,h=i.endAngle;h<d;)h+=Lt;for(;s>h;)s-=Lt;for(;s<d;)s+=Lt;var f=s>=d&&s<=h,v=c>=i.innerRadius&&c<=i.outerRadius;return f&&v}return!1},getCenterPoint:function(){var e=this._view,r=(e.startAngle+e.endAngle)/2,i=(e.innerRadius+e.outerRadius)/2;return{x:e.x+Math.cos(r)*i,y:e.y+Math.sin(r)*i}},getArea:function(){var e=this._view;return Math.PI*((e.endAngle-e.startAngle)/(2*Math.PI))*(Math.pow(e.outerRadius,2)-Math.pow(e.innerRadius,2))},tooltipPosition:function(){var e=this._view,r=e.startAngle+(e.endAngle-e.startAngle)/2,i=(e.outerRadius-e.innerRadius)/2+e.innerRadius;return{x:e.x+Math.cos(r)*i,y:e.y+Math.sin(r)*i}},draw:function(){var e=this._chart.ctx,r=this._view,i=r.borderAlign==="inner"?.33:0,a={x:r.x,y:r.y,innerRadius:r.innerRadius,outerRadius:Math.max(r.outerRadius-i,0),pixelMargin:i,startAngle:r.startAngle,endAngle:r.endAngle,fullCircles:Math.floor(r.circumference/Lt)},s;if(e.save(),e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,a.fullCircles){for(a.endAngle=a.startAngle+Lt,e.beginPath(),e.arc(a.x,a.y,a.outerRadius,a.startAngle,a.endAngle),e.arc(a.x,a.y,a.innerRadius,a.endAngle,a.startAngle,!0),e.closePath(),s=0;s<a.fullCircles;++s)e.fill();a.endAngle=a.startAngle+r.circumference%Lt}e.beginPath(),e.arc(a.x,a.y,a.outerRadius,a.startAngle,a.endAngle),e.arc(a.x,a.y,a.innerRadius,a.endAngle,a.startAngle,!0),e.closePath(),e.fill(),r.borderWidth&&SM(e,r,a),e.restore()}}),uf=x.valueOrDefault,df=Z.global.defaultColor;Z._set("global",{elements:{line:{tension:.4,backgroundColor:df,borderWidth:3,borderColor:df,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var MM=Et.extend({_type:"line",draw:function(){var e=this,r=e._view,i=e._chart.ctx,a=r.spanGaps,s=e._children.slice(),c=Z.global,d=c.elements.line,h=-1,f=e._loop,v,b,y;if(!!s.length){if(e._loop){for(v=0;v<s.length;++v)if(b=x.previousItem(s,v),!s[v]._view.skip&&b._view.skip){s=s.slice(v).concat(s.slice(0,v)),f=a;break}f&&s.push(s[0])}for(i.save(),i.lineCap=r.borderCapStyle||d.borderCapStyle,i.setLineDash&&i.setLineDash(r.borderDash||d.borderDash),i.lineDashOffset=uf(r.borderDashOffset,d.borderDashOffset),i.lineJoin=r.borderJoinStyle||d.borderJoinStyle,i.lineWidth=uf(r.borderWidth,d.borderWidth),i.strokeStyle=r.borderColor||c.defaultColor,i.beginPath(),y=s[0]._view,y.skip||(i.moveTo(y.x,y.y),h=0),v=1;v<s.length;++v)y=s[v]._view,b=h===-1?x.previousItem(s,v):s[h],y.skip||(h!==v-1&&!a||h===-1?i.moveTo(y.x,y.y):x.canvas.lineTo(i,b._view,y),h=v);f&&i.closePath(),i.stroke(),i.restore()}}}),TM=x.valueOrDefault,ff=Z.global.defaultColor;Z._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:ff,borderColor:ff,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});function hf(e){var r=this._view;return r?Math.abs(e-r.x)<r.radius+r.hitRadius:!1}function OM(e){var r=this._view;return r?Math.abs(e-r.y)<r.radius+r.hitRadius:!1}var PM=Et.extend({_type:"point",inRange:function(e,r){var i=this._view;return i?Math.pow(e-i.x,2)+Math.pow(r-i.y,2)<Math.pow(i.hitRadius+i.radius,2):!1},inLabelRange:hf,inXRange:hf,inYRange:OM,getCenterPoint:function(){var e=this._view;return{x:e.x,y:e.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y,padding:e.radius+e.borderWidth}},draw:function(e){var r=this._view,i=this._chart.ctx,a=r.pointStyle,s=r.rotation,c=r.radius,d=r.x,h=r.y,f=Z.global,v=f.defaultColor;r.skip||(e===void 0||x.canvas._isPointInArea(r,e))&&(i.strokeStyle=r.borderColor||v,i.lineWidth=TM(r.borderWidth,f.elements.point.borderWidth),i.fillStyle=r.backgroundColor||v,x.canvas.drawPoint(i,a,c,d,h,s))}}),mf=Z.global.defaultColor;Z._set("global",{elements:{rectangle:{backgroundColor:mf,borderColor:mf,borderSkipped:"bottom",borderWidth:0}}});function aa(e){return e&&e.width!==void 0}function vf(e){var r,i,a,s,c;return aa(e)?(c=e.width/2,r=e.x-c,i=e.x+c,a=Math.min(e.y,e.base),s=Math.max(e.y,e.base)):(c=e.height/2,r=Math.min(e.x,e.base),i=Math.max(e.x,e.base),a=e.y-c,s=e.y+c),{left:r,top:a,right:i,bottom:s}}function pf(e,r,i){return e===r?i:e===i?r:e}function CM(e){var r=e.borderSkipped,i={};return r&&(e.horizontal?e.base>e.x&&(r=pf(r,"left","right")):e.base<e.y&&(r=pf(r,"bottom","top")),i[r]=!0),i}function AM(e,r,i){var a=e.borderWidth,s=CM(e),c,d,h,f;return x.isObject(a)?(c=+a.top||0,d=+a.right||0,h=+a.bottom||0,f=+a.left||0):c=d=h=f=+a||0,{t:s.top||c<0?0:c>i?i:c,r:s.right||d<0?0:d>r?r:d,b:s.bottom||h<0?0:h>i?i:h,l:s.left||f<0?0:f>r?r:f}}function DM(e){var r=vf(e),i=r.right-r.left,a=r.bottom-r.top,s=AM(e,i/2,a/2);return{outer:{x:r.left,y:r.top,w:i,h:a},inner:{x:r.left+s.l,y:r.top+s.t,w:i-s.l-s.r,h:a-s.t-s.b}}}function jn(e,r,i){var a=r===null,s=i===null,c=!e||a&&s?!1:vf(e);return c&&(a||r>=c.left&&r<=c.right)&&(s||i>=c.top&&i<=c.bottom)}var IM=Et.extend({_type:"rectangle",draw:function(){var e=this._chart.ctx,r=this._view,i=DM(r),a=i.outer,s=i.inner;e.fillStyle=r.backgroundColor,e.fillRect(a.x,a.y,a.w,a.h),!(a.w===s.w&&a.h===s.h)&&(e.save(),e.beginPath(),e.rect(a.x,a.y,a.w,a.h),e.clip(),e.fillStyle=r.borderColor,e.rect(s.x,s.y,s.w,s.h),e.fill("evenodd"),e.restore())},height:function(){var e=this._view;return e.base-e.y},inRange:function(e,r){return jn(this._view,e,r)},inLabelRange:function(e,r){var i=this._view;return aa(i)?jn(i,e,null):jn(i,null,r)},inXRange:function(e){return jn(this._view,e,null)},inYRange:function(e){return jn(this._view,null,e)},getCenterPoint:function(){var e=this._view,r,i;return aa(e)?(r=e.x,i=(e.y+e.base)/2):(r=(e.x+e.base)/2,i=e.y),{x:r,y:i}},getArea:function(){var e=this._view;return aa(e)?e.width*Math.abs(e.y-e.base):e.height*Math.abs(e.x-e.base)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y}}}),Ke={},EM=kM,LM=MM,FM=PM,RM=IM;Ke.Arc=EM,Ke.Line=LM,Ke.Point=FM,Ke.Rectangle=RM;var zn=x._deprecated,Qr=x.valueOrDefault;Z._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),Z._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});function $M(e,r){var i=e._length,a,s,c,d;for(c=1,d=r.length;c<d;++c)i=Math.min(i,Math.abs(r[c]-r[c-1]));for(c=0,d=e.getTicks().length;c<d;++c)s=e.getPixelForTick(c),i=c>0?Math.min(i,Math.abs(s-a)):i,a=s;return i}function NM(e,r,i){var a=i.barThickness,s=r.stackCount,c=r.pixels[e],d=x.isNullOrUndef(a)?$M(r.scale,r.pixels):-1,h,f;return x.isNullOrUndef(a)?(h=d*i.categoryPercentage,f=i.barPercentage):(h=a*s,f=1),{chunk:h/s,ratio:f,start:c-h/2}}function BM(e,r,i){var a=r.pixels,s=a[e],c=e>0?a[e-1]:null,d=e<a.length-1?a[e+1]:null,h=i.categoryPercentage,f,v;return c===null&&(c=s-(d===null?r.end-r.start:d-s)),d===null&&(d=s+s-c),f=s-(s-Math.min(c,d))/2*h,v=Math.abs(d-c)/2*h,{chunk:v/r.stackCount,ratio:i.barPercentage,start:f}}var gf=ft.extend({dataElementType:Ke.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var e=this,r,i;ft.prototype.initialize.apply(e,arguments),r=e.getMeta(),r.stack=e.getDataset().stack,r.bar=!0,i=e._getIndexScale().options,zn("bar chart",i.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage"),zn("bar chart",i.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness"),zn("bar chart",i.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage"),zn("bar chart",e._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength"),zn("bar chart",i.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(e){var r=this,i=r.getMeta().data,a,s;for(r._ruler=r.getRuler(),a=0,s=i.length;a<s;++a)r.updateElement(i[a],a,e)},updateElement:function(e,r,i){var a=this,s=a.getMeta(),c=a.getDataset(),d=a._resolveDataElementOptions(e,r);e._xScale=a.getScaleForId(s.xAxisID),e._yScale=a.getScaleForId(s.yAxisID),e._datasetIndex=a.index,e._index=r,e._model={backgroundColor:d.backgroundColor,borderColor:d.borderColor,borderSkipped:d.borderSkipped,borderWidth:d.borderWidth,datasetLabel:c.label,label:a.chart.data.labels[r]},x.isArray(c.data[r])&&(e._model.borderSkipped=null),a._updateElementGeometry(e,r,i,d),e.pivot()},_updateElementGeometry:function(e,r,i,a){var s=this,c=e._model,d=s._getValueScale(),h=d.getBasePixel(),f=d.isHorizontal(),v=s._ruler||s.getRuler(),b=s.calculateBarValuePixels(s.index,r,a),y=s.calculateBarIndexPixels(s.index,r,v,a);c.horizontal=f,c.base=i?h:b.base,c.x=f?i?h:b.head:y.center,c.y=f?y.center:i?h:b.head,c.height=f?y.size:void 0,c.width=f?void 0:y.size},_getStacks:function(e){var r=this,i=r._getIndexScale(),a=i._getMatchingVisibleMetas(r._type),s=i.options.stacked,c=a.length,d=[],h,f;for(h=0;h<c&&(f=a[h],(s===!1||d.indexOf(f.stack)===-1||s===void 0&&f.stack===void 0)&&d.push(f.stack),f.index!==e);++h);return d},getStackCount:function(){return this._getStacks().length},getStackIndex:function(e,r){var i=this._getStacks(e),a=r!==void 0?i.indexOf(r):-1;return a===-1?i.length-1:a},getRuler:function(){var e=this,r=e._getIndexScale(),i=[],a,s;for(a=0,s=e.getMeta().data.length;a<s;++a)i.push(r.getPixelForValue(null,a,e.index));return{pixels:i,start:r._startPixel,end:r._endPixel,stackCount:e.getStackCount(),scale:r}},calculateBarValuePixels:function(e,r,i){var a=this,s=a.chart,c=a._getValueScale(),d=c.isHorizontal(),h=s.data.datasets,f=c._getMatchingVisibleMetas(a._type),v=c._parseValue(h[e].data[r]),b=i.minBarLength,y=c.options.stacked,_=a.getMeta().stack,O=v.start===void 0?0:v.max>=0&&v.min>=0?v.min:v.max,P=v.start===void 0?v.end:v.max>=0&&v.min>=0?v.max-v.min:v.min-v.max,C=f.length,A,F,U,q,ae,ie,he;if(y||y===void 0&&_!==void 0)for(A=0;A<C&&(F=f[A],F.index!==e);++A)F.stack===_&&(he=c._parseValue(h[F.index].data[r]),U=he.start===void 0?he.end:he.min>=0&&he.max>=0?he.max:he.min,(v.min<0&&U<0||v.max>=0&&U>0)&&(O+=U));return q=c.getPixelForValue(O),ae=c.getPixelForValue(O+P),ie=ae-q,b!==void 0&&Math.abs(ie)<b&&(ie=b,P>=0&&!d||P<0&&d?ae=q-b:ae=q+b),{size:ie,base:q,head:ae,center:ae+ie/2}},calculateBarIndexPixels:function(e,r,i,a){var s=this,c=a.barThickness==="flex"?BM(r,i,a):NM(r,i,a),d=s.getStackIndex(e,s.getMeta().stack),h=c.start+c.chunk*d+c.chunk/2,f=Math.min(Qr(a.maxBarThickness,1/0),c.chunk*c.ratio);return{base:h-f/2,head:h+f/2,center:h,size:f}},draw:function(){var e=this,r=e.chart,i=e._getValueScale(),a=e.getMeta().data,s=e.getDataset(),c=a.length,d=0;for(x.canvas.clipArea(r.ctx,r.chartArea);d<c;++d){var h=i._parseValue(s.data[d]);!isNaN(h.min)&&!isNaN(h.max)&&a[d].draw()}x.canvas.unclipArea(r.ctx)},_resolveDataElementOptions:function(){var e=this,r=x.extend({},ft.prototype._resolveDataElementOptions.apply(e,arguments)),i=e._getIndexScale().options,a=e._getValueScale().options;return r.barPercentage=Qr(i.barPercentage,r.barPercentage),r.barThickness=Qr(i.barThickness,r.barThickness),r.categoryPercentage=Qr(i.categoryPercentage,r.categoryPercentage),r.maxBarThickness=Qr(i.maxBarThickness,r.maxBarThickness),r.minBarLength=Qr(a.minBarLength,r.minBarLength),r}}),Ds=x.valueOrDefault,jM=x.options.resolve;Z._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(e,r){var i=r.datasets[e.datasetIndex].label||"",a=r.datasets[e.datasetIndex].data[e.index];return i+": ("+e.xLabel+", "+e.yLabel+", "+a.r+")"}}}});var zM=ft.extend({dataElementType:Ke.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(e){var r=this,i=r.getMeta(),a=i.data;x.each(a,function(s,c){r.updateElement(s,c,e)})},updateElement:function(e,r,i){var a=this,s=a.getMeta(),c=e.custom||{},d=a.getScaleForId(s.xAxisID),h=a.getScaleForId(s.yAxisID),f=a._resolveDataElementOptions(e,r),v=a.getDataset().data[r],b=a.index,y=i?d.getPixelForDecimal(.5):d.getPixelForValue(typeof v=="object"?v:NaN,r,b),_=i?h.getBasePixel():h.getPixelForValue(v,r,b);e._xScale=d,e._yScale=h,e._options=f,e._datasetIndex=b,e._index=r,e._model={backgroundColor:f.backgroundColor,borderColor:f.borderColor,borderWidth:f.borderWidth,hitRadius:f.hitRadius,pointStyle:f.pointStyle,rotation:f.rotation,radius:i?0:f.radius,skip:c.skip||isNaN(y)||isNaN(_),x:y,y:_},e.pivot()},setHoverStyle:function(e){var r=e._model,i=e._options,a=x.getHoverColor;e.$previousStyle={backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth,radius:r.radius},r.backgroundColor=Ds(i.hoverBackgroundColor,a(i.backgroundColor)),r.borderColor=Ds(i.hoverBorderColor,a(i.borderColor)),r.borderWidth=Ds(i.hoverBorderWidth,i.borderWidth),r.radius=i.radius+i.hoverRadius},_resolveDataElementOptions:function(e,r){var i=this,a=i.chart,s=i.getDataset(),c=e.custom||{},d=s.data[r]||{},h=ft.prototype._resolveDataElementOptions.apply(i,arguments),f={chart:a,dataIndex:r,dataset:s,datasetIndex:i.index};return i._cachedDataOpts===h&&(h=x.extend({},h)),h.radius=jM([c.radius,d.r,i._config.radius,a.options.elements.point.radius],f,r),h}}),oa=x.valueOrDefault,yr=Math.PI,Gt=yr*2,xr=yr/2;Z._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(e){var r=document.createElement("ul"),i=e.data,a=i.datasets,s=i.labels,c,d,h,f;if(r.setAttribute("class",e.id+"-legend"),a.length)for(c=0,d=a[0].data.length;c<d;++c)h=r.appendChild(document.createElement("li")),f=h.appendChild(document.createElement("span")),f.style.backgroundColor=a[0].backgroundColor[c],s[c]&&h.appendChild(document.createTextNode(s[c]));return r.outerHTML},legend:{labels:{generateLabels:function(e){var r=e.data;return r.labels.length&&r.datasets.length?r.labels.map(function(i,a){var s=e.getDatasetMeta(0),c=s.controller.getStyle(a);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,lineWidth:c.borderWidth,hidden:isNaN(r.datasets[0].data[a])||s.data[a].hidden,index:a}}):[]}},onClick:function(e,r){var i=r.index,a=this.chart,s,c,d;for(s=0,c=(a.data.datasets||[]).length;s<c;++s)d=a.getDatasetMeta(s),d.data[i]&&(d.data[i].hidden=!d.data[i].hidden);a.update()}},cutoutPercentage:50,rotation:-xr,circumference:Gt,tooltips:{callbacks:{title:function(){return""},label:function(e,r){var i=r.labels[e.index],a=": "+r.datasets[e.datasetIndex].data[e.index];return x.isArray(i)?(i=i.slice(),i[0]+=a):i+=a,i}}}});var bf=ft.extend({dataElementType:Ke.Arc,linkScales:x.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(e){for(var r=0,i=0;i<e;++i)this.chart.isDatasetVisible(i)&&++r;return r},update:function(e){var r=this,i=r.chart,a=i.chartArea,s=i.options,c=1,d=1,h=0,f=0,v=r.getMeta(),b=v.data,y=s.cutoutPercentage/100||0,_=s.circumference,O=r._getRingWeight(r.index),P,C,A,F;if(_<Gt){var U=s.rotation%Gt;U+=U>=yr?-Gt:U<-yr?Gt:0;var q=U+_,ae=Math.cos(U),ie=Math.sin(U),he=Math.cos(q),ue=Math.sin(q),ge=U<=0&&q>=0||q>=Gt,ye=U<=xr&&q>=xr||q>=Gt+xr,$e=U===-yr||q>=yr,Fe=U<=-xr&&q>=-xr||q>=yr+xr,Ie=$e?-1:Math.min(ae,ae*y,he,he*y),Be=Fe?-1:Math.min(ie,ie*y,ue,ue*y),tn=ge?1:Math.max(ae,ae*y,he,he*y),rn=ye?1:Math.max(ie,ie*y,ue,ue*y);c=(tn-Ie)/2,d=(rn-Be)/2,h=-(tn+Ie)/2,f=-(rn+Be)/2}for(A=0,F=b.length;A<F;++A)b[A]._options=r._resolveDataElementOptions(b[A],A);for(i.borderWidth=r.getMaxBorderWidth(),P=(a.right-a.left-i.borderWidth)/c,C=(a.bottom-a.top-i.borderWidth)/d,i.outerRadius=Math.max(Math.min(P,C)/2,0),i.innerRadius=Math.max(i.outerRadius*y,0),i.radiusLength=(i.outerRadius-i.innerRadius)/(r._getVisibleDatasetWeightTotal()||1),i.offsetX=h*i.outerRadius,i.offsetY=f*i.outerRadius,v.total=r.calculateTotal(),r.outerRadius=i.outerRadius-i.radiusLength*r._getRingWeightOffset(r.index),r.innerRadius=Math.max(r.outerRadius-i.radiusLength*O,0),A=0,F=b.length;A<F;++A)r.updateElement(b[A],A,e)},updateElement:function(e,r,i){var a=this,s=a.chart,c=s.chartArea,d=s.options,h=d.animation,f=(c.left+c.right)/2,v=(c.top+c.bottom)/2,b=d.rotation,y=d.rotation,_=a.getDataset(),O=i&&h.animateRotate||e.hidden?0:a.calculateCircumference(_.data[r])*(d.circumference/Gt),P=i&&h.animateScale?0:a.innerRadius,C=i&&h.animateScale?0:a.outerRadius,A=e._options||{};x.extend(e,{_datasetIndex:a.index,_index:r,_model:{backgroundColor:A.backgroundColor,borderColor:A.borderColor,borderWidth:A.borderWidth,borderAlign:A.borderAlign,x:f+s.offsetX,y:v+s.offsetY,startAngle:b,endAngle:y,circumference:O,outerRadius:C,innerRadius:P,label:x.valueAtIndexOrDefault(_.label,r,s.data.labels[r])}});var F=e._model;(!i||!h.animateRotate)&&(r===0?F.startAngle=d.rotation:F.startAngle=a.getMeta().data[r-1]._model.endAngle,F.endAngle=F.startAngle+F.circumference),e.pivot()},calculateTotal:function(){var e=this.getDataset(),r=this.getMeta(),i=0,a;return x.each(r.data,function(s,c){a=e.data[c],!isNaN(a)&&!s.hidden&&(i+=Math.abs(a))}),i},calculateCircumference:function(e){var r=this.getMeta().total;return r>0&&!isNaN(e)?Gt*(Math.abs(e)/r):0},getMaxBorderWidth:function(e){var r=this,i=0,a=r.chart,s,c,d,h,f,v,b,y;if(!e){for(s=0,c=a.data.datasets.length;s<c;++s)if(a.isDatasetVisible(s)){d=a.getDatasetMeta(s),e=d.data,s!==r.index&&(f=d.controller);break}}if(!e)return 0;for(s=0,c=e.length;s<c;++s)h=e[s],f?(f._configure(),v=f._resolveDataElementOptions(h,s)):v=h._options,v.borderAlign!=="inner"&&(b=v.borderWidth,y=v.hoverBorderWidth,i=b>i?b:i,i=y>i?y:i);return i},setHoverStyle:function(e){var r=e._model,i=e._options,a=x.getHoverColor;e.$previousStyle={backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth},r.backgroundColor=oa(i.hoverBackgroundColor,a(i.backgroundColor)),r.borderColor=oa(i.hoverBorderColor,a(i.borderColor)),r.borderWidth=oa(i.hoverBorderWidth,i.borderWidth)},_getRingWeightOffset:function(e){for(var r=0,i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(r+=this._getRingWeight(i));return r},_getRingWeight:function(e){return Math.max(oa(this.chart.data.datasets[e].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});Z._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),Z._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var WM=gf.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),qt=x.valueOrDefault,HM=x.options.resolve,Is=x.canvas._isPointInArea;Z._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});function yf(e,r){var i=e&&e.options.ticks||{},a=i.reverse,s=i.min===void 0?r:0,c=i.max===void 0?r:0;return{start:a?c:s,end:a?s:c}}function YM(e,r,i){var a=i/2,s=yf(e,a),c=yf(r,a);return{top:c.end,right:s.end,bottom:c.start,left:s.start}}function VM(e){var r,i,a,s;return x.isObject(e)?(r=e.top,i=e.right,a=e.bottom,s=e.left):r=i=a=s=e,{top:r,right:i,bottom:a,left:s}}var xf=ft.extend({datasetElementType:Ke.Line,dataElementType:Ke.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(e){var r=this,i=r.getMeta(),a=i.dataset,s=i.data||[],c=r.chart.options,d=r._config,h=r._showLine=qt(d.showLine,c.showLines),f,v;for(r._xScale=r.getScaleForId(i.xAxisID),r._yScale=r.getScaleForId(i.yAxisID),h&&(d.tension!==void 0&&d.lineTension===void 0&&(d.lineTension=d.tension),a._scale=r._yScale,a._datasetIndex=r.index,a._children=s,a._model=r._resolveDatasetElementOptions(a),a.pivot()),f=0,v=s.length;f<v;++f)r.updateElement(s[f],f,e);for(h&&a._model.tension!==0&&r.updateBezierControlPoints(),f=0,v=s.length;f<v;++f)s[f].pivot()},updateElement:function(e,r,i){var a=this,s=a.getMeta(),c=e.custom||{},d=a.getDataset(),h=a.index,f=d.data[r],v=a._xScale,b=a._yScale,y=s.dataset._model,_,O,P=a._resolveDataElementOptions(e,r);_=v.getPixelForValue(typeof f=="object"?f:NaN,r,h),O=i?b.getBasePixel():a.calculatePointY(f,r,h),e._xScale=v,e._yScale=b,e._options=P,e._datasetIndex=h,e._index=r,e._model={x:_,y:O,skip:c.skip||isNaN(_)||isNaN(O),radius:P.radius,pointStyle:P.pointStyle,rotation:P.rotation,backgroundColor:P.backgroundColor,borderColor:P.borderColor,borderWidth:P.borderWidth,tension:qt(c.tension,y?y.tension:0),steppedLine:y?y.steppedLine:!1,hitRadius:P.hitRadius}},_resolveDatasetElementOptions:function(e){var r=this,i=r._config,a=e.custom||{},s=r.chart.options,c=s.elements.line,d=ft.prototype._resolveDatasetElementOptions.apply(r,arguments);return d.spanGaps=qt(i.spanGaps,s.spanGaps),d.tension=qt(i.lineTension,c.tension),d.steppedLine=HM([a.steppedLine,i.steppedLine,c.stepped]),d.clip=VM(qt(i.clip,YM(r._xScale,r._yScale,d.borderWidth))),d},calculatePointY:function(e,r,i){var a=this,s=a.chart,c=a._yScale,d=0,h=0,f,v,b,y,_,O,P;if(c.options.stacked){for(_=+c.getRightValue(e),O=s._getSortedVisibleDatasetMetas(),P=O.length,f=0;f<P&&(b=O[f],b.index!==i);++f)v=s.data.datasets[b.index],b.type==="line"&&b.yAxisID===c.id&&(y=+c.getRightValue(v.data[r]),y<0?h+=y||0:d+=y||0);return _<0?c.getPixelForValue(h+_):c.getPixelForValue(d+_)}return c.getPixelForValue(e)},updateBezierControlPoints:function(){var e=this,r=e.chart,i=e.getMeta(),a=i.dataset._model,s=r.chartArea,c=i.data||[],d,h,f,v;a.spanGaps&&(c=c.filter(function(y){return!y._model.skip}));function b(y,_,O){return Math.max(Math.min(y,O),_)}if(a.cubicInterpolationMode==="monotone")x.splineCurveMonotone(c);else for(d=0,h=c.length;d<h;++d)f=c[d]._model,v=x.splineCurve(x.previousItem(c,d)._model,f,x.nextItem(c,d)._model,a.tension),f.controlPointPreviousX=v.previous.x,f.controlPointPreviousY=v.previous.y,f.controlPointNextX=v.next.x,f.controlPointNextY=v.next.y;if(r.options.elements.line.capBezierPoints)for(d=0,h=c.length;d<h;++d)f=c[d]._model,Is(f,s)&&(d>0&&Is(c[d-1]._model,s)&&(f.controlPointPreviousX=b(f.controlPointPreviousX,s.left,s.right),f.controlPointPreviousY=b(f.controlPointPreviousY,s.top,s.bottom)),d<c.length-1&&Is(c[d+1]._model,s)&&(f.controlPointNextX=b(f.controlPointNextX,s.left,s.right),f.controlPointNextY=b(f.controlPointNextY,s.top,s.bottom)))},draw:function(){var e=this,r=e.chart,i=e.getMeta(),a=i.data||[],s=r.chartArea,c=r.canvas,d=0,h=a.length,f;for(e._showLine&&(f=i.dataset._model.clip,x.canvas.clipArea(r.ctx,{left:f.left===!1?0:s.left-f.left,right:f.right===!1?c.width:s.right+f.right,top:f.top===!1?0:s.top-f.top,bottom:f.bottom===!1?c.height:s.bottom+f.bottom}),i.dataset.draw(),x.canvas.unclipArea(r.ctx));d<h;++d)a[d].draw(s)},setHoverStyle:function(e){var r=e._model,i=e._options,a=x.getHoverColor;e.$previousStyle={backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth,radius:r.radius},r.backgroundColor=qt(i.hoverBackgroundColor,a(i.backgroundColor)),r.borderColor=qt(i.hoverBorderColor,a(i.borderColor)),r.borderWidth=qt(i.hoverBorderWidth,i.borderWidth),r.radius=qt(i.hoverRadius,i.radius)}}),UM=x.options.resolve;Z._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(e){var r=document.createElement("ul"),i=e.data,a=i.datasets,s=i.labels,c,d,h,f;if(r.setAttribute("class",e.id+"-legend"),a.length)for(c=0,d=a[0].data.length;c<d;++c)h=r.appendChild(document.createElement("li")),f=h.appendChild(document.createElement("span")),f.style.backgroundColor=a[0].backgroundColor[c],s[c]&&h.appendChild(document.createTextNode(s[c]));return r.outerHTML},legend:{labels:{generateLabels:function(e){var r=e.data;return r.labels.length&&r.datasets.length?r.labels.map(function(i,a){var s=e.getDatasetMeta(0),c=s.controller.getStyle(a);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,lineWidth:c.borderWidth,hidden:isNaN(r.datasets[0].data[a])||s.data[a].hidden,index:a}}):[]}},onClick:function(e,r){var i=r.index,a=this.chart,s,c,d;for(s=0,c=(a.data.datasets||[]).length;s<c;++s)d=a.getDatasetMeta(s),d.data[i].hidden=!d.data[i].hidden;a.update()}},tooltips:{callbacks:{title:function(){return""},label:function(e,r){return r.labels[e.index]+": "+e.yLabel}}}});var qM=ft.extend({dataElementType:Ke.Arc,linkScales:x.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(e){var r=this,i=r.getDataset(),a=r.getMeta(),s=r.chart.options.startAngle||0,c=r._starts=[],d=r._angles=[],h=a.data,f,v,b;for(r._updateRadius(),a.count=r.countVisibleElements(),f=0,v=i.data.length;f<v;f++)c[f]=s,b=r._computeAngle(f),d[f]=b,s+=b;for(f=0,v=h.length;f<v;++f)h[f]._options=r._resolveDataElementOptions(h[f],f),r.updateElement(h[f],f,e)},_updateRadius:function(){var e=this,r=e.chart,i=r.chartArea,a=r.options,s=Math.min(i.right-i.left,i.bottom-i.top);r.outerRadius=Math.max(s/2,0),r.innerRadius=Math.max(a.cutoutPercentage?r.outerRadius/100*a.cutoutPercentage:1,0),r.radiusLength=(r.outerRadius-r.innerRadius)/r.getVisibleDatasetCount(),e.outerRadius=r.outerRadius-r.radiusLength*e.index,e.innerRadius=e.outerRadius-r.radiusLength},updateElement:function(e,r,i){var a=this,s=a.chart,c=a.getDataset(),d=s.options,h=d.animation,f=s.scale,v=s.data.labels,b=f.xCenter,y=f.yCenter,_=d.startAngle,O=e.hidden?0:f.getDistanceFromCenterForValue(c.data[r]),P=a._starts[r],C=P+(e.hidden?0:a._angles[r]),A=h.animateScale?0:f.getDistanceFromCenterForValue(c.data[r]),F=e._options||{};x.extend(e,{_datasetIndex:a.index,_index:r,_scale:f,_model:{backgroundColor:F.backgroundColor,borderColor:F.borderColor,borderWidth:F.borderWidth,borderAlign:F.borderAlign,x:b,y,innerRadius:0,outerRadius:i?A:O,startAngle:i&&h.animateRotate?_:P,endAngle:i&&h.animateRotate?_:C,label:x.valueAtIndexOrDefault(v,r,v[r])}}),e.pivot()},countVisibleElements:function(){var e=this.getDataset(),r=this.getMeta(),i=0;return x.each(r.data,function(a,s){!isNaN(e.data[s])&&!a.hidden&&i++}),i},setHoverStyle:function(e){var r=e._model,i=e._options,a=x.getHoverColor,s=x.valueOrDefault;e.$previousStyle={backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth},r.backgroundColor=s(i.hoverBackgroundColor,a(i.backgroundColor)),r.borderColor=s(i.hoverBorderColor,a(i.borderColor)),r.borderWidth=s(i.hoverBorderWidth,i.borderWidth)},_computeAngle:function(e){var r=this,i=this.getMeta().count,a=r.getDataset(),s=r.getMeta();if(isNaN(a.data[e])||s.data[e].hidden)return 0;var c={chart:r.chart,dataIndex:e,dataset:a,datasetIndex:r.index};return UM([r.chart.options.elements.arc.angle,2*Math.PI/i],c,e)}});Z._set("pie",x.clone(Z.doughnut)),Z._set("pie",{cutoutPercentage:0});var KM=bf,wr=x.valueOrDefault;Z._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});var QM=ft.extend({datasetElementType:Ke.Line,dataElementType:Ke.Point,linkScales:x.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(e){var r=this,i=r.getMeta(),a=i.dataset,s=i.data||[],c=r.chart.scale,d=r._config,h,f;for(d.tension!==void 0&&d.lineTension===void 0&&(d.lineTension=d.tension),a._scale=c,a._datasetIndex=r.index,a._children=s,a._loop=!0,a._model=r._resolveDatasetElementOptions(a),a.pivot(),h=0,f=s.length;h<f;++h)r.updateElement(s[h],h,e);for(r.updateBezierControlPoints(),h=0,f=s.length;h<f;++h)s[h].pivot()},updateElement:function(e,r,i){var a=this,s=e.custom||{},c=a.getDataset(),d=a.chart.scale,h=d.getPointPositionForValue(r,c.data[r]),f=a._resolveDataElementOptions(e,r),v=a.getMeta().dataset._model,b=i?d.xCenter:h.x,y=i?d.yCenter:h.y;e._scale=d,e._options=f,e._datasetIndex=a.index,e._index=r,e._model={x:b,y,skip:s.skip||isNaN(b)||isNaN(y),radius:f.radius,pointStyle:f.pointStyle,rotation:f.rotation,backgroundColor:f.backgroundColor,borderColor:f.borderColor,borderWidth:f.borderWidth,tension:wr(s.tension,v?v.tension:0),hitRadius:f.hitRadius}},_resolveDatasetElementOptions:function(){var e=this,r=e._config,i=e.chart.options,a=ft.prototype._resolveDatasetElementOptions.apply(e,arguments);return a.spanGaps=wr(r.spanGaps,i.spanGaps),a.tension=wr(r.lineTension,i.elements.line.tension),a},updateBezierControlPoints:function(){var e=this,r=e.getMeta(),i=e.chart.chartArea,a=r.data||[],s,c,d,h;r.dataset._model.spanGaps&&(a=a.filter(function(v){return!v._model.skip}));function f(v,b,y){return Math.max(Math.min(v,y),b)}for(s=0,c=a.length;s<c;++s)d=a[s]._model,h=x.splineCurve(x.previousItem(a,s,!0)._model,d,x.nextItem(a,s,!0)._model,d.tension),d.controlPointPreviousX=f(h.previous.x,i.left,i.right),d.controlPointPreviousY=f(h.previous.y,i.top,i.bottom),d.controlPointNextX=f(h.next.x,i.left,i.right),d.controlPointNextY=f(h.next.y,i.top,i.bottom)},setHoverStyle:function(e){var r=e._model,i=e._options,a=x.getHoverColor;e.$previousStyle={backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth,radius:r.radius},r.backgroundColor=wr(i.hoverBackgroundColor,a(i.backgroundColor)),r.borderColor=wr(i.hoverBorderColor,a(i.borderColor)),r.borderWidth=wr(i.hoverBorderWidth,i.borderWidth),r.radius=wr(i.hoverRadius,i.radius)}});Z._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(e){return"("+e.xLabel+", "+e.yLabel+")"}}}}),Z._set("global",{datasets:{scatter:{showLine:!1}}});var XM=xf,wf={bar:gf,bubble:zM,doughnut:bf,horizontalBar:WM,line:xf,polarArea:qM,pie:KM,radar:QM,scatter:XM};function _r(e,r){return e.native?{x:e.x,y:e.y}:x.getRelativePosition(e,r)}function Wn(e,r){var i=e._getSortedVisibleDatasetMetas(),a,s,c,d,h,f;for(s=0,d=i.length;s<d;++s)for(a=i[s].data,c=0,h=a.length;c<h;++c)f=a[c],f._view.skip||r(f)}function Es(e,r){var i=[];return Wn(e,function(a){a.inRange(r.x,r.y)&&i.push(a)}),i}function Ls(e,r,i,a){var s=Number.POSITIVE_INFINITY,c=[];return Wn(e,function(d){if(!(i&&!d.inRange(r.x,r.y))){var h=d.getCenterPoint(),f=a(r,h);f<s?(c=[d],s=f):f===s&&c.push(d)}}),c}function Fs(e){var r=e.indexOf("x")!==-1,i=e.indexOf("y")!==-1;return function(a,s){var c=r?Math.abs(a.x-s.x):0,d=i?Math.abs(a.y-s.y):0;return Math.sqrt(Math.pow(c,2)+Math.pow(d,2))}}function Rs(e,r,i){var a=_r(r,e);i.axis=i.axis||"x";var s=Fs(i.axis),c=i.intersect?Es(e,a):Ls(e,a,!1,s),d=[];return c.length?(e._getSortedVisibleDatasetMetas().forEach(function(h){var f=h.data[c[0]._index];f&&!f._view.skip&&d.push(f)}),d):[]}var Xr={modes:{single:function(e,r){var i=_r(r,e),a=[];return Wn(e,function(s){if(s.inRange(i.x,i.y))return a.push(s),a}),a.slice(0,1)},label:Rs,index:Rs,dataset:function(e,r,i){var a=_r(r,e);i.axis=i.axis||"xy";var s=Fs(i.axis),c=i.intersect?Es(e,a):Ls(e,a,!1,s);return c.length>0&&(c=e.getDatasetMeta(c[0]._datasetIndex).data),c},"x-axis":function(e,r){return Rs(e,r,{intersect:!1})},point:function(e,r){var i=_r(r,e);return Es(e,i)},nearest:function(e,r,i){var a=_r(r,e);i.axis=i.axis||"xy";var s=Fs(i.axis);return Ls(e,a,i.intersect,s)},x:function(e,r,i){var a=_r(r,e),s=[],c=!1;return Wn(e,function(d){d.inXRange(a.x)&&s.push(d),d.inRange(a.x,a.y)&&(c=!0)}),i.intersect&&!c&&(s=[]),s},y:function(e,r,i){var a=_r(r,e),s=[],c=!1;return Wn(e,function(d){d.inYRange(a.y)&&s.push(d),d.inRange(a.x,a.y)&&(c=!0)}),i.intersect&&!c&&(s=[]),s}}},$s=x.extend;function Hn(e,r){return x.where(e,function(i){return i.pos===r})}function sa(e,r){return e.sort(function(i,a){var s=r?a:i,c=r?i:a;return s.weight===c.weight?s.index-c.index:s.weight-c.weight})}function ZM(e){var r=[],i,a,s;for(i=0,a=(e||[]).length;i<a;++i)s=e[i],r.push({index:i,box:s,pos:s.position,horizontal:s.isHorizontal(),weight:s.weight});return r}function JM(e,r){var i,a,s;for(i=0,a=e.length;i<a;++i)s=e[i],s.width=s.horizontal?s.box.fullWidth&&r.availableWidth:r.vBoxMaxWidth,s.height=s.horizontal&&r.hBoxMaxHeight}function eT(e){var r=ZM(e),i=sa(Hn(r,"left"),!0),a=sa(Hn(r,"right")),s=sa(Hn(r,"top"),!0),c=sa(Hn(r,"bottom"));return{leftAndTop:i.concat(s),rightAndBottom:a.concat(c),chartArea:Hn(r,"chartArea"),vertical:i.concat(a),horizontal:s.concat(c)}}function _f(e,r,i,a){return Math.max(e[i],r[i])+Math.max(e[a],r[a])}function tT(e,r,i){var a=i.box,s=e.maxPadding,c,d;if(i.size&&(e[i.pos]-=i.size),i.size=i.horizontal?a.height:a.width,e[i.pos]+=i.size,a.getPadding){var h=a.getPadding();s.top=Math.max(s.top,h.top),s.left=Math.max(s.left,h.left),s.bottom=Math.max(s.bottom,h.bottom),s.right=Math.max(s.right,h.right)}if(c=r.outerWidth-_f(s,e,"left","right"),d=r.outerHeight-_f(s,e,"top","bottom"),c!==e.w||d!==e.h){e.w=c,e.h=d;var f=i.horizontal?[c,e.w]:[d,e.h];return f[0]!==f[1]&&(!isNaN(f[0])||!isNaN(f[1]))}}function rT(e){var r=e.maxPadding;function i(a){var s=Math.max(r[a]-e[a],0);return e[a]+=s,s}e.y+=i("top"),e.x+=i("left"),i("right"),i("bottom")}function nT(e,r){var i=r.maxPadding;function a(s){var c={left:0,top:0,right:0,bottom:0};return s.forEach(function(d){c[d]=Math.max(r[d],i[d])}),c}return a(e?["left","right"]:["top","bottom"])}function la(e,r,i){var a=[],s,c,d,h,f,v;for(s=0,c=e.length;s<c;++s)d=e[s],h=d.box,h.update(d.width||r.w,d.height||r.h,nT(d.horizontal,r)),tT(r,i,d)&&(v=!0,a.length&&(f=!0)),h.fullWidth||a.push(d);return f&&la(a,r,i)||v}function Sf(e,r,i){var a=i.padding,s=r.x,c=r.y,d,h,f,v;for(d=0,h=e.length;d<h;++d)f=e[d],v=f.box,f.horizontal?(v.left=v.fullWidth?a.left:r.left,v.right=v.fullWidth?i.outerWidth-a.right:r.left+r.w,v.top=c,v.bottom=c+v.height,v.width=v.right-v.left,c=v.bottom):(v.left=s,v.right=s+v.width,v.top=r.top,v.bottom=r.top+r.h,v.height=v.bottom-v.top,s=v.right);r.x=s,r.y=c}Z._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var ht={defaults:{},addBox:function(e,r){e.boxes||(e.boxes=[]),r.fullWidth=r.fullWidth||!1,r.position=r.position||"top",r.weight=r.weight||0,r._layers=r._layers||function(){return[{z:0,draw:function(){r.draw.apply(r,arguments)}}]},e.boxes.push(r)},removeBox:function(e,r){var i=e.boxes?e.boxes.indexOf(r):-1;i!==-1&&e.boxes.splice(i,1)},configure:function(e,r,i){for(var a=["fullWidth","position","weight"],s=a.length,c=0,d;c<s;++c)d=a[c],i.hasOwnProperty(d)&&(r[d]=i[d])},update:function(e,r,i){if(!!e){var a=e.options.layout||{},s=x.options.toPadding(a.padding),c=r-s.width,d=i-s.height,h=eT(e.boxes),f=h.vertical,v=h.horizontal,b=Object.freeze({outerWidth:r,outerHeight:i,padding:s,availableWidth:c,vBoxMaxWidth:c/2/f.length,hBoxMaxHeight:d/2}),y=$s({maxPadding:$s({},s),w:c,h:d,x:s.left,y:s.top},s);JM(f.concat(v),b),la(f,y,b),la(v,y,b)&&la(f,y,b),rT(y),Sf(h.leftAndTop,y,b),y.x+=y.w,y.y+=y.h,Sf(h.rightAndBottom,y,b),e.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h},x.each(h.chartArea,function(_){var O=_.box;$s(O,e.chartArea),O.update(y.w,y.h)})}}},iT={acquireContext:function(e){return e&&e.canvas&&(e=e.canvas),e&&e.getContext("2d")||null}},aT=`/*\r
 * DOM element rendering detection\r
 * https://davidwalsh.name/detect-node-insertion\r
 */\r
@keyframes chartjs-render-animation {\r
	from { opacity: 0.99; }\r
	to { opacity: 1; }\r
}\r
\r
.chartjs-render-monitor {\r
	animation: chartjs-render-animation 0.001s;\r
}\r
\r
/*\r
 * DOM element resizing detection\r
 * https://github.com/marcj/css-element-queries\r
 */\r
.chartjs-size-monitor,\r
.chartjs-size-monitor-expand,\r
.chartjs-size-monitor-shrink {\r
	position: absolute;\r
	direction: ltr;\r
	left: 0;\r
	top: 0;\r
	right: 0;\r
	bottom: 0;\r
	overflow: hidden;\r
	pointer-events: none;\r
	visibility: hidden;\r
	z-index: -1;\r
}\r
\r
.chartjs-size-monitor-expand > div {\r
	position: absolute;\r
	width: 1000000px;\r
	height: 1000000px;\r
	left: 0;\r
	top: 0;\r
}\r
\r
.chartjs-size-monitor-shrink > div {\r
	position: absolute;\r
	width: 200%;\r
	height: 200%;\r
	left: 0;\r
	top: 0;\r
}\r
`,oT=Object.freeze({__proto__:null,default:aT}),sT=u(oT),Ue="$chartjs",Ns="chartjs-",Bs=Ns+"size-monitor",kf=Ns+"render-monitor",lT=Ns+"render-animation",Mf=["animationstart","webkitAnimationStart"],cT={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function Tf(e,r){var i=x.getStyle(e,r),a=i&&i.match(/^(\d+)(\.\d+)?px$/);return a?Number(a[1]):void 0}function uT(e,r){var i=e.style,a=e.getAttribute("height"),s=e.getAttribute("width");if(e[Ue]={initial:{height:a,width:s,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",s===null||s===""){var c=Tf(e,"width");c!==void 0&&(e.width=c)}if(a===null||a==="")if(e.style.height==="")e.height=e.width/(r.options.aspectRatio||2);else{var d=Tf(e,"height");c!==void 0&&(e.height=d)}return e}var dT=function(){var e=!1;try{var r=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("e",null,r)}catch{}return e}(),Of=dT?{passive:!0}:!1;function Yn(e,r,i){e.addEventListener(r,i,Of)}function js(e,r,i){e.removeEventListener(r,i,Of)}function zs(e,r,i,a,s){return{type:e,chart:r,native:s||null,x:i!==void 0?i:null,y:a!==void 0?a:null}}function fT(e,r){var i=cT[e.type]||e.type,a=x.getRelativePosition(e,r);return zs(i,r,a.x,a.y,e)}function hT(e,r){var i=!1,a=[];return function(){a=Array.prototype.slice.call(arguments),r=r||this,i||(i=!0,x.requestAnimFrame.call(window,function(){i=!1,e.apply(r,a)}))}}function Vn(e){var r=document.createElement("div");return r.className=e||"",r}function mT(e){var r=1e6,i=Vn(Bs),a=Vn(Bs+"-expand"),s=Vn(Bs+"-shrink");a.appendChild(Vn()),s.appendChild(Vn()),i.appendChild(a),i.appendChild(s),i._reset=function(){a.scrollLeft=r,a.scrollTop=r,s.scrollLeft=r,s.scrollTop=r};var c=function(){i._reset(),e()};return Yn(a,"scroll",c.bind(a,"expand")),Yn(s,"scroll",c.bind(s,"shrink")),i}function vT(e,r){var i=e[Ue]||(e[Ue]={}),a=i.renderProxy=function(s){s.animationName===lT&&r()};x.each(Mf,function(s){Yn(e,s,a)}),i.reflow=!!e.offsetParent,e.classList.add(kf)}function pT(e){var r=e[Ue]||{},i=r.renderProxy;i&&(x.each(Mf,function(a){js(e,a,i)}),delete r.renderProxy),e.classList.remove(kf)}function gT(e,r,i){var a=e[Ue]||(e[Ue]={}),s=a.resizer=mT(hT(function(){if(a.resizer){var c=i.options.maintainAspectRatio&&e.parentNode,d=c?c.clientWidth:0;r(zs("resize",i)),c&&c.clientWidth<d&&i.canvas&&r(zs("resize",i))}}));vT(e,function(){if(a.resizer){var c=e.parentNode;c&&c!==s.parentNode&&c.insertBefore(s,c.firstChild),s._reset()}})}function bT(e){var r=e[Ue]||{},i=r.resizer;delete r.resizer,pT(e),i&&i.parentNode&&i.parentNode.removeChild(i)}function yT(e,r){var i=e[Ue]||(e[Ue]={});if(!i.containsStyles){i.containsStyles=!0,r=`/* Chart.js */
`+r;var a=document.createElement("style");a.setAttribute("type","text/css"),a.appendChild(document.createTextNode(r)),e.appendChild(a)}}var Pf={disableCSSInjection:!1,_enabled:typeof window!="undefined"&&typeof document!="undefined",_ensureLoaded:function(e){if(!this.disableCSSInjection){var r=e.getRootNode?e.getRootNode():document,i=r.host?r:document.head;yT(i,sT)}},acquireContext:function(e,r){typeof e=="string"?e=document.getElementById(e):e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas);var i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(this._ensureLoaded(e),uT(e,r),i):null},releaseContext:function(e){var r=e.canvas;if(!!r[Ue]){var i=r[Ue].initial;["height","width"].forEach(function(a){var s=i[a];x.isNullOrUndef(s)?r.removeAttribute(a):r.setAttribute(a,s)}),x.each(i.style||{},function(a,s){r.style[s]=a}),r.width=r.width,delete r[Ue]}},addEventListener:function(e,r,i){var a=e.canvas;if(r==="resize"){gT(a,i,e);return}var s=i[Ue]||(i[Ue]={}),c=s.proxies||(s.proxies={}),d=c[e.id+"_"+r]=function(h){i(fT(h,e))};Yn(a,r,d)},removeEventListener:function(e,r,i){var a=e.canvas;if(r==="resize"){bT(a);return}var s=i[Ue]||{},c=s.proxies||{},d=c[e.id+"_"+r];!d||js(a,r,d)}};x.addEvent=Yn,x.removeEvent=js;var xT=Pf._enabled?Pf:iT,Zr=x.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},xT);Z._set("global",{plugins:{}});var be={_plugins:[],_cacheId:0,register:function(e){var r=this._plugins;[].concat(e).forEach(function(i){r.indexOf(i)===-1&&r.push(i)}),this._cacheId++},unregister:function(e){var r=this._plugins;[].concat(e).forEach(function(i){var a=r.indexOf(i);a!==-1&&r.splice(a,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(e,r,i){var a=this.descriptors(e),s=a.length,c,d,h,f,v;for(c=0;c<s;++c)if(d=a[c],h=d.plugin,v=h[r],typeof v=="function"&&(f=[e].concat(i||[]),f.push(d.options),v.apply(h,f)===!1))return!1;return!0},descriptors:function(e){var r=e.$plugins||(e.$plugins={});if(r.id===this._cacheId)return r.descriptors;var i=[],a=[],s=e&&e.config||{},c=s.options&&s.options.plugins||{};return this._plugins.concat(s.plugins||[]).forEach(function(d){var h=i.indexOf(d);if(h===-1){var f=d.id,v=c[f];v!==!1&&(v===!0&&(v=x.clone(Z.global.plugins[f])),i.push(d),a.push({plugin:d,options:v||{}}))}}),r.descriptors=a,r.id=this._cacheId,a},_invalidate:function(e){delete e.$plugins}},Un={constructors:{},defaults:{},registerScaleType:function(e,r,i){this.constructors[e]=r,this.defaults[e]=x.clone(i)},getScaleConstructor:function(e){return this.constructors.hasOwnProperty(e)?this.constructors[e]:void 0},getScaleDefaults:function(e){return this.defaults.hasOwnProperty(e)?x.merge(Object.create(null),[Z.scale,this.defaults[e]]):{}},updateScaleDefaults:function(e,r){var i=this;i.defaults.hasOwnProperty(e)&&(i.defaults[e]=x.extend(i.defaults[e],r))},addScalesToLayout:function(e){x.each(e.scales,function(r){r.fullWidth=r.options.fullWidth,r.position=r.options.position,r.weight=r.options.weight,ht.addBox(e,r)})}},Kt=x.valueOrDefault,Ws=x.rtl.getRtlAdapter;Z._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:x.noop,title:function(e,r){var i="",a=r.labels,s=a?a.length:0;if(e.length>0){var c=e[0];c.label?i=c.label:c.xLabel?i=c.xLabel:s>0&&c.index<s&&(i=a[c.index])}return i},afterTitle:x.noop,beforeBody:x.noop,beforeLabel:x.noop,label:function(e,r){var i=r.datasets[e.datasetIndex].label||"";return i&&(i+=": "),x.isNullOrUndef(e.value)?i+=e.yLabel:i+=e.value,i},labelColor:function(e,r){var i=r.getDatasetMeta(e.datasetIndex),a=i.data[e.index],s=a._view;return{borderColor:s.borderColor,backgroundColor:s.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:x.noop,afterBody:x.noop,beforeFooter:x.noop,footer:x.noop,afterFooter:x.noop}}});var Cf={average:function(e){if(!e.length)return!1;var r,i,a=0,s=0,c=0;for(r=0,i=e.length;r<i;++r){var d=e[r];if(d&&d.hasValue()){var h=d.tooltipPosition();a+=h.x,s+=h.y,++c}}return{x:a/c,y:s/c}},nearest:function(e,r){var i=r.x,a=r.y,s=Number.POSITIVE_INFINITY,c,d,h;for(c=0,d=e.length;c<d;++c){var f=e[c];if(f&&f.hasValue()){var v=f.getCenterPoint(),b=x.distanceBetweenPoints(r,v);b<s&&(s=b,h=f)}}if(h){var y=h.tooltipPosition();i=y.x,a=y.y}return{x:i,y:a}}};function Ft(e,r){return r&&(x.isArray(r)?Array.prototype.push.apply(e,r):e.push(r)),e}function Qt(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function wT(e){var r=e._xScale,i=e._yScale||e._scale,a=e._index,s=e._datasetIndex,c=e._chart.getDatasetMeta(s).controller,d=c._getIndexScale(),h=c._getValueScale();return{xLabel:r?r.getLabelForIndex(a,s):"",yLabel:i?i.getLabelForIndex(a,s):"",label:d?""+d.getLabelForIndex(a,s):"",value:h?""+h.getLabelForIndex(a,s):"",index:a,datasetIndex:s,x:e._model.x,y:e._model.y}}function Af(e){var r=Z.global;return{xPadding:e.xPadding,yPadding:e.yPadding,xAlign:e.xAlign,yAlign:e.yAlign,rtl:e.rtl,textDirection:e.textDirection,bodyFontColor:e.bodyFontColor,_bodyFontFamily:Kt(e.bodyFontFamily,r.defaultFontFamily),_bodyFontStyle:Kt(e.bodyFontStyle,r.defaultFontStyle),_bodyAlign:e.bodyAlign,bodyFontSize:Kt(e.bodyFontSize,r.defaultFontSize),bodySpacing:e.bodySpacing,titleFontColor:e.titleFontColor,_titleFontFamily:Kt(e.titleFontFamily,r.defaultFontFamily),_titleFontStyle:Kt(e.titleFontStyle,r.defaultFontStyle),titleFontSize:Kt(e.titleFontSize,r.defaultFontSize),_titleAlign:e.titleAlign,titleSpacing:e.titleSpacing,titleMarginBottom:e.titleMarginBottom,footerFontColor:e.footerFontColor,_footerFontFamily:Kt(e.footerFontFamily,r.defaultFontFamily),_footerFontStyle:Kt(e.footerFontStyle,r.defaultFontStyle),footerFontSize:Kt(e.footerFontSize,r.defaultFontSize),_footerAlign:e.footerAlign,footerSpacing:e.footerSpacing,footerMarginTop:e.footerMarginTop,caretSize:e.caretSize,cornerRadius:e.cornerRadius,backgroundColor:e.backgroundColor,opacity:0,legendColorBackground:e.multiKeyBackground,displayColors:e.displayColors,borderColor:e.borderColor,borderWidth:e.borderWidth}}function _T(e,r){var i=e._chart.ctx,a=r.yPadding*2,s=0,c=r.body,d=c.reduce(function(P,C){return P+C.before.length+C.lines.length+C.after.length},0);d+=r.beforeBody.length+r.afterBody.length;var h=r.title.length,f=r.footer.length,v=r.titleFontSize,b=r.bodyFontSize,y=r.footerFontSize;a+=h*v,a+=h?(h-1)*r.titleSpacing:0,a+=h?r.titleMarginBottom:0,a+=d*b,a+=d?(d-1)*r.bodySpacing:0,a+=f?r.footerMarginTop:0,a+=f*y,a+=f?(f-1)*r.footerSpacing:0;var _=0,O=function(P){s=Math.max(s,i.measureText(P).width+_)};return i.font=x.fontString(v,r._titleFontStyle,r._titleFontFamily),x.each(r.title,O),i.font=x.fontString(b,r._bodyFontStyle,r._bodyFontFamily),x.each(r.beforeBody.concat(r.afterBody),O),_=r.displayColors?b+2:0,x.each(c,function(P){x.each(P.before,O),x.each(P.lines,O),x.each(P.after,O)}),_=0,i.font=x.fontString(y,r._footerFontStyle,r._footerFontFamily),x.each(r.footer,O),s+=2*r.xPadding,{width:s,height:a}}function ST(e,r){var i=e._model,a=e._chart,s=e._chart.chartArea,c="center",d="center";i.y<r.height?d="top":i.y>a.height-r.height&&(d="bottom");var h,f,v,b,y,_=(s.left+s.right)/2,O=(s.top+s.bottom)/2;d==="center"?(h=function(C){return C<=_},f=function(C){return C>_}):(h=function(C){return C<=r.width/2},f=function(C){return C>=a.width-r.width/2}),v=function(C){return C+r.width+i.caretSize+i.caretPadding>a.width},b=function(C){return C-r.width-i.caretSize-i.caretPadding<0},y=function(C){return C<=O?"top":"bottom"},h(i.x)?(c="left",v(i.x)&&(c="center",d=y(i.y))):f(i.x)&&(c="right",b(i.x)&&(c="center",d=y(i.y)));var P=e._options;return{xAlign:P.xAlign?P.xAlign:c,yAlign:P.yAlign?P.yAlign:d}}function kT(e,r,i,a){var s=e.x,c=e.y,d=e.caretSize,h=e.caretPadding,f=e.cornerRadius,v=i.xAlign,b=i.yAlign,y=d+h,_=f+h;return v==="right"?s-=r.width:v==="center"&&(s-=r.width/2,s+r.width>a.width&&(s=a.width-r.width),s<0&&(s=0)),b==="top"?c+=y:b==="bottom"?c-=r.height+y:c-=r.height/2,b==="center"?v==="left"?s+=y:v==="right"&&(s-=y):v==="left"?s-=_:v==="right"&&(s+=_),{x:s,y:c}}function ca(e,r){return r==="center"?e.x+e.width/2:r==="right"?e.x+e.width-e.xPadding:e.x+e.xPadding}function Df(e){return Ft([],Qt(e))}var MT=Et.extend({initialize:function(){this._model=Af(this._options),this._lastActive=[]},getTitle:function(){var e=this,r=e._options,i=r.callbacks,a=i.beforeTitle.apply(e,arguments),s=i.title.apply(e,arguments),c=i.afterTitle.apply(e,arguments),d=[];return d=Ft(d,Qt(a)),d=Ft(d,Qt(s)),d=Ft(d,Qt(c)),d},getBeforeBody:function(){return Df(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(e,r){var i=this,a=i._options.callbacks,s=[];return x.each(e,function(c){var d={before:[],lines:[],after:[]};Ft(d.before,Qt(a.beforeLabel.call(i,c,r))),Ft(d.lines,a.label.call(i,c,r)),Ft(d.after,Qt(a.afterLabel.call(i,c,r))),s.push(d)}),s},getAfterBody:function(){return Df(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var e=this,r=e._options.callbacks,i=r.beforeFooter.apply(e,arguments),a=r.footer.apply(e,arguments),s=r.afterFooter.apply(e,arguments),c=[];return c=Ft(c,Qt(i)),c=Ft(c,Qt(a)),c=Ft(c,Qt(s)),c},update:function(e){var r=this,i=r._options,a=r._model,s=r._model=Af(i),c=r._active,d=r._data,h={xAlign:a.xAlign,yAlign:a.yAlign},f={x:a.x,y:a.y},v={width:a.width,height:a.height},b={x:a.caretX,y:a.caretY},y,_;if(c.length){s.opacity=1;var O=[],P=[];b=Cf[i.position].call(r,c,r._eventPosition);var C=[];for(y=0,_=c.length;y<_;++y)C.push(wT(c[y]));i.filter&&(C=C.filter(function(A){return i.filter(A,d)})),i.itemSort&&(C=C.sort(function(A,F){return i.itemSort(A,F,d)})),x.each(C,function(A){O.push(i.callbacks.labelColor.call(r,A,r._chart)),P.push(i.callbacks.labelTextColor.call(r,A,r._chart))}),s.title=r.getTitle(C,d),s.beforeBody=r.getBeforeBody(C,d),s.body=r.getBody(C,d),s.afterBody=r.getAfterBody(C,d),s.footer=r.getFooter(C,d),s.x=b.x,s.y=b.y,s.caretPadding=i.caretPadding,s.labelColors=O,s.labelTextColors=P,s.dataPoints=C,v=_T(this,s),h=ST(this,v),f=kT(s,v,h,r._chart)}else s.opacity=0;return s.xAlign=h.xAlign,s.yAlign=h.yAlign,s.x=f.x,s.y=f.y,s.width=v.width,s.height=v.height,s.caretX=b.x,s.caretY=b.y,r._model=s,e&&i.custom&&i.custom.call(r,s),r},drawCaret:function(e,r){var i=this._chart.ctx,a=this._view,s=this.getCaretPosition(e,r,a);i.lineTo(s.x1,s.y1),i.lineTo(s.x2,s.y2),i.lineTo(s.x3,s.y3)},getCaretPosition:function(e,r,i){var a,s,c,d,h,f,v=i.caretSize,b=i.cornerRadius,y=i.xAlign,_=i.yAlign,O=e.x,P=e.y,C=r.width,A=r.height;if(_==="center")h=P+A/2,y==="left"?(a=O,s=a-v,c=a,d=h+v,f=h-v):(a=O+C,s=a+v,c=a,d=h-v,f=h+v);else if(y==="left"?(s=O+b+v,a=s-v,c=s+v):y==="right"?(s=O+C-b-v,a=s-v,c=s+v):(s=i.caretX,a=s-v,c=s+v),_==="top")d=P,h=d-v,f=d;else{d=P+A,h=d+v,f=d;var F=c;c=a,a=F}return{x1:a,x2:s,x3:c,y1:d,y2:h,y3:f}},drawTitle:function(e,r,i){var a=r.title,s=a.length,c,d,h;if(s){var f=Ws(r.rtl,r.x,r.width);for(e.x=ca(r,r._titleAlign),i.textAlign=f.textAlign(r._titleAlign),i.textBaseline="middle",c=r.titleFontSize,d=r.titleSpacing,i.fillStyle=r.titleFontColor,i.font=x.fontString(c,r._titleFontStyle,r._titleFontFamily),h=0;h<s;++h)i.fillText(a[h],f.x(e.x),e.y+c/2),e.y+=c+d,h+1===s&&(e.y+=r.titleMarginBottom-d)}},drawBody:function(e,r,i){var a=r.bodyFontSize,s=r.bodySpacing,c=r._bodyAlign,d=r.body,h=r.displayColors,f=0,v=h?ca(r,"left"):0,b=Ws(r.rtl,r.x,r.width),y=function(he){i.fillText(he,b.x(e.x+f),e.y+a/2),e.y+=a+s},_,O,P,C,A,F,U,q,ae=b.textAlign(c);for(i.textAlign=c,i.textBaseline="middle",i.font=x.fontString(a,r._bodyFontStyle,r._bodyFontFamily),e.x=ca(r,ae),i.fillStyle=r.bodyFontColor,x.each(r.beforeBody,y),f=h&&ae!=="right"?c==="center"?a/2+1:a+2:0,A=0,U=d.length;A<U;++A){for(_=d[A],O=r.labelTextColors[A],P=r.labelColors[A],i.fillStyle=O,x.each(_.before,y),C=_.lines,F=0,q=C.length;F<q;++F){if(h){var ie=b.x(v);i.fillStyle=r.legendColorBackground,i.fillRect(b.leftForLtr(ie,a),e.y,a,a),i.lineWidth=1,i.strokeStyle=P.borderColor,i.strokeRect(b.leftForLtr(ie,a),e.y,a,a),i.fillStyle=P.backgroundColor,i.fillRect(b.leftForLtr(b.xPlus(ie,1),a-2),e.y+1,a-2,a-2),i.fillStyle=O}y(C[F])}x.each(_.after,y)}f=0,x.each(r.afterBody,y),e.y-=s},drawFooter:function(e,r,i){var a=r.footer,s=a.length,c,d;if(s){var h=Ws(r.rtl,r.x,r.width);for(e.x=ca(r,r._footerAlign),e.y+=r.footerMarginTop,i.textAlign=h.textAlign(r._footerAlign),i.textBaseline="middle",c=r.footerFontSize,i.fillStyle=r.footerFontColor,i.font=x.fontString(c,r._footerFontStyle,r._footerFontFamily),d=0;d<s;++d)i.fillText(a[d],h.x(e.x),e.y+c/2),e.y+=c+r.footerSpacing}},drawBackground:function(e,r,i,a){i.fillStyle=r.backgroundColor,i.strokeStyle=r.borderColor,i.lineWidth=r.borderWidth;var s=r.xAlign,c=r.yAlign,d=e.x,h=e.y,f=a.width,v=a.height,b=r.cornerRadius;i.beginPath(),i.moveTo(d+b,h),c==="top"&&this.drawCaret(e,a),i.lineTo(d+f-b,h),i.quadraticCurveTo(d+f,h,d+f,h+b),c==="center"&&s==="right"&&this.drawCaret(e,a),i.lineTo(d+f,h+v-b),i.quadraticCurveTo(d+f,h+v,d+f-b,h+v),c==="bottom"&&this.drawCaret(e,a),i.lineTo(d+b,h+v),i.quadraticCurveTo(d,h+v,d,h+v-b),c==="center"&&s==="left"&&this.drawCaret(e,a),i.lineTo(d,h+b),i.quadraticCurveTo(d,h,d+b,h),i.closePath(),i.fill(),r.borderWidth>0&&i.stroke()},draw:function(){var e=this._chart.ctx,r=this._view;if(r.opacity!==0){var i={width:r.width,height:r.height},a={x:r.x,y:r.y},s=Math.abs(r.opacity<.001)?0:r.opacity,c=r.title.length||r.beforeBody.length||r.body.length||r.afterBody.length||r.footer.length;this._options.enabled&&c&&(e.save(),e.globalAlpha=s,this.drawBackground(a,r,e,i),a.y+=r.yPadding,x.rtl.overrideTextDirection(e,r.textDirection),this.drawTitle(a,r,e),this.drawBody(a,r,e),this.drawFooter(a,r,e),x.rtl.restoreTextDirection(e,r.textDirection),e.restore())}},handleEvent:function(e){var r=this,i=r._options,a=!1;return r._lastActive=r._lastActive||[],e.type==="mouseout"?r._active=[]:(r._active=r._chart.getElementsAtEventForMode(e,i.mode,i),i.reverse&&r._active.reverse()),a=!x.arrayEquals(r._active,r._lastActive),a&&(r._lastActive=r._active,(i.enabled||i.custom)&&(r._eventPosition={x:e.x,y:e.y},r.update(!0),r.pivot())),a}}),TT=Cf,Hs=MT;Hs.positioners=TT;var Ys=x.valueOrDefault;Z._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});function If(){return x.merge(Object.create(null),[].slice.call(arguments),{merger:function(e,r,i,a){if(e==="xAxes"||e==="yAxes"){var s=i[e].length,c,d,h;for(r[e]||(r[e]=[]),c=0;c<s;++c)h=i[e][c],d=Ys(h.type,e==="xAxes"?"category":"linear"),c>=r[e].length&&r[e].push({}),!r[e][c].type||h.type&&h.type!==r[e][c].type?x.merge(r[e][c],[Un.getScaleDefaults(d),h]):x.merge(r[e][c],h)}else x._merger(e,r,i,a)}})}function Vs(){return x.merge(Object.create(null),[].slice.call(arguments),{merger:function(e,r,i,a){var s=r[e]||Object.create(null),c=i[e];e==="scales"?r[e]=If(s,c):e==="scale"?r[e]=x.merge(s,[Un.getScaleDefaults(c.type),c]):x._merger(e,r,i,a)}})}function OT(e){e=e||Object.create(null);var r=e.data=e.data||{};return r.datasets=r.datasets||[],r.labels=r.labels||[],e.options=Vs(Z.global,Z[e.type],e.options||{}),e}function PT(e){var r=e.options;x.each(e.scales,function(i){ht.removeBox(e,i)}),r=Vs(Z.global,Z[e.config.type],r),e.options=e.config.options=r,e.ensureScalesHaveIDs(),e.buildOrUpdateScales(),e.tooltip._options=r.tooltips,e.tooltip.initialize()}function Ef(e,r,i){var a,s=function(c){return c.id===a};do a=r+i++;while(x.findIndex(e,s)>=0);return a}function Lf(e){return e==="top"||e==="bottom"}function Ff(e,r){return function(i,a){return i[e]===a[e]?i[r]-a[r]:i[e]-a[e]}}var ir=function(e,r){return this.construct(e,r),this};x.extend(ir.prototype,{construct:function(e,r){var i=this;r=OT(r);var a=Zr.acquireContext(e,r),s=a&&a.canvas,c=s&&s.height,d=s&&s.width;if(i.id=x.uid(),i.ctx=a,i.canvas=s,i.config=r,i.width=d,i.height=c,i.aspectRatio=c?d/c:null,i.options=r.options,i._bufferedRender=!1,i._layers=[],i.chart=i,i.controller=i,ir.instances[i.id]=i,Object.defineProperty(i,"data",{get:function(){return i.config.data},set:function(h){i.config.data=h}}),!a||!s){console.error("Failed to create chart: can't acquire context from the given item");return}i.initialize(),i.update()},initialize:function(){var e=this;return be.notify(e,"beforeInit"),x.retinaScale(e,e.options.devicePixelRatio),e.bindEvents(),e.options.responsive&&e.resize(!0),e.initToolTip(),be.notify(e,"afterInit"),e},clear:function(){return x.canvas.clear(this),this},stop:function(){return Cs.cancelAnimation(this),this},resize:function(e){var r=this,i=r.options,a=r.canvas,s=i.maintainAspectRatio&&r.aspectRatio||null,c=Math.max(0,Math.floor(x.getMaximumWidth(a))),d=Math.max(0,Math.floor(s?c/s:x.getMaximumHeight(a)));if(!(r.width===c&&r.height===d)&&(a.width=r.width=c,a.height=r.height=d,a.style.width=c+"px",a.style.height=d+"px",x.retinaScale(r,i.devicePixelRatio),!e)){var h={width:c,height:d};be.notify(r,"resize",[h]),i.onResize&&i.onResize(r,h),r.stop(),r.update({duration:i.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var e=this.options,r=e.scales||{},i=e.scale;x.each(r.xAxes,function(a,s){a.id||(a.id=Ef(r.xAxes,"x-axis-",s))}),x.each(r.yAxes,function(a,s){a.id||(a.id=Ef(r.yAxes,"y-axis-",s))}),i&&(i.id=i.id||"scale")},buildOrUpdateScales:function(){var e=this,r=e.options,i=e.scales||{},a=[],s=Object.keys(i).reduce(function(c,d){return c[d]=!1,c},{});r.scales&&(a=a.concat((r.scales.xAxes||[]).map(function(c){return{options:c,dtype:"category",dposition:"bottom"}}),(r.scales.yAxes||[]).map(function(c){return{options:c,dtype:"linear",dposition:"left"}}))),r.scale&&a.push({options:r.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),x.each(a,function(c){var d=c.options,h=d.id,f=Ys(d.type,c.dtype);Lf(d.position)!==Lf(c.dposition)&&(d.position=c.dposition),s[h]=!0;var v=null;if(h in i&&i[h].type===f)v=i[h],v.options=d,v.ctx=e.ctx,v.chart=e;else{var b=Un.getScaleConstructor(f);if(!b)return;v=new b({id:h,type:f,options:d,ctx:e.ctx,chart:e}),i[v.id]=v}v.mergeTicksOptions(),c.isDefault&&(e.scale=v)}),x.each(s,function(c,d){c||delete i[d]}),e.scales=i,Un.addScalesToLayout(this)},buildOrUpdateControllers:function(){var e=this,r=[],i=e.data.datasets,a,s;for(a=0,s=i.length;a<s;a++){var c=i[a],d=e.getDatasetMeta(a),h=c.type||e.config.type;if(d.type&&d.type!==h&&(e.destroyDatasetMeta(a),d=e.getDatasetMeta(a)),d.type=h,d.order=c.order||0,d.index=a,d.controller)d.controller.updateIndex(a),d.controller.linkScales();else{var f=wf[d.type];if(f===void 0)throw new Error('"'+d.type+'" is not a chart type.');d.controller=new f(e,a),r.push(d.controller)}}return r},resetElements:function(){var e=this;x.each(e.data.datasets,function(r,i){e.getDatasetMeta(i).controller.reset()},e)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(e){var r=this,i,a;if((!e||typeof e!="object")&&(e={duration:e,lazy:arguments[1]}),PT(r),be._invalidate(r),be.notify(r,"beforeUpdate")!==!1){r.tooltip._data=r.data;var s=r.buildOrUpdateControllers();for(i=0,a=r.data.datasets.length;i<a;i++)r.getDatasetMeta(i).controller.buildOrUpdateElements();r.updateLayout(),r.options.animation&&r.options.animation.duration&&x.each(s,function(c){c.reset()}),r.updateDatasets(),r.tooltip.initialize(),r.lastActive=[],be.notify(r,"afterUpdate"),r._layers.sort(Ff("z","_idx")),r._bufferedRender?r._bufferedRequest={duration:e.duration,easing:e.easing,lazy:e.lazy}:r.render(e)}},updateLayout:function(){var e=this;be.notify(e,"beforeLayout")!==!1&&(ht.update(this,this.width,this.height),e._layers=[],x.each(e.boxes,function(r){r._configure&&r._configure(),e._layers.push.apply(e._layers,r._layers())},e),e._layers.forEach(function(r,i){r._idx=i}),be.notify(e,"afterScaleUpdate"),be.notify(e,"afterLayout"))},updateDatasets:function(){var e=this;if(be.notify(e,"beforeDatasetsUpdate")!==!1){for(var r=0,i=e.data.datasets.length;r<i;++r)e.updateDataset(r);be.notify(e,"afterDatasetsUpdate")}},updateDataset:function(e){var r=this,i=r.getDatasetMeta(e),a={meta:i,index:e};be.notify(r,"beforeDatasetUpdate",[a])!==!1&&(i.controller._update(),be.notify(r,"afterDatasetUpdate",[a]))},render:function(e){var r=this;(!e||typeof e!="object")&&(e={duration:e,lazy:arguments[1]});var i=r.options.animation,a=Ys(e.duration,i&&i.duration),s=e.lazy;if(be.notify(r,"beforeRender")!==!1){var c=function(h){be.notify(r,"afterRender"),x.callback(i&&i.onComplete,[h],r)};if(i&&a){var d=new Ps({numSteps:a/16.66,easing:e.easing||i.easing,render:function(h,f){var v=x.easing.effects[f.easing],b=f.currentStep,y=b/f.numSteps;h.draw(v(y),y,b)},onAnimationProgress:i.onProgress,onAnimationComplete:c});Cs.addAnimation(r,d,a,s)}else r.draw(),c(new Ps({numSteps:0,chart:r}));return r}},draw:function(e){var r=this,i,a;if(r.clear(),x.isNullOrUndef(e)&&(e=1),r.transition(e),!(r.width<=0||r.height<=0)&&be.notify(r,"beforeDraw",[e])!==!1){for(a=r._layers,i=0;i<a.length&&a[i].z<=0;++i)a[i].draw(r.chartArea);for(r.drawDatasets(e);i<a.length;++i)a[i].draw(r.chartArea);r._drawTooltip(e),be.notify(r,"afterDraw",[e])}},transition:function(e){for(var r=this,i=0,a=(r.data.datasets||[]).length;i<a;++i)r.isDatasetVisible(i)&&r.getDatasetMeta(i).controller.transition(e);r.tooltip.transition(e)},_getSortedDatasetMetas:function(e){var r=this,i=r.data.datasets||[],a=[],s,c;for(s=0,c=i.length;s<c;++s)(!e||r.isDatasetVisible(s))&&a.push(r.getDatasetMeta(s));return a.sort(Ff("order","index")),a},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(e){var r=this,i,a;if(be.notify(r,"beforeDatasetsDraw",[e])!==!1){for(i=r._getSortedVisibleDatasetMetas(),a=i.length-1;a>=0;--a)r.drawDataset(i[a],e);be.notify(r,"afterDatasetsDraw",[e])}},drawDataset:function(e,r){var i=this,a={meta:e,index:e.index,easingValue:r};be.notify(i,"beforeDatasetDraw",[a])!==!1&&(e.controller.draw(r),be.notify(i,"afterDatasetDraw",[a]))},_drawTooltip:function(e){var r=this,i=r.tooltip,a={tooltip:i,easingValue:e};be.notify(r,"beforeTooltipDraw",[a])!==!1&&(i.draw(),be.notify(r,"afterTooltipDraw",[a]))},getElementAtEvent:function(e){return Xr.modes.single(this,e)},getElementsAtEvent:function(e){return Xr.modes.label(this,e,{intersect:!0})},getElementsAtXAxis:function(e){return Xr.modes["x-axis"](this,e,{intersect:!0})},getElementsAtEventForMode:function(e,r,i){var a=Xr.modes[r];return typeof a=="function"?a(this,e,i):[]},getDatasetAtEvent:function(e){return Xr.modes.dataset(this,e,{intersect:!0})},getDatasetMeta:function(e){var r=this,i=r.data.datasets[e];i._meta||(i._meta={});var a=i._meta[r.id];return a||(a=i._meta[r.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i.order||0,index:e}),a},getVisibleDatasetCount:function(){for(var e=0,r=0,i=this.data.datasets.length;r<i;++r)this.isDatasetVisible(r)&&e++;return e},isDatasetVisible:function(e){var r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!this.data.datasets[e].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(e){var r=this.id,i=this.data.datasets[e],a=i._meta&&i._meta[r];a&&(a.controller.destroy(),delete i._meta[r])},destroy:function(){var e=this,r=e.canvas,i,a;for(e.stop(),i=0,a=e.data.datasets.length;i<a;++i)e.destroyDatasetMeta(i);r&&(e.unbindEvents(),x.canvas.clear(e),Zr.releaseContext(e.ctx),e.canvas=null,e.ctx=null),be.notify(e,"destroy"),delete ir.instances[e.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var e=this;e.tooltip=new Hs({_chart:e,_chartInstance:e,_data:e.data,_options:e.options.tooltips},e)},bindEvents:function(){var e=this,r=e._listeners={},i=function(){e.eventHandler.apply(e,arguments)};x.each(e.options.events,function(a){Zr.addEventListener(e,a,i),r[a]=i}),e.options.responsive&&(i=function(){e.resize()},Zr.addEventListener(e,"resize",i),r.resize=i)},unbindEvents:function(){var e=this,r=e._listeners;!r||(delete e._listeners,x.each(r,function(i,a){Zr.removeEventListener(e,a,i)}))},updateHoverStyle:function(e,r,i){var a=i?"set":"remove",s,c,d;for(c=0,d=e.length;c<d;++c)s=e[c],s&&this.getDatasetMeta(s._datasetIndex).controller[a+"HoverStyle"](s);r==="dataset"&&this.getDatasetMeta(e[0]._datasetIndex).controller["_"+a+"DatasetHoverStyle"]()},eventHandler:function(e){var r=this,i=r.tooltip;if(be.notify(r,"beforeEvent",[e])!==!1){r._bufferedRender=!0,r._bufferedRequest=null;var a=r.handleEvent(e);i&&(a=i._start?i.handleEvent(e):a|i.handleEvent(e)),be.notify(r,"afterEvent",[e]);var s=r._bufferedRequest;return s?r.render(s):a&&!r.animating&&(r.stop(),r.render({duration:r.options.hover.animationDuration,lazy:!0})),r._bufferedRender=!1,r._bufferedRequest=null,r}},handleEvent:function(e){var r=this,i=r.options||{},a=i.hover,s=!1;return r.lastActive=r.lastActive||[],e.type==="mouseout"?r.active=[]:r.active=r.getElementsAtEventForMode(e,a.mode,a),x.callback(i.onHover||i.hover.onHover,[e.native,r.active],r),(e.type==="mouseup"||e.type==="click")&&i.onClick&&i.onClick.call(r,e.native,r.active),r.lastActive.length&&r.updateHoverStyle(r.lastActive,a.mode,!1),r.active.length&&a.mode&&r.updateHoverStyle(r.active,a.mode,!0),s=!x.arrayEquals(r.active,r.lastActive),r.lastActive=r.active,s}}),ir.instances={};var se=ir;ir.Controller=ir,ir.types={},x.configMerge=Vs,x.scaleMerge=If;var CT=function(){x.where=function(a,s){if(x.isArray(a)&&Array.prototype.filter)return a.filter(s);var c=[];return x.each(a,function(d){s(d)&&c.push(d)}),c},x.findIndex=Array.prototype.findIndex?function(a,s,c){return a.findIndex(s,c)}:function(a,s,c){c=c===void 0?a:c;for(var d=0,h=a.length;d<h;++d)if(s.call(c,a[d],d,a))return d;return-1},x.findNextWhere=function(a,s,c){x.isNullOrUndef(c)&&(c=-1);for(var d=c+1;d<a.length;d++){var h=a[d];if(s(h))return h}},x.findPreviousWhere=function(a,s,c){x.isNullOrUndef(c)&&(c=a.length);for(var d=c-1;d>=0;d--){var h=a[d];if(s(h))return h}},x.isNumber=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},x.almostEquals=function(a,s,c){return Math.abs(a-s)<c},x.almostWhole=function(a,s){var c=Math.round(a);return c-s<=a&&c+s>=a},x.max=function(a){return a.reduce(function(s,c){return isNaN(c)?s:Math.max(s,c)},Number.NEGATIVE_INFINITY)},x.min=function(a){return a.reduce(function(s,c){return isNaN(c)?s:Math.min(s,c)},Number.POSITIVE_INFINITY)},x.sign=Math.sign?function(a){return Math.sign(a)}:function(a){return a=+a,a===0||isNaN(a)?a:a>0?1:-1},x.toRadians=function(a){return a*(Math.PI/180)},x.toDegrees=function(a){return a*(180/Math.PI)},x._decimalPlaces=function(a){if(!!x.isFinite(a)){for(var s=1,c=0;Math.round(a*s)/s!==a;)s*=10,c++;return c}},x.getAngleFromPoint=function(a,s){var c=s.x-a.x,d=s.y-a.y,h=Math.sqrt(c*c+d*d),f=Math.atan2(d,c);return f<-.5*Math.PI&&(f+=2*Math.PI),{angle:f,distance:h}},x.distanceBetweenPoints=function(a,s){return Math.sqrt(Math.pow(s.x-a.x,2)+Math.pow(s.y-a.y,2))},x.aliasPixel=function(a){return a%2===0?0:.5},x._alignPixel=function(a,s,c){var d=a.currentDevicePixelRatio,h=c/2;return Math.round((s-h)*d)/d+h},x.splineCurve=function(a,s,c,d){var h=a.skip?s:a,f=s,v=c.skip?s:c,b=Math.sqrt(Math.pow(f.x-h.x,2)+Math.pow(f.y-h.y,2)),y=Math.sqrt(Math.pow(v.x-f.x,2)+Math.pow(v.y-f.y,2)),_=b/(b+y),O=y/(b+y);_=isNaN(_)?0:_,O=isNaN(O)?0:O;var P=d*_,C=d*O;return{previous:{x:f.x-P*(v.x-h.x),y:f.y-P*(v.y-h.y)},next:{x:f.x+C*(v.x-h.x),y:f.y+C*(v.y-h.y)}}},x.EPSILON=Number.EPSILON||1e-14,x.splineCurveMonotone=function(a){var s=(a||[]).map(function(A){return{model:A._model,deltaK:0,mK:0}}),c=s.length,d,h,f,v;for(d=0;d<c;++d)if(f=s[d],!f.model.skip){if(h=d>0?s[d-1]:null,v=d<c-1?s[d+1]:null,v&&!v.model.skip){var b=v.model.x-f.model.x;f.deltaK=b!==0?(v.model.y-f.model.y)/b:0}!h||h.model.skip?f.mK=f.deltaK:!v||v.model.skip?f.mK=h.deltaK:this.sign(h.deltaK)!==this.sign(f.deltaK)?f.mK=0:f.mK=(h.deltaK+f.deltaK)/2}var y,_,O,P;for(d=0;d<c-1;++d)if(f=s[d],v=s[d+1],!(f.model.skip||v.model.skip)){if(x.almostEquals(f.deltaK,0,this.EPSILON)){f.mK=v.mK=0;continue}y=f.mK/f.deltaK,_=v.mK/f.deltaK,P=Math.pow(y,2)+Math.pow(_,2),!(P<=9)&&(O=3/Math.sqrt(P),f.mK=y*O*f.deltaK,v.mK=_*O*f.deltaK)}var C;for(d=0;d<c;++d)f=s[d],!f.model.skip&&(h=d>0?s[d-1]:null,v=d<c-1?s[d+1]:null,h&&!h.model.skip&&(C=(f.model.x-h.model.x)/3,f.model.controlPointPreviousX=f.model.x-C,f.model.controlPointPreviousY=f.model.y-C*f.mK),v&&!v.model.skip&&(C=(v.model.x-f.model.x)/3,f.model.controlPointNextX=f.model.x+C,f.model.controlPointNextY=f.model.y+C*f.mK))},x.nextItem=function(a,s,c){return c?s>=a.length-1?a[0]:a[s+1]:s>=a.length-1?a[a.length-1]:a[s+1]},x.previousItem=function(a,s,c){return c?s<=0?a[a.length-1]:a[s-1]:s<=0?a[0]:a[s-1]},x.niceNum=function(a,s){var c=Math.floor(x.log10(a)),d=a/Math.pow(10,c),h;return s?d<1.5?h=1:d<3?h=2:d<7?h=5:h=10:d<=1?h=1:d<=2?h=2:d<=5?h=5:h=10,h*Math.pow(10,c)},x.requestAnimFrame=function(){return typeof window=="undefined"?function(a){a()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return window.setTimeout(a,1e3/60)}}(),x.getRelativePosition=function(a,s){var c,d,h=a.originalEvent||a,f=a.target||a.srcElement,v=f.getBoundingClientRect(),b=h.touches;b&&b.length>0?(c=b[0].clientX,d=b[0].clientY):(c=h.clientX,d=h.clientY);var y=parseFloat(x.getStyle(f,"padding-left")),_=parseFloat(x.getStyle(f,"padding-top")),O=parseFloat(x.getStyle(f,"padding-right")),P=parseFloat(x.getStyle(f,"padding-bottom")),C=v.right-v.left-y-O,A=v.bottom-v.top-_-P;return c=Math.round((c-v.left-y)/C*f.width/s.currentDevicePixelRatio),d=Math.round((d-v.top-_)/A*f.height/s.currentDevicePixelRatio),{x:c,y:d}};function e(a,s,c){var d;return typeof a=="string"?(d=parseInt(a,10),a.indexOf("%")!==-1&&(d=d/100*s.parentNode[c])):d=a,d}function r(a){return a!=null&&a!=="none"}function i(a,s,c){var d=document.defaultView,h=x._getParentNode(a),f=d.getComputedStyle(a)[s],v=d.getComputedStyle(h)[s],b=r(f),y=r(v),_=Number.POSITIVE_INFINITY;return b||y?Math.min(b?e(f,a,c):_,y?e(v,h,c):_):"none"}x.getConstraintWidth=function(a){return i(a,"max-width","clientWidth")},x.getConstraintHeight=function(a){return i(a,"max-height","clientHeight")},x._calculatePadding=function(a,s,c){return s=x.getStyle(a,s),s.indexOf("%")>-1?c*parseInt(s,10)/100:parseInt(s,10)},x._getParentNode=function(a){var s=a.parentNode;return s&&s.toString()==="[object ShadowRoot]"&&(s=s.host),s},x.getMaximumWidth=function(a){var s=x._getParentNode(a);if(!s)return a.clientWidth;var c=s.clientWidth,d=x._calculatePadding(s,"padding-left",c),h=x._calculatePadding(s,"padding-right",c),f=c-d-h,v=x.getConstraintWidth(a);return isNaN(v)?f:Math.min(f,v)},x.getMaximumHeight=function(a){var s=x._getParentNode(a);if(!s)return a.clientHeight;var c=s.clientHeight,d=x._calculatePadding(s,"padding-top",c),h=x._calculatePadding(s,"padding-bottom",c),f=c-d-h,v=x.getConstraintHeight(a);return isNaN(v)?f:Math.min(f,v)},x.getStyle=function(a,s){return a.currentStyle?a.currentStyle[s]:document.defaultView.getComputedStyle(a,null).getPropertyValue(s)},x.retinaScale=function(a,s){var c=a.currentDevicePixelRatio=s||typeof window!="undefined"&&window.devicePixelRatio||1;if(c!==1){var d=a.canvas,h=a.height,f=a.width;d.height=h*c,d.width=f*c,a.ctx.scale(c,c),!d.style.height&&!d.style.width&&(d.style.height=h+"px",d.style.width=f+"px")}},x.fontString=function(a,s,c){return s+" "+a+"px "+c},x.longestText=function(a,s,c,d){d=d||{};var h=d.data=d.data||{},f=d.garbageCollect=d.garbageCollect||[];d.font!==s&&(h=d.data={},f=d.garbageCollect=[],d.font=s),a.font=s;var v=0,b=c.length,y,_,O,P,C;for(y=0;y<b;y++)if(P=c[y],P!=null&&x.isArray(P)!==!0)v=x.measureText(a,h,f,v,P);else if(x.isArray(P))for(_=0,O=P.length;_<O;_++)C=P[_],C!=null&&!x.isArray(C)&&(v=x.measureText(a,h,f,v,C));var A=f.length/2;if(A>c.length){for(y=0;y<A;y++)delete h[f[y]];f.splice(0,A)}return v},x.measureText=function(a,s,c,d,h){var f=s[h];return f||(f=s[h]=a.measureText(h).width,c.push(h)),f>d&&(d=f),d},x.numberOfLabelLines=function(a){var s=1;return x.each(a,function(c){x.isArray(c)&&c.length>s&&(s=c.length)}),s},x.color=Se?function(a){return a instanceof CanvasGradient&&(a=Z.global.defaultColor),Se(a)}:function(a){return console.error("Color.js not found!"),a},x.getHoverColor=function(a){return a instanceof CanvasPattern||a instanceof CanvasGradient?a:x.color(a).saturate(.5).darken(.1).rgbString()}};function Sr(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function ua(e){this.options=e||{}}x.extend(ua.prototype,{formats:Sr,parse:Sr,format:Sr,add:Sr,diff:Sr,startOf:Sr,endOf:Sr,_create:function(e){return e}}),ua.override=function(e){x.extend(ua.prototype,e)};var AT=ua,Us={_date:AT},Gn={formatters:{values:function(e){return x.isArray(e)?e:""+e},linear:function(e,r,i){var a=i.length>3?i[2]-i[1]:i[1]-i[0];Math.abs(a)>1&&e!==Math.floor(e)&&(a=e-Math.floor(e));var s=x.log10(Math.abs(a)),c="";if(e!==0){var d=Math.max(Math.abs(i[0]),Math.abs(i[i.length-1]));if(d<1e-4){var h=x.log10(Math.abs(e)),f=Math.floor(h)-Math.floor(s);f=Math.max(Math.min(f,20),0),c=e.toExponential(f)}else{var v=-1*Math.floor(s);v=Math.max(Math.min(v,20),0),c=e.toFixed(v)}}else c="0";return c},logarithmic:function(e,r,i){var a=e/Math.pow(10,Math.floor(x.log10(e)));return e===0?"0":a===1||a===2||a===5||r===0||r===i.length-1?e.toExponential():""}}},kr=x.isArray,qn=x.isNullOrUndef,Mr=x.valueOrDefault,Jr=x.valueAtIndexOrDefault;Z._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:Gn.formatters.values,minor:{},major:{}}});function DT(e,r){for(var i=[],a=e.length/r,s=0,c=e.length;s<c;s+=a)i.push(e[Math.floor(s)]);return i}function IT(e,r,i){var a=e.getTicks().length,s=Math.min(r,a-1),c=e.getPixelForTick(s),d=e._startPixel,h=e._endPixel,f=1e-6,v;if(!(i&&(a===1?v=Math.max(c-d,h-c):r===0?v=(e.getPixelForTick(1)-c)/2:v=(c-e.getPixelForTick(s-1))/2,c+=s<r?v:-v,c<d-f||c>h+f)))return c}function ET(e,r){x.each(e,function(i){var a=i.gc,s=a.length/2,c;if(s>r){for(c=0;c<s;++c)delete i.data[a[c]];a.splice(0,s)}})}function LT(e,r,i,a){var s=i.length,c=[],d=[],h=[],f=0,v=0,b,y,_,O,P,C,A,F,U,q,ae,ie,he;for(b=0;b<s;++b){if(O=i[b].label,P=i[b].major?r.major:r.minor,e.font=C=P.string,A=a[C]=a[C]||{data:{},gc:[]},F=P.lineHeight,U=q=0,!qn(O)&&!kr(O))U=x.measureText(e,A.data,A.gc,U,O),q=F;else if(kr(O))for(y=0,_=O.length;y<_;++y)ae=O[y],!qn(ae)&&!kr(ae)&&(U=x.measureText(e,A.data,A.gc,U,ae),q+=F);c.push(U),d.push(q),h.push(F/2),f=Math.max(U,f),v=Math.max(q,v)}ET(a,s),ie=c.indexOf(f),he=d.indexOf(v);function ue(ge){return{width:c[ge]||0,height:d[ge]||0,offset:h[ge]||0}}return{first:ue(0),last:ue(s-1),widest:ue(ie),highest:ue(he)}}function Kn(e){return e.drawTicks?e.tickMarkLength:0}function Gs(e){var r,i;return e.display?(r=x.options._parseFont(e),i=x.options.toPadding(e.padding),r.lineHeight+i.height):0}function Rf(e,r){return x.extend(x.options._parseFont({fontFamily:Mr(r.fontFamily,e.fontFamily),fontSize:Mr(r.fontSize,e.fontSize),fontStyle:Mr(r.fontStyle,e.fontStyle),lineHeight:Mr(r.lineHeight,e.lineHeight)}),{color:x.options.resolve([r.fontColor,e.fontColor,Z.global.defaultFontColor])})}function qs(e){var r=Rf(e,e.minor),i=e.major.enabled?Rf(e,e.major):r;return{minor:r,major:i}}function Ks(e){var r=[],i,a,s;for(a=0,s=e.length;a<s;++a)i=e[a],typeof i._index!="undefined"&&r.push(i);return r}function FT(e){var r=e.length,i,a;if(r<2)return!1;for(a=e[0],i=1;i<r;++i)if(e[i]-e[i-1]!==a)return!1;return a}function RT(e,r,i,a){var s=FT(e),c=(r.length-1)/a,d,h,f,v;if(!s)return Math.max(c,1);for(d=x.math._factorize(s),f=0,v=d.length-1;f<v;f++)if(h=d[f],h>c)return h;return Math.max(c,1)}function $T(e){var r=[],i,a;for(i=0,a=e.length;i<a;i++)e[i].major&&r.push(i);return r}function NT(e,r,i){var a=0,s=r[0],c,d;for(i=Math.ceil(i),c=0;c<e.length;c++)d=e[c],c===s?(d._index=c,a++,s=r[a*i]):delete d.label}function da(e,r,i,a){var s=Mr(i,0),c=Math.min(Mr(a,e.length),e.length),d=0,h,f,v,b;for(r=Math.ceil(r),a&&(h=a-i,r=h/Math.floor(h/r)),b=s;b<0;)d++,b=Math.round(s+d*r);for(f=Math.max(s,0);f<c;f++)v=e[f],f===b?(v._index=f,d++,b=Math.round(s+d*r)):delete v.label}var Qs=Et.extend({zeroLineIndex:0,getPadding:function(){var e=this;return{left:e.paddingLeft||0,top:e.paddingTop||0,right:e.paddingRight||0,bottom:e.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){x.callback(this.options.beforeUpdate,[this])},update:function(e,r,i){var a=this,s=a.options.ticks,c=s.sampleSize,d,h,f,v,b;if(a.beforeUpdate(),a.maxWidth=e,a.maxHeight=r,a.margins=x.extend({left:0,right:0,top:0,bottom:0},i),a._ticks=null,a.ticks=null,a._labelSizes=null,a._maxLabelLines=0,a.longestLabelWidth=0,a.longestTextCache=a.longestTextCache||{},a._gridLineItems=null,a._labelItems=null,a.beforeSetDimensions(),a.setDimensions(),a.afterSetDimensions(),a.beforeDataLimits(),a.determineDataLimits(),a.afterDataLimits(),a.beforeBuildTicks(),v=a.buildTicks()||[],v=a.afterBuildTicks(v)||v,(!v||!v.length)&&a.ticks)for(v=[],d=0,h=a.ticks.length;d<h;++d)v.push({value:a.ticks[d],major:!1});return a._ticks=v,b=c<v.length,f=a._convertTicksToLabels(b?DT(v,c):v),a._configure(),a.beforeCalculateTickRotation(),a.calculateTickRotation(),a.afterCalculateTickRotation(),a.beforeFit(),a.fit(),a.afterFit(),a._ticksToDraw=s.display&&(s.autoSkip||s.source==="auto")?a._autoSkip(v):v,b&&(f=a._convertTicksToLabels(a._ticksToDraw)),a.ticks=f,a.afterUpdate(),a.minSize},_configure:function(){var e=this,r=e.options.ticks.reverse,i,a;e.isHorizontal()?(i=e.left,a=e.right):(i=e.top,a=e.bottom,r=!r),e._startPixel=i,e._endPixel=a,e._reversePixels=r,e._length=a-i},afterUpdate:function(){x.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){x.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0},afterSetDimensions:function(){x.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){x.callback(this.options.beforeDataLimits,[this])},determineDataLimits:x.noop,afterDataLimits:function(){x.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){x.callback(this.options.beforeBuildTicks,[this])},buildTicks:x.noop,afterBuildTicks:function(e){var r=this;return kr(e)&&e.length?x.callback(r.options.afterBuildTicks,[r,e]):(r.ticks=x.callback(r.options.afterBuildTicks,[r,r.ticks])||r.ticks,e)},beforeTickToLabelConversion:function(){x.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var e=this,r=e.options.ticks;e.ticks=e.ticks.map(r.userCallback||r.callback,this)},afterTickToLabelConversion:function(){x.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){x.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var e=this,r=e.options,i=r.ticks,a=e.getTicks().length,s=i.minRotation||0,c=i.maxRotation,d=s,h,f,v,b,y,_,O;if(!e._isVisible()||!i.display||s>=c||a<=1||!e.isHorizontal()){e.labelRotation=s;return}h=e._getLabelSizes(),f=h.widest.width,v=h.highest.height-h.highest.offset,b=Math.min(e.maxWidth,e.chart.width-f),y=r.offset?e.maxWidth/a:b/(a-1),f+6>y&&(y=b/(a-(r.offset?.5:1)),_=e.maxHeight-Kn(r.gridLines)-i.padding-Gs(r.scaleLabel),O=Math.sqrt(f*f+v*v),d=x.toDegrees(Math.min(Math.asin(Math.min((h.highest.height+6)/y,1)),Math.asin(Math.min(_/O,1))-Math.asin(v/O))),d=Math.max(s,Math.min(c,d))),e.labelRotation=d},afterCalculateTickRotation:function(){x.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){x.callback(this.options.beforeFit,[this])},fit:function(){var e=this,r=e.minSize={width:0,height:0},i=e.chart,a=e.options,s=a.ticks,c=a.scaleLabel,d=a.gridLines,h=e._isVisible(),f=a.position==="bottom",v=e.isHorizontal();if(v?r.width=e.maxWidth:h&&(r.width=Kn(d)+Gs(c)),v?h&&(r.height=Kn(d)+Gs(c)):r.height=e.maxHeight,s.display&&h){var b=qs(s),y=e._getLabelSizes(),_=y.first,O=y.last,P=y.widest,C=y.highest,A=b.minor.lineHeight*.4,F=s.padding;if(v){var U=e.labelRotation!==0,q=x.toRadians(e.labelRotation),ae=Math.cos(q),ie=Math.sin(q),he=ie*P.width+ae*(C.height-(U?C.offset:0))+(U?0:A);r.height=Math.min(e.maxHeight,r.height+he+F);var ue=e.getPixelForTick(0)-e.left,ge=e.right-e.getPixelForTick(e.getTicks().length-1),ye,$e;U?(ye=f?ae*_.width+ie*_.offset:ie*(_.height-_.offset),$e=f?ie*(O.height-O.offset):ae*O.width+ie*O.offset):(ye=_.width/2,$e=O.width/2),e.paddingLeft=Math.max((ye-ue)*e.width/(e.width-ue),0)+3,e.paddingRight=Math.max(($e-ge)*e.width/(e.width-ge),0)+3}else{var Fe=s.mirror?0:P.width+F+A;r.width=Math.min(e.maxWidth,r.width+Fe),e.paddingTop=_.height/2,e.paddingBottom=O.height/2}}e.handleMargins(),v?(e.width=e._length=i.width-e.margins.left-e.margins.right,e.height=r.height):(e.width=r.width,e.height=e._length=i.height-e.margins.top-e.margins.bottom)},handleMargins:function(){var e=this;e.margins&&(e.margins.left=Math.max(e.paddingLeft,e.margins.left),e.margins.top=Math.max(e.paddingTop,e.margins.top),e.margins.right=Math.max(e.paddingRight,e.margins.right),e.margins.bottom=Math.max(e.paddingBottom,e.margins.bottom))},afterFit:function(){x.callback(this.options.afterFit,[this])},isHorizontal:function(){var e=this.options.position;return e==="top"||e==="bottom"},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(e){if(qn(e))return NaN;if((typeof e=="number"||e instanceof Number)&&!isFinite(e))return NaN;if(e){if(this.isHorizontal()){if(e.x!==void 0)return this.getRightValue(e.x)}else if(e.y!==void 0)return this.getRightValue(e.y)}return e},_convertTicksToLabels:function(e){var r=this,i,a,s;for(r.ticks=e.map(function(c){return c.value}),r.beforeTickToLabelConversion(),i=r.convertTicksToLabels(e)||r.ticks,r.afterTickToLabelConversion(),a=0,s=e.length;a<s;++a)e[a].label=i[a];return i},_getLabelSizes:function(){var e=this,r=e._labelSizes;return r||(e._labelSizes=r=LT(e.ctx,qs(e.options.ticks),e.getTicks(),e.longestTextCache),e.longestLabelWidth=r.widest.width),r},_parseValue:function(e){var r,i,a,s;return kr(e)?(r=+this.getRightValue(e[0]),i=+this.getRightValue(e[1]),a=Math.min(r,i),s=Math.max(r,i)):(e=+this.getRightValue(e),r=void 0,i=e,a=e,s=e),{min:a,max:s,start:r,end:i}},_getScaleLabel:function(e){var r=this._parseValue(e);return r.start!==void 0?"["+r.start+", "+r.end+"]":+this.getRightValue(e)},getLabelForIndex:x.noop,getPixelForValue:x.noop,getValueForPixel:x.noop,getPixelForTick:function(e){var r=this,i=r.options.offset,a=r._ticks.length,s=1/Math.max(a-(i?0:1),1);return e<0||e>a-1?null:r.getPixelForDecimal(e*s+(i?s/2:0))},getPixelForDecimal:function(e){var r=this;return r._reversePixels&&(e=1-e),r._startPixel+e*r._length},getDecimalForPixel:function(e){var r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var e=this,r=e.min,i=e.max;return e.beginAtZero?0:r<0&&i<0?i:r>0&&i>0?r:0},_autoSkip:function(e){var r=this,i=r.options.ticks,a=r._length,s=i.maxTicksLimit||a/r._tickSize()+1,c=i.major.enabled?$T(e):[],d=c.length,h=c[0],f=c[d-1],v,b,y,_;if(d>s)return NT(e,c,d/s),Ks(e);if(y=RT(c,e,a,s),d>0){for(v=0,b=d-1;v<b;v++)da(e,y,c[v],c[v+1]);return _=d>1?(f-h)/(d-1):null,da(e,y,x.isNullOrUndef(_)?0:h-_,h),da(e,y,f,x.isNullOrUndef(_)?e.length:f+_),Ks(e)}return da(e,y),Ks(e)},_tickSize:function(){var e=this,r=e.options.ticks,i=x.toRadians(e.labelRotation),a=Math.abs(Math.cos(i)),s=Math.abs(Math.sin(i)),c=e._getLabelSizes(),d=r.autoSkipPadding||0,h=c?c.widest.width+d:0,f=c?c.highest.height+d:0;return e.isHorizontal()?f*a>h*s?h/a:f/s:f*s<h*a?f/a:h/s},_isVisible:function(){var e=this,r=e.chart,i=e.options.display,a,s,c;if(i!=="auto")return!!i;for(a=0,s=r.data.datasets.length;a<s;++a)if(r.isDatasetVisible(a)&&(c=r.getDatasetMeta(a),c.xAxisID===e.id||c.yAxisID===e.id))return!0;return!1},_computeGridLineItems:function(e){var r=this,i=r.chart,a=r.options,s=a.gridLines,c=a.position,d=s.offsetGridLines,h=r.isHorizontal(),f=r._ticksToDraw,v=f.length+(d?1:0),b=Kn(s),y=[],_=s.drawBorder?Jr(s.lineWidth,0,0):0,O=_/2,P=x._alignPixel,C=function($O){return P(i,$O,_)},A,F,U,q,ae,ie,he,ue,ge,ye,$e,Fe,Ie,Be,tn,rn,al;for(c==="top"?(A=C(r.bottom),he=r.bottom-b,ge=A-O,$e=C(e.top)+O,Ie=e.bottom):c==="bottom"?(A=C(r.top),$e=e.top,Ie=C(e.bottom)-O,he=A+O,ge=r.top+b):c==="left"?(A=C(r.right),ie=r.right-b,ue=A-O,ye=C(e.left)+O,Fe=e.right):(A=C(r.left),ye=e.left,Fe=C(e.right)-O,ie=A+O,ue=r.left+b),F=0;F<v;++F)U=f[F]||{},!(qn(U.label)&&F<f.length)&&(F===r.zeroLineIndex&&a.offset===d?(Be=s.zeroLineWidth,tn=s.zeroLineColor,rn=s.zeroLineBorderDash||[],al=s.zeroLineBorderDashOffset||0):(Be=Jr(s.lineWidth,F,1),tn=Jr(s.color,F,"rgba(0,0,0,0.1)"),rn=s.borderDash||[],al=s.borderDashOffset||0),q=IT(r,U._index||F,d),q!==void 0&&(ae=P(i,q,Be),h?ie=ue=ye=Fe=ae:he=ge=$e=Ie=ae,y.push({tx1:ie,ty1:he,tx2:ue,ty2:ge,x1:ye,y1:$e,x2:Fe,y2:Ie,width:Be,color:tn,borderDash:rn,borderDashOffset:al})));return y.ticksLength=v,y.borderValue=A,y},_computeLabelItems:function(){var e=this,r=e.options,i=r.ticks,a=r.position,s=i.mirror,c=e.isHorizontal(),d=e._ticksToDraw,h=qs(i),f=i.padding,v=Kn(r.gridLines),b=-x.toRadians(e.labelRotation),y=[],_,O,P,C,A,F,U,q,ae,ie,he,ue;for(a==="top"?(F=e.bottom-v-f,U=b?"left":"center"):a==="bottom"?(F=e.top+v+f,U=b?"right":"center"):a==="left"?(A=e.right-(s?0:v)-f,U=s?"left":"right"):(A=e.left+(s?0:v)+f,U=s?"right":"left"),_=0,O=d.length;_<O;++_)P=d[_],C=P.label,!qn(C)&&(q=e.getPixelForTick(P._index||_)+i.labelOffset,ae=P.major?h.major:h.minor,ie=ae.lineHeight,he=kr(C)?C.length:1,c?(A=q,ue=a==="top"?((b?1:.5)-he)*ie:(b?0:.5)*ie):(F=q,ue=(1-he)*ie/2),y.push({x:A,y:F,rotation:b,label:C,font:ae,textOffset:ue,textAlign:U}));return y},_drawGrid:function(e){var r=this,i=r.options.gridLines;if(!!i.display){var a=r.ctx,s=r.chart,c=x._alignPixel,d=i.drawBorder?Jr(i.lineWidth,0,0):0,h=r._gridLineItems||(r._gridLineItems=r._computeGridLineItems(e)),f,v,b,y,_;for(b=0,y=h.length;b<y;++b)_=h[b],f=_.width,v=_.color,f&&v&&(a.save(),a.lineWidth=f,a.strokeStyle=v,a.setLineDash&&(a.setLineDash(_.borderDash),a.lineDashOffset=_.borderDashOffset),a.beginPath(),i.drawTicks&&(a.moveTo(_.tx1,_.ty1),a.lineTo(_.tx2,_.ty2)),i.drawOnChartArea&&(a.moveTo(_.x1,_.y1),a.lineTo(_.x2,_.y2)),a.stroke(),a.restore());if(d){var O=d,P=Jr(i.lineWidth,h.ticksLength-1,1),C=h.borderValue,A,F,U,q;r.isHorizontal()?(A=c(s,r.left,O)-O/2,F=c(s,r.right,P)+P/2,U=q=C):(U=c(s,r.top,O)-O/2,q=c(s,r.bottom,P)+P/2,A=F=C),a.lineWidth=d,a.strokeStyle=Jr(i.color,0),a.beginPath(),a.moveTo(A,U),a.lineTo(F,q),a.stroke()}}},_drawLabels:function(){var e=this,r=e.options.ticks;if(!!r.display){var i=e.ctx,a=e._labelItems||(e._labelItems=e._computeLabelItems()),s,c,d,h,f,v,b,y;for(s=0,d=a.length;s<d;++s){if(f=a[s],v=f.font,i.save(),i.translate(f.x,f.y),i.rotate(f.rotation),i.font=v.string,i.fillStyle=v.color,i.textBaseline="middle",i.textAlign=f.textAlign,b=f.label,y=f.textOffset,kr(b))for(c=0,h=b.length;c<h;++c)i.fillText(""+b[c],0,y),y+=v.lineHeight;else i.fillText(b,0,y);i.restore()}}},_drawTitle:function(){var e=this,r=e.ctx,i=e.options,a=i.scaleLabel;if(!!a.display){var s=Mr(a.fontColor,Z.global.defaultFontColor),c=x.options._parseFont(a),d=x.options.toPadding(a.padding),h=c.lineHeight/2,f=i.position,v=0,b,y;if(e.isHorizontal())b=e.left+e.width/2,y=f==="bottom"?e.bottom-h-d.bottom:e.top+h+d.top;else{var _=f==="left";b=_?e.left+h+d.top:e.right-h-d.top,y=e.top+e.height/2,v=_?-.5*Math.PI:.5*Math.PI}r.save(),r.translate(b,y),r.rotate(v),r.textAlign="center",r.textBaseline="middle",r.fillStyle=s,r.font=c.string,r.fillText(a.labelString,0,0),r.restore()}},draw:function(e){var r=this;!r._isVisible()||(r._drawGrid(e),r._drawTitle(),r._drawLabels())},_layers:function(){var e=this,r=e.options,i=r.ticks&&r.ticks.z||0,a=r.gridLines&&r.gridLines.z||0;return!e._isVisible()||i===a||e.draw!==e._draw?[{z:i,draw:function(){e.draw.apply(e,arguments)}}]:[{z:a,draw:function(){e._drawGrid.apply(e,arguments),e._drawTitle.apply(e,arguments)}},{z:i,draw:function(){e._drawLabels.apply(e,arguments)}}]},_getMatchingVisibleMetas:function(e){var r=this,i=r.isHorizontal();return r.chart._getSortedVisibleDatasetMetas().filter(function(a){return(!e||a.type===e)&&(i?a.xAxisID===r.id:a.yAxisID===r.id)})}});Qs.prototype._draw=Qs.prototype.draw;var Qe=Qs,Xs=x.isNullOrUndef,BT={position:"bottom"},$f=Qe.extend({determineDataLimits:function(){var e=this,r=e._getLabels(),i=e.options.ticks,a=i.min,s=i.max,c=0,d=r.length-1,h;a!==void 0&&(h=r.indexOf(a),h>=0&&(c=h)),s!==void 0&&(h=r.indexOf(s),h>=0&&(d=h)),e.minIndex=c,e.maxIndex=d,e.min=r[c],e.max=r[d]},buildTicks:function(){var e=this,r=e._getLabels(),i=e.minIndex,a=e.maxIndex;e.ticks=i===0&&a===r.length-1?r:r.slice(i,a+1)},getLabelForIndex:function(e,r){var i=this,a=i.chart;return a.getDatasetMeta(r).controller._getValueScaleId()===i.id?i.getRightValue(a.data.datasets[r].data[e]):i._getLabels()[e]},_configure:function(){var e=this,r=e.options.offset,i=e.ticks;Qe.prototype._configure.call(e),e.isHorizontal()||(e._reversePixels=!e._reversePixels),i&&(e._startValue=e.minIndex-(r?.5:0),e._valueRange=Math.max(i.length-(r?0:1),1))},getPixelForValue:function(e,r,i){var a=this,s,c,d;return!Xs(r)&&!Xs(i)&&(e=a.chart.data.datasets[i].data[r]),Xs(e)||(s=a.isHorizontal()?e.x:e.y),(s!==void 0||e!==void 0&&isNaN(r))&&(c=a._getLabels(),e=x.valueOrDefault(s,e),d=c.indexOf(e),r=d!==-1?d:r,isNaN(r)&&(r=e)),a.getPixelForDecimal((r-a._startValue)/a._valueRange)},getPixelForTick:function(e){var r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e],e+this.minIndex)},getValueForPixel:function(e){var r=this,i=Math.round(r._startValue+r.getDecimalForPixel(e)*r._valueRange);return Math.min(Math.max(i,0),r.ticks.length-1)},getBasePixel:function(){return this.bottom}}),jT=BT;$f._defaults=jT;var zT=x.noop,Tr=x.isNullOrUndef;function WT(e,r){var i=[],a=1e-14,s=e.stepSize,c=s||1,d=e.maxTicks-1,h=e.min,f=e.max,v=e.precision,b=r.min,y=r.max,_=x.niceNum((y-b)/d/c)*c,O,P,C,A;if(_<a&&Tr(h)&&Tr(f))return[b,y];A=Math.ceil(y/_)-Math.floor(b/_),A>d&&(_=x.niceNum(A*_/d/c)*c),s||Tr(v)?O=Math.pow(10,x._decimalPlaces(_)):(O=Math.pow(10,v),_=Math.ceil(_*O)/O),P=Math.floor(b/_)*_,C=Math.ceil(y/_)*_,s&&(!Tr(h)&&x.almostWhole(h/_,_/1e3)&&(P=h),!Tr(f)&&x.almostWhole(f/_,_/1e3)&&(C=f)),A=(C-P)/_,x.almostEquals(A,Math.round(A),_/1e3)?A=Math.round(A):A=Math.ceil(A),P=Math.round(P*O)/O,C=Math.round(C*O)/O,i.push(Tr(h)?P:h);for(var F=1;F<A;++F)i.push(Math.round((P+F*_)*O)/O);return i.push(Tr(f)?C:f),i}var fa=Qe.extend({getRightValue:function(e){return typeof e=="string"?+e:Qe.prototype.getRightValue.call(this,e)},handleTickRangeOptions:function(){var e=this,r=e.options,i=r.ticks;if(i.beginAtZero){var a=x.sign(e.min),s=x.sign(e.max);a<0&&s<0?e.max=0:a>0&&s>0&&(e.min=0)}var c=i.min!==void 0||i.suggestedMin!==void 0,d=i.max!==void 0||i.suggestedMax!==void 0;i.min!==void 0?e.min=i.min:i.suggestedMin!==void 0&&(e.min===null?e.min=i.suggestedMin:e.min=Math.min(e.min,i.suggestedMin)),i.max!==void 0?e.max=i.max:i.suggestedMax!==void 0&&(e.max===null?e.max=i.suggestedMax:e.max=Math.max(e.max,i.suggestedMax)),c!==d&&e.min>=e.max&&(c?e.max=e.min+1:e.min=e.max-1),e.min===e.max&&(e.max++,i.beginAtZero||e.min--)},getTickLimit:function(){var e=this,r=e.options.ticks,i=r.stepSize,a=r.maxTicksLimit,s;return i?s=Math.ceil(e.max/i)-Math.floor(e.min/i)+1:(s=e._computeTickLimit(),a=a||11),a&&(s=Math.min(a,s)),s},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:zT,buildTicks:function(){var e=this,r=e.options,i=r.ticks,a=e.getTickLimit();a=Math.max(2,a);var s={maxTicks:a,min:i.min,max:i.max,precision:i.precision,stepSize:x.valueOrDefault(i.fixedStepSize,i.stepSize)},c=e.ticks=WT(s,e);e.handleDirectionalChanges(),e.max=x.max(c),e.min=x.min(c),i.reverse?(c.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){var e=this;e.ticksAsNumbers=e.ticks.slice(),e.zeroLineIndex=e.ticks.indexOf(0),Qe.prototype.convertTicksToLabels.call(e)},_configure:function(){var e=this,r=e.getTicks(),i=e.min,a=e.max,s;Qe.prototype._configure.call(e),e.options.offset&&r.length&&(s=(a-i)/Math.max(r.length-1,1)/2,i-=s,a+=s),e._startValue=i,e._endValue=a,e._valueRange=a-i}}),HT={position:"left",ticks:{callback:Gn.formatters.linear}},YT=0,VT=1;function UT(e,r,i){var a=[i.type,r===void 0&&i.stack===void 0?i.index:"",i.stack].join(".");return e[a]===void 0&&(e[a]={pos:[],neg:[]}),e[a]}function GT(e,r,i,a){var s=e.options,c=s.stacked,d=UT(r,c,i),h=d.pos,f=d.neg,v=a.length,b,y;for(b=0;b<v;++b)y=e._parseValue(a[b]),!(isNaN(y.min)||isNaN(y.max)||i.data[b].hidden)&&(h[b]=h[b]||0,f[b]=f[b]||0,s.relativePoints?h[b]=100:y.min<0||y.max<0?f[b]+=y.min:h[b]+=y.max)}function qT(e,r,i){var a=i.length,s,c;for(s=0;s<a;++s)c=e._parseValue(i[s]),!(isNaN(c.min)||isNaN(c.max)||r.data[s].hidden)&&(e.min=Math.min(e.min,c.min),e.max=Math.max(e.max,c.max))}var Nf=fa.extend({determineDataLimits:function(){var e=this,r=e.options,i=e.chart,a=i.data.datasets,s=e._getMatchingVisibleMetas(),c=r.stacked,d={},h=s.length,f,v,b,y;if(e.min=Number.POSITIVE_INFINITY,e.max=Number.NEGATIVE_INFINITY,c===void 0)for(f=0;!c&&f<h;++f)v=s[f],c=v.stack!==void 0;for(f=0;f<h;++f)v=s[f],b=a[v.index].data,c?GT(e,d,v,b):qT(e,v,b);x.each(d,function(_){y=_.pos.concat(_.neg),e.min=Math.min(e.min,x.min(y)),e.max=Math.max(e.max,x.max(y))}),e.min=x.isFinite(e.min)&&!isNaN(e.min)?e.min:YT,e.max=x.isFinite(e.max)&&!isNaN(e.max)?e.max:VT,e.handleTickRangeOptions()},_computeTickLimit:function(){var e=this,r;return e.isHorizontal()?Math.ceil(e.width/40):(r=x.options._parseFont(e.options.ticks),Math.ceil(e.height/r.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(e,r){return this._getScaleLabel(this.chart.data.datasets[r].data[e])},getPixelForValue:function(e){var r=this;return r.getPixelForDecimal((+r.getRightValue(e)-r._startValue)/r._valueRange)},getValueForPixel:function(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange},getPixelForTick:function(e){var r=this.ticksAsNumbers;return e<0||e>r.length-1?null:this.getPixelForValue(r[e])}}),KT=HT;Nf._defaults=KT;var Zs=x.valueOrDefault,Xe=x.math.log10;function QT(e,r){var i=[],a=Zs(e.min,Math.pow(10,Math.floor(Xe(r.min)))),s=Math.floor(Xe(r.max)),c=Math.ceil(r.max/Math.pow(10,s)),d,h;a===0?(d=Math.floor(Xe(r.minNotZero)),h=Math.floor(r.minNotZero/Math.pow(10,d)),i.push(a),a=h*Math.pow(10,d)):(d=Math.floor(Xe(a)),h=Math.floor(a/Math.pow(10,d)));var f=d<0?Math.pow(10,Math.abs(d)):1;do i.push(a),++h,h===10&&(h=1,++d,f=d>=0?1:f),a=Math.round(h*Math.pow(10,d)*f)/f;while(d<s||d===s&&h<c);var v=Zs(e.max,a);return i.push(v),i}var XT={position:"left",ticks:{callback:Gn.formatters.logarithmic}};function ha(e,r){return x.isFinite(e)&&e>=0?e:r}var Bf=Qe.extend({determineDataLimits:function(){var e=this,r=e.options,i=e.chart,a=i.data.datasets,s=e.isHorizontal();function c(A){return s?A.xAxisID===e.id:A.yAxisID===e.id}var d,h,f,v,b,y;e.min=Number.POSITIVE_INFINITY,e.max=Number.NEGATIVE_INFINITY,e.minNotZero=Number.POSITIVE_INFINITY;var _=r.stacked;if(_===void 0){for(d=0;d<a.length;d++)if(h=i.getDatasetMeta(d),i.isDatasetVisible(d)&&c(h)&&h.stack!==void 0){_=!0;break}}if(r.stacked||_){var O={};for(d=0;d<a.length;d++){h=i.getDatasetMeta(d);var P=[h.type,r.stacked===void 0&&h.stack===void 0?d:"",h.stack].join(".");if(i.isDatasetVisible(d)&&c(h))for(O[P]===void 0&&(O[P]=[]),v=a[d].data,b=0,y=v.length;b<y;b++){var C=O[P];f=e._parseValue(v[b]),!(isNaN(f.min)||isNaN(f.max)||h.data[b].hidden||f.min<0||f.max<0)&&(C[b]=C[b]||0,C[b]+=f.max)}}x.each(O,function(A){if(A.length>0){var F=x.min(A),U=x.max(A);e.min=Math.min(e.min,F),e.max=Math.max(e.max,U)}})}else for(d=0;d<a.length;d++)if(h=i.getDatasetMeta(d),i.isDatasetVisible(d)&&c(h))for(v=a[d].data,b=0,y=v.length;b<y;b++)f=e._parseValue(v[b]),!(isNaN(f.min)||isNaN(f.max)||h.data[b].hidden||f.min<0||f.max<0)&&(e.min=Math.min(f.min,e.min),e.max=Math.max(f.max,e.max),f.min!==0&&(e.minNotZero=Math.min(f.min,e.minNotZero)));e.min=x.isFinite(e.min)?e.min:null,e.max=x.isFinite(e.max)?e.max:null,e.minNotZero=x.isFinite(e.minNotZero)?e.minNotZero:null,this.handleTickRangeOptions()},handleTickRangeOptions:function(){var e=this,r=e.options.ticks,i=1,a=10;e.min=ha(r.min,e.min),e.max=ha(r.max,e.max),e.min===e.max&&(e.min!==0&&e.min!==null?(e.min=Math.pow(10,Math.floor(Xe(e.min))-1),e.max=Math.pow(10,Math.floor(Xe(e.max))+1)):(e.min=i,e.max=a)),e.min===null&&(e.min=Math.pow(10,Math.floor(Xe(e.max))-1)),e.max===null&&(e.max=e.min!==0?Math.pow(10,Math.floor(Xe(e.min))+1):a),e.minNotZero===null&&(e.min>0?e.minNotZero=e.min:e.max<1?e.minNotZero=Math.pow(10,Math.floor(Xe(e.max))):e.minNotZero=i)},buildTicks:function(){var e=this,r=e.options.ticks,i=!e.isHorizontal(),a={min:ha(r.min),max:ha(r.max)},s=e.ticks=QT(a,e);e.max=x.max(s),e.min=x.min(s),r.reverse?(i=!i,e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max),i&&s.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),Qe.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(e,r){return this._getScaleLabel(this.chart.data.datasets[r].data[e])},getPixelForTick:function(e){var r=this.tickValues;return e<0||e>r.length-1?null:this.getPixelForValue(r[e])},_getFirstTickValue:function(e){var r=Math.floor(Xe(e)),i=Math.floor(e/Math.pow(10,r));return i*Math.pow(10,r)},_configure:function(){var e=this,r=e.min,i=0;Qe.prototype._configure.call(e),r===0&&(r=e._getFirstTickValue(e.minNotZero),i=Zs(e.options.ticks.fontSize,Z.global.defaultFontSize)/e._length),e._startValue=Xe(r),e._valueOffset=i,e._valueRange=(Xe(e.max)-Xe(r))/(1-i)},getPixelForValue:function(e){var r=this,i=0;return e=+r.getRightValue(e),e>r.min&&e>0&&(i=(Xe(e)-r._startValue)/r._valueRange+r._valueOffset),r.getPixelForDecimal(i)},getValueForPixel:function(e){var r=this,i=r.getDecimalForPixel(e);return i===0&&r.min===0?0:Math.pow(10,r._startValue+(i-r._valueOffset)*r._valueRange)}}),ZT=XT;Bf._defaults=ZT;var ma=x.valueOrDefault,Js=x.valueAtIndexOrDefault,jf=x.options.resolve,JT={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:Gn.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(e){return e}}};function el(e){var r=e.ticks;return r.display&&e.display?ma(r.fontSize,Z.global.defaultFontSize)+r.backdropPaddingY*2:0}function eO(e,r,i){return x.isArray(i)?{w:x.longestText(e,e.font,i),h:i.length*r}:{w:e.measureText(i).width,h:r}}function zf(e,r,i,a,s){return e===a||e===s?{start:r-i/2,end:r+i/2}:e<a||e>s?{start:r-i,end:r}:{start:r,end:r+i}}function tO(e){var r=x.options._parseFont(e.options.pointLabels),i={l:0,r:e.width,t:0,b:e.height-e.paddingTop},a={},s,c,d;e.ctx.font=r.string,e._pointLabelSizes=[];var h=e.chart.data.labels.length;for(s=0;s<h;s++){d=e.getPointPosition(s,e.drawingArea+5),c=eO(e.ctx,r.lineHeight,e.pointLabels[s]),e._pointLabelSizes[s]=c;var f=e.getIndexAngle(s),v=x.toDegrees(f)%360,b=zf(v,d.x,c.w,0,180),y=zf(v,d.y,c.h,90,270);b.start<i.l&&(i.l=b.start,a.l=f),b.end>i.r&&(i.r=b.end,a.r=f),y.start<i.t&&(i.t=y.start,a.t=f),y.end>i.b&&(i.b=y.end,a.b=f)}e.setReductions(e.drawingArea,i,a)}function rO(e){return e===0||e===180?"center":e<180?"left":"right"}function nO(e,r,i,a){var s=i.y+a/2,c,d;if(x.isArray(r))for(c=0,d=r.length;c<d;++c)e.fillText(r[c],i.x,s),s+=a;else e.fillText(r,i.x,s)}function iO(e,r,i){e===90||e===270?i.y-=r.h/2:(e>270||e<90)&&(i.y-=r.h)}function aO(e){var r=e.ctx,i=e.options,a=i.pointLabels,s=el(i),c=e.getDistanceFromCenterForValue(i.ticks.reverse?e.min:e.max),d=x.options._parseFont(a);r.save(),r.font=d.string,r.textBaseline="middle";for(var h=e.chart.data.labels.length-1;h>=0;h--){var f=h===0?s/2:0,v=e.getPointPosition(h,c+f+5),b=Js(a.fontColor,h,Z.global.defaultFontColor);r.fillStyle=b;var y=e.getIndexAngle(h),_=x.toDegrees(y);r.textAlign=rO(_),iO(_,e._pointLabelSizes[h],v),nO(r,e.pointLabels[h],v,d.lineHeight)}r.restore()}function oO(e,r,i,a){var s=e.ctx,c=r.circular,d=e.chart.data.labels.length,h=Js(r.color,a-1),f=Js(r.lineWidth,a-1),v;if(!(!c&&!d||!h||!f)){if(s.save(),s.strokeStyle=h,s.lineWidth=f,s.setLineDash&&(s.setLineDash(r.borderDash||[]),s.lineDashOffset=r.borderDashOffset||0),s.beginPath(),c)s.arc(e.xCenter,e.yCenter,i,0,Math.PI*2);else{v=e.getPointPosition(0,i),s.moveTo(v.x,v.y);for(var b=1;b<d;b++)v=e.getPointPosition(b,i),s.lineTo(v.x,v.y)}s.closePath(),s.stroke(),s.restore()}}function va(e){return x.isNumber(e)?e:0}var Wf=fa.extend({setDimensions:function(){var e=this;e.width=e.maxWidth,e.height=e.maxHeight,e.paddingTop=el(e.options)/2,e.xCenter=Math.floor(e.width/2),e.yCenter=Math.floor((e.height-e.paddingTop)/2),e.drawingArea=Math.min(e.height-e.paddingTop,e.width)/2},determineDataLimits:function(){var e=this,r=e.chart,i=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;x.each(r.data.datasets,function(s,c){if(r.isDatasetVisible(c)){var d=r.getDatasetMeta(c);x.each(s.data,function(h,f){var v=+e.getRightValue(h);isNaN(v)||d.data[f].hidden||(i=Math.min(v,i),a=Math.max(v,a))})}}),e.min=i===Number.POSITIVE_INFINITY?0:i,e.max=a===Number.NEGATIVE_INFINITY?0:a,e.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/el(this.options))},convertTicksToLabels:function(){var e=this;fa.prototype.convertTicksToLabels.call(e),e.pointLabels=e.chart.data.labels.map(function(){var r=x.callback(e.options.pointLabels.callback,arguments,e);return r||r===0?r:""})},getLabelForIndex:function(e,r){return+this.getRightValue(this.chart.data.datasets[r].data[e])},fit:function(){var e=this,r=e.options;r.display&&r.pointLabels.display?tO(e):e.setCenterPoint(0,0,0,0)},setReductions:function(e,r,i){var a=this,s=r.l/Math.sin(i.l),c=Math.max(r.r-a.width,0)/Math.sin(i.r),d=-r.t/Math.cos(i.t),h=-Math.max(r.b-(a.height-a.paddingTop),0)/Math.cos(i.b);s=va(s),c=va(c),d=va(d),h=va(h),a.drawingArea=Math.min(Math.floor(e-(s+c)/2),Math.floor(e-(d+h)/2)),a.setCenterPoint(s,c,d,h)},setCenterPoint:function(e,r,i,a){var s=this,c=s.width-r-s.drawingArea,d=e+s.drawingArea,h=i+s.drawingArea,f=s.height-s.paddingTop-a-s.drawingArea;s.xCenter=Math.floor((d+c)/2+s.left),s.yCenter=Math.floor((h+f)/2+s.top+s.paddingTop)},getIndexAngle:function(e){var r=this.chart,i=360/r.data.labels.length,a=r.options||{},s=a.startAngle||0,c=(e*i+s)%360;return(c<0?c+360:c)*Math.PI*2/360},getDistanceFromCenterForValue:function(e){var r=this;if(x.isNullOrUndef(e))return NaN;var i=r.drawingArea/(r.max-r.min);return r.options.ticks.reverse?(r.max-e)*i:(e-r.min)*i},getPointPosition:function(e,r){var i=this,a=i.getIndexAngle(e)-Math.PI/2;return{x:Math.cos(a)*r+i.xCenter,y:Math.sin(a)*r+i.yCenter}},getPointPositionForValue:function(e,r){return this.getPointPosition(e,this.getDistanceFromCenterForValue(r))},getBasePosition:function(e){var r=this,i=r.min,a=r.max;return r.getPointPositionForValue(e||0,r.beginAtZero?0:i<0&&a<0?a:i>0&&a>0?i:0)},_drawGrid:function(){var e=this,r=e.ctx,i=e.options,a=i.gridLines,s=i.angleLines,c=ma(s.lineWidth,a.lineWidth),d=ma(s.color,a.color),h,f,v;if(i.pointLabels.display&&aO(e),a.display&&x.each(e.ticks,function(b,y){y!==0&&(f=e.getDistanceFromCenterForValue(e.ticksAsNumbers[y]),oO(e,a,f,y))}),s.display&&c&&d){for(r.save(),r.lineWidth=c,r.strokeStyle=d,r.setLineDash&&(r.setLineDash(jf([s.borderDash,a.borderDash,[]])),r.lineDashOffset=jf([s.borderDashOffset,a.borderDashOffset,0])),h=e.chart.data.labels.length-1;h>=0;h--)f=e.getDistanceFromCenterForValue(i.ticks.reverse?e.min:e.max),v=e.getPointPosition(h,f),r.beginPath(),r.moveTo(e.xCenter,e.yCenter),r.lineTo(v.x,v.y),r.stroke();r.restore()}},_drawLabels:function(){var e=this,r=e.ctx,i=e.options,a=i.ticks;if(!!a.display){var s=e.getIndexAngle(0),c=x.options._parseFont(a),d=ma(a.fontColor,Z.global.defaultFontColor),h,f;r.save(),r.font=c.string,r.translate(e.xCenter,e.yCenter),r.rotate(s),r.textAlign="center",r.textBaseline="middle",x.each(e.ticks,function(v,b){b===0&&!a.reverse||(h=e.getDistanceFromCenterForValue(e.ticksAsNumbers[b]),a.showLabelBackdrop&&(f=r.measureText(v).width,r.fillStyle=a.backdropColor,r.fillRect(-f/2-a.backdropPaddingX,-h-c.size/2-a.backdropPaddingY,f+a.backdropPaddingX*2,c.size+a.backdropPaddingY*2)),r.fillStyle=d,r.fillText(v,0,-h))}),r.restore()}},_drawTitle:x.noop}),sO=JT;Wf._defaults=sO;var tl=x._deprecated,Hf=x.options.resolve,lO=x.valueOrDefault,Yf=Number.MIN_SAFE_INTEGER||-9007199254740991,rl=Number.MAX_SAFE_INTEGER||9007199254740991,pa={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ze=Object.keys(pa);function Vf(e,r){return e-r}function cO(e){var r={},i=[],a,s,c;for(a=0,s=e.length;a<s;++a)c=e[a],r[c]||(r[c]=!0,i.push(c));return i}function Uf(e){return x.valueOrDefault(e.time.min,e.ticks.min)}function Gf(e){return x.valueOrDefault(e.time.max,e.ticks.max)}function uO(e,r,i,a){if(a==="linear"||!e.length)return[{time:r,pos:0},{time:i,pos:1}];var s=[],c=[r],d,h,f,v,b;for(d=0,h=e.length;d<h;++d)v=e[d],v>r&&v<i&&c.push(v);for(c.push(i),d=0,h=c.length;d<h;++d)b=c[d+1],f=c[d-1],v=c[d],(f===void 0||b===void 0||Math.round((b+f)/2)!==v)&&s.push({time:v,pos:d/(h-1)});return s}function dO(e,r,i){for(var a=0,s=e.length-1,c,d,h;a>=0&&a<=s;)if(c=a+s>>1,d=e[c-1]||null,h=e[c],d)if(h[r]<i)a=c+1;else if(d[r]>i)s=c-1;else return{lo:d,hi:h};else return{lo:null,hi:h};return{lo:h,hi:null}}function en(e,r,i,a){var s=dO(e,r,i),c=s.lo?s.hi?s.lo:e[e.length-2]:e[0],d=s.lo?s.hi?s.hi:e[e.length-1]:e[1],h=d[r]-c[r],f=h?(i-c[r])/h:0,v=(d[a]-c[a])*f;return c[a]+v}function nl(e,r){var i=e._adapter,a=e.options.time,s=a.parser,c=s||a.format,d=r;return typeof s=="function"&&(d=s(d)),x.isFinite(d)||(d=typeof c=="string"?i.parse(d,c):i.parse(d)),d!==null?+d:(!s&&typeof c=="function"&&(d=c(r),x.isFinite(d)||(d=i.parse(d))),d)}function Or(e,r){if(x.isNullOrUndef(r))return null;var i=e.options.time,a=nl(e,e.getRightValue(r));return a===null||i.round&&(a=+e._adapter.startOf(a,i.round)),a}function qf(e,r,i,a){var s=Ze.length,c,d,h;for(c=Ze.indexOf(e);c<s-1;++c)if(d=pa[Ze[c]],h=d.steps?d.steps:rl,d.common&&Math.ceil((i-r)/(h*d.size))<=a)return Ze[c];return Ze[s-1]}function fO(e,r,i,a,s){var c,d;for(c=Ze.length-1;c>=Ze.indexOf(i);c--)if(d=Ze[c],pa[d].common&&e._adapter.diff(s,a,d)>=r-1)return d;return Ze[i?Ze.indexOf(i):0]}function hO(e){for(var r=Ze.indexOf(e)+1,i=Ze.length;r<i;++r)if(pa[Ze[r]].common)return Ze[r]}function mO(e,r,i,a){var s=e._adapter,c=e.options,d=c.time,h=d.unit||qf(d.minUnit,r,i,a),f=Hf([d.stepSize,d.unitStepSize,1]),v=h==="week"?d.isoWeekday:!1,b=r,y=[],_;if(v&&(b=+s.startOf(b,"isoWeek",v)),b=+s.startOf(b,v?"day":h),s.diff(i,r,h)>1e5*f)throw r+" and "+i+" are too far apart with stepSize of "+f+" "+h;for(_=b;_<i;_=+s.add(_,f,h))y.push(_);return(_===i||c.bounds==="ticks")&&y.push(_),y}function vO(e,r,i,a,s){var c=0,d=0,h,f;return s.offset&&r.length&&(h=en(e,"time",r[0],"pos"),r.length===1?c=1-h:c=(en(e,"time",r[1],"pos")-h)/2,f=en(e,"time",r[r.length-1],"pos"),r.length===1?d=f:d=(f-en(e,"time",r[r.length-2],"pos"))/2),{start:c,end:d,factor:1/(c+1+d)}}function pO(e,r,i,a){var s=e._adapter,c=+s.startOf(r[0].value,a),d=r[r.length-1].value,h,f;for(h=c;h<=d;h=+s.add(h,1,a))f=i[h],f>=0&&(r[f].major=!0);return r}function Kf(e,r,i){var a=[],s={},c=r.length,d,h;for(d=0;d<c;++d)h=r[d],s[h]=d,a.push({value:h,major:!1});return c===0||!i?a:pO(e,a,s,i)}var gO={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}},Qf=Qe.extend({initialize:function(){this.mergeTicksOptions(),Qe.prototype.initialize.call(this)},update:function(){var e=this,r=e.options,i=r.time||(r.time={}),a=e._adapter=new Us._date(r.adapters.date);return tl("time scale",i.format,"time.format","time.parser"),tl("time scale",i.min,"time.min","ticks.min"),tl("time scale",i.max,"time.max","ticks.max"),x.mergeIf(i.displayFormats,a.formats()),Qe.prototype.update.apply(e,arguments)},getRightValue:function(e){return e&&e.t!==void 0&&(e=e.t),Qe.prototype.getRightValue.call(this,e)},determineDataLimits:function(){var e=this,r=e.chart,i=e._adapter,a=e.options,s=a.time.unit||"day",c=rl,d=Yf,h=[],f=[],v=[],b,y,_,O,P,C,A,F=e._getLabels();for(b=0,_=F.length;b<_;++b)v.push(Or(e,F[b]));for(b=0,_=(r.data.datasets||[]).length;b<_;++b)if(r.isDatasetVisible(b))if(P=r.data.datasets[b].data,x.isObject(P[0]))for(f[b]=[],y=0,O=P.length;y<O;++y)C=Or(e,P[y]),h.push(C),f[b][y]=C;else f[b]=v.slice(0),A||(h=h.concat(v),A=!0);else f[b]=[];v.length&&(c=Math.min(c,v[0]),d=Math.max(d,v[v.length-1])),h.length&&(h=_>1?cO(h).sort(Vf):h.sort(Vf),c=Math.min(c,h[0]),d=Math.max(d,h[h.length-1])),c=Or(e,Uf(a))||c,d=Or(e,Gf(a))||d,c=c===rl?+i.startOf(Date.now(),s):c,d=d===Yf?+i.endOf(Date.now(),s)+1:d,e.min=Math.min(c,d),e.max=Math.max(c+1,d),e._table=[],e._timestamps={data:h,datasets:f,labels:v}},buildTicks:function(){var e=this,r=e.min,i=e.max,a=e.options,s=a.ticks,c=a.time,d=e._timestamps,h=[],f=e.getLabelCapacity(r),v=s.source,b=a.distribution,y,_,O;for(v==="data"||v==="auto"&&b==="series"?d=d.data:v==="labels"?d=d.labels:d=mO(e,r,i,f),a.bounds==="ticks"&&d.length&&(r=d[0],i=d[d.length-1]),r=Or(e,Uf(a))||r,i=Or(e,Gf(a))||i,y=0,_=d.length;y<_;++y)O=d[y],O>=r&&O<=i&&h.push(O);return e.min=r,e.max=i,e._unit=c.unit||(s.autoSkip?qf(c.minUnit,e.min,e.max,f):fO(e,h.length,c.minUnit,e.min,e.max)),e._majorUnit=!s.major.enabled||e._unit==="year"?void 0:hO(e._unit),e._table=uO(e._timestamps.data,r,i,b),e._offsets=vO(e._table,h,r,i,a),s.reverse&&h.reverse(),Kf(e,h,e._majorUnit)},getLabelForIndex:function(e,r){var i=this,a=i._adapter,s=i.chart.data,c=i.options.time,d=s.labels&&e<s.labels.length?s.labels[e]:"",h=s.datasets[r].data[e];return x.isObject(h)&&(d=i.getRightValue(h)),c.tooltipFormat?a.format(nl(i,d),c.tooltipFormat):typeof d=="string"?d:a.format(nl(i,d),c.displayFormats.datetime)},tickFormatFunction:function(e,r,i,a){var s=this,c=s._adapter,d=s.options,h=d.time.displayFormats,f=h[s._unit],v=s._majorUnit,b=h[v],y=i[r],_=d.ticks,O=v&&b&&y&&y.major,P=c.format(e,a||(O?b:f)),C=O?_.major:_.minor,A=Hf([C.callback,C.userCallback,_.callback,_.userCallback]);return A?A(P,r,i):P},convertTicksToLabels:function(e){var r=[],i,a;for(i=0,a=e.length;i<a;++i)r.push(this.tickFormatFunction(e[i].value,i,e));return r},getPixelForOffset:function(e){var r=this,i=r._offsets,a=en(r._table,"time",e,"pos");return r.getPixelForDecimal((i.start+a)*i.factor)},getPixelForValue:function(e,r,i){var a=this,s=null;if(r!==void 0&&i!==void 0&&(s=a._timestamps.datasets[i][r]),s===null&&(s=Or(a,e)),s!==null)return a.getPixelForOffset(s)},getPixelForTick:function(e){var r=this.getTicks();return e>=0&&e<r.length?this.getPixelForOffset(r[e].value):null},getValueForPixel:function(e){var r=this,i=r._offsets,a=r.getDecimalForPixel(e)/i.factor-i.end,s=en(r._table,"pos",a,"time");return r._adapter._create(s)},_getLabelSize:function(e){var r=this,i=r.options.ticks,a=r.ctx.measureText(e).width,s=x.toRadians(r.isHorizontal()?i.maxRotation:i.minRotation),c=Math.cos(s),d=Math.sin(s),h=lO(i.fontSize,Z.global.defaultFontSize);return{w:a*c+h*d,h:a*d+h*c}},getLabelWidth:function(e){return this._getLabelSize(e).w},getLabelCapacity:function(e){var r=this,i=r.options.time,a=i.displayFormats,s=a[i.unit]||a.millisecond,c=r.tickFormatFunction(e,0,Kf(r,[e],r._majorUnit),s),d=r._getLabelSize(c),h=Math.floor(r.isHorizontal()?r.width/d.w:r.height/d.h);return r.options.offset&&h--,h>0?h:1}}),bO=gO;Qf._defaults=bO;var yO={category:$f,linear:Nf,logarithmic:Bf,radialLinear:Wf,time:Qf},xO={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};Us._date.override(typeof o=="function"?{_id:"moment",formats:function(){return xO},parse:function(e,r){return typeof e=="string"&&typeof r=="string"?e=o(e,r):e instanceof o||(e=o(e)),e.isValid()?e.valueOf():null},format:function(e,r){return o(e).format(r)},add:function(e,r,i){return o(e).add(r,i).valueOf()},diff:function(e,r,i){return o(e).diff(o(r),i)},startOf:function(e,r,i){return e=o(e),r==="isoWeek"?e.isoWeekday(i).valueOf():e.startOf(r).valueOf()},endOf:function(e,r){return o(e).endOf(r).valueOf()},_create:function(e){return o(e)}}:{}),Z._set("global",{plugins:{filler:{propagate:!0}}});var wO={dataset:function(e){var r=e.fill,i=e.chart,a=i.getDatasetMeta(r),s=a&&i.isDatasetVisible(r),c=s&&a.dataset._children||[],d=c.length||0;return d?function(h,f){return f<d&&c[f]._view||null}:null},boundary:function(e){var r=e.boundary,i=r?r.x:null,a=r?r.y:null;return x.isArray(r)?function(s,c){return r[c]}:function(s){return{x:i===null?s.x:i,y:a===null?s.y:a}}}};function _O(e,r,i){var a=e._model||{},s=a.fill,c;if(s===void 0&&(s=!!a.backgroundColor),s===!1||s===null)return!1;if(s===!0)return"origin";if(c=parseFloat(s,10),isFinite(c)&&Math.floor(c)===c)return(s[0]==="-"||s[0]==="+")&&(c=r+c),c===r||c<0||c>=i?!1:c;switch(s){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return s;default:return!1}}function SO(e){var r=e.el._model||{},i=e.el._scale||{},a=e.fill,s=null,c;if(isFinite(a))return null;if(a==="start"?s=r.scaleBottom===void 0?i.bottom:r.scaleBottom:a==="end"?s=r.scaleTop===void 0?i.top:r.scaleTop:r.scaleZero!==void 0?s=r.scaleZero:i.getBasePixel&&(s=i.getBasePixel()),s!=null){if(s.x!==void 0&&s.y!==void 0)return s;if(x.isFinite(s))return c=i.isHorizontal(),{x:c?s:null,y:c?null:s}}return null}function kO(e){var r=e.el._scale,i=r.options,a=r.chart.data.labels.length,s=e.fill,c=[],d,h,f,v,b;if(!a)return null;for(d=i.ticks.reverse?r.max:r.min,h=i.ticks.reverse?r.min:r.max,f=r.getPointPositionForValue(0,d),v=0;v<a;++v)b=s==="start"||s==="end"?r.getPointPositionForValue(v,s==="start"?d:h):r.getBasePosition(v),i.gridLines.circular&&(b.cx=f.x,b.cy=f.y,b.angle=r.getIndexAngle(v)-Math.PI/2),c.push(b);return c}function MO(e){var r=e.el._scale||{};return r.getPointPositionForValue?kO(e):SO(e)}function TO(e,r,i){var a=e[r],s=a.fill,c=[r],d;if(!i)return s;for(;s!==!1&&c.indexOf(s)===-1;){if(!isFinite(s))return s;if(d=e[s],!d)return!1;if(d.visible)return s;c.push(s),s=d.fill}return!1}function OO(e){var r=e.fill,i="dataset";return r===!1?null:(isFinite(r)||(i="boundary"),wO[i](e))}function Xf(e){return e&&!e.skip}function Zf(e,r,i,a,s){var c,d,h,f;if(!(!a||!s)){for(e.moveTo(r[0].x,r[0].y),c=1;c<a;++c)x.canvas.lineTo(e,r[c-1],r[c]);if(i[0].angle!==void 0){for(d=i[0].cx,h=i[0].cy,f=Math.sqrt(Math.pow(i[0].x-d,2)+Math.pow(i[0].y-h,2)),c=s-1;c>0;--c)e.arc(d,h,f,i[c].angle,i[c-1].angle,!0);return}for(e.lineTo(i[s-1].x,i[s-1].y),c=s-1;c>0;--c)x.canvas.lineTo(e,i[c],i[c-1],!0)}}function PO(e,r,i,a,s,c){var d=r.length,h=a.spanGaps,f=[],v=[],b=0,y=0,_,O,P,C,A,F,U,q;for(e.beginPath(),_=0,O=d;_<O;++_)P=_%d,C=r[P]._view,A=i(C,P,a),F=Xf(C),U=Xf(A),c&&q===void 0&&F&&(q=_+1,O=d+q),F&&U?(b=f.push(C),y=v.push(A)):b&&y&&(h?(F&&f.push(C),U&&v.push(A)):(Zf(e,f,v,b,y),b=y=0,f=[],v=[]));Zf(e,f,v,b,y),e.closePath(),e.fillStyle=s,e.fill()}var CO={id:"filler",afterDatasetsUpdate:function(e,r){var i=(e.data.datasets||[]).length,a=r.propagate,s=[],c,d,h,f;for(d=0;d<i;++d)c=e.getDatasetMeta(d),h=c.dataset,f=null,h&&h._model&&h instanceof Ke.Line&&(f={visible:e.isDatasetVisible(d),fill:_O(h,d,i),chart:e,el:h}),c.$filler=f,s.push(f);for(d=0;d<i;++d)f=s[d],f&&(f.fill=TO(s,d,a),f.boundary=MO(f),f.mapper=OO(f))},beforeDatasetsDraw:function(e){var r=e._getSortedVisibleDatasetMetas(),i=e.ctx,a,s,c,d,h,f,v;for(s=r.length-1;s>=0;--s)a=r[s].$filler,!(!a||!a.visible)&&(c=a.el,d=c._view,h=c._children||[],f=a.mapper,v=d.backgroundColor||Z.global.defaultColor,f&&v&&h.length&&(x.canvas.clipArea(i,e.chartArea),PO(i,h,f,d,v,c._loop),x.canvas.unclipArea(i)))}},AO=x.rtl.getRtlAdapter,ar=x.noop,or=x.valueOrDefault;Z._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(e,r){var i=r.datasetIndex,a=this.chart,s=a.getDatasetMeta(i);s.hidden=s.hidden===null?!a.data.datasets[i].hidden:null,a.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(e){var r=e.data.datasets,i=e.options.legend||{},a=i.labels&&i.labels.usePointStyle;return e._getSortedDatasetMetas().map(function(s){var c=s.controller.getStyle(a?0:void 0);return{text:r[s.index].label,fillStyle:c.backgroundColor,hidden:!e.isDatasetVisible(s.index),lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:c.borderWidth,strokeStyle:c.borderColor,pointStyle:c.pointStyle,rotation:c.rotation,datasetIndex:s.index}},this)}}},legendCallback:function(e){var r=document.createElement("ul"),i=e.data.datasets,a,s,c,d;for(r.setAttribute("class",e.id+"-legend"),a=0,s=i.length;a<s;a++)c=r.appendChild(document.createElement("li")),d=c.appendChild(document.createElement("span")),d.style.backgroundColor=i[a].backgroundColor,i[a].label&&c.appendChild(document.createTextNode(i[a].label));return r.outerHTML}});function il(e,r){return e.usePointStyle&&e.boxWidth>r?r:e.boxWidth}var Jf=Et.extend({initialize:function(e){var r=this;x.extend(r,e),r.legendHitBoxes=[],r._hoveredItem=null,r.doughnutMode=!1},beforeUpdate:ar,update:function(e,r,i){var a=this;return a.beforeUpdate(),a.maxWidth=e,a.maxHeight=r,a.margins=i,a.beforeSetDimensions(),a.setDimensions(),a.afterSetDimensions(),a.beforeBuildLabels(),a.buildLabels(),a.afterBuildLabels(),a.beforeFit(),a.fit(),a.afterFit(),a.afterUpdate(),a.minSize},afterUpdate:ar,beforeSetDimensions:ar,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:ar,beforeBuildLabels:ar,buildLabels:function(){var e=this,r=e.options.labels||{},i=x.callback(r.generateLabels,[e.chart],e)||[];r.filter&&(i=i.filter(function(a){return r.filter(a,e.chart.data)})),e.options.reverse&&i.reverse(),e.legendItems=i},afterBuildLabels:ar,beforeFit:ar,fit:function(){var e=this,r=e.options,i=r.labels,a=r.display,s=e.ctx,c=x.options._parseFont(i),d=c.size,h=e.legendHitBoxes=[],f=e.minSize,v=e.isHorizontal();if(v?(f.width=e.maxWidth,f.height=a?10:0):(f.width=a?10:0,f.height=e.maxHeight),!a){e.width=f.width=e.height=f.height=0;return}if(s.font=c.string,v){var b=e.lineWidths=[0],y=0;s.textAlign="left",s.textBaseline="middle",x.each(e.legendItems,function(U,q){var ae=il(i,d),ie=ae+d/2+s.measureText(U.text).width;(q===0||b[b.length-1]+ie+2*i.padding>f.width)&&(y+=d+i.padding,b[b.length-(q>0?0:1)]=0),h[q]={left:0,top:0,width:ie,height:d},b[b.length-1]+=ie+i.padding}),f.height+=y}else{var _=i.padding,O=e.columnWidths=[],P=e.columnHeights=[],C=i.padding,A=0,F=0;x.each(e.legendItems,function(U,q){var ae=il(i,d),ie=ae+d/2+s.measureText(U.text).width;q>0&&F+d+2*_>f.height&&(C+=A+i.padding,O.push(A),P.push(F),A=0,F=0),A=Math.max(A,ie),F+=d+_,h[q]={left:0,top:0,width:ie,height:d}}),C+=A,O.push(A),P.push(F),f.width+=C}e.width=f.width,e.height=f.height},afterFit:ar,isHorizontal:function(){return this.options.position==="top"||this.options.position==="bottom"},draw:function(){var e=this,r=e.options,i=r.labels,a=Z.global,s=a.defaultColor,c=a.elements.line,d=e.height,h=e.columnHeights,f=e.width,v=e.lineWidths;if(!!r.display){var b=AO(r.rtl,e.left,e.minSize.width),y=e.ctx,_=or(i.fontColor,a.defaultFontColor),O=x.options._parseFont(i),P=O.size,C;y.textAlign=b.textAlign("left"),y.textBaseline="middle",y.lineWidth=.5,y.strokeStyle=_,y.fillStyle=_,y.font=O.string;var A=il(i,P),F=e.legendHitBoxes,U=function(ue,ge,ye){if(!(isNaN(A)||A<=0)){y.save();var $e=or(ye.lineWidth,c.borderWidth);if(y.fillStyle=or(ye.fillStyle,s),y.lineCap=or(ye.lineCap,c.borderCapStyle),y.lineDashOffset=or(ye.lineDashOffset,c.borderDashOffset),y.lineJoin=or(ye.lineJoin,c.borderJoinStyle),y.lineWidth=$e,y.strokeStyle=or(ye.strokeStyle,s),y.setLineDash&&y.setLineDash(or(ye.lineDash,c.borderDash)),i&&i.usePointStyle){var Fe=A*Math.SQRT2/2,Ie=b.xPlus(ue,A/2),Be=ge+P/2;x.canvas.drawPoint(y,ye.pointStyle,Fe,Ie,Be,ye.rotation)}else y.fillRect(b.leftForLtr(ue,A),ge,A,P),$e!==0&&y.strokeRect(b.leftForLtr(ue,A),ge,A,P);y.restore()}},q=function(ue,ge,ye,$e){var Fe=P/2,Ie=b.xPlus(ue,A+Fe),Be=ge+Fe;y.fillText(ye.text,Ie,Be),ye.hidden&&(y.beginPath(),y.lineWidth=2,y.moveTo(Ie,Be),y.lineTo(b.xPlus(Ie,$e),Be),y.stroke())},ae=function(ue,ge){switch(r.align){case"start":return i.padding;case"end":return ue-ge;default:return(ue-ge+i.padding)/2}},ie=e.isHorizontal();ie?C={x:e.left+ae(f,v[0]),y:e.top+i.padding,line:0}:C={x:e.left+i.padding,y:e.top+ae(d,h[0]),line:0},x.rtl.overrideTextDirection(e.ctx,r.textDirection);var he=P+i.padding;x.each(e.legendItems,function(ue,ge){var ye=y.measureText(ue.text).width,$e=A+P/2+ye,Fe=C.x,Ie=C.y;b.setWidth(e.minSize.width),ie?ge>0&&Fe+$e+i.padding>e.left+e.minSize.width&&(Ie=C.y+=he,C.line++,Fe=C.x=e.left+ae(f,v[C.line])):ge>0&&Ie+he>e.top+e.minSize.height&&(Fe=C.x=Fe+e.columnWidths[C.line]+i.padding,C.line++,Ie=C.y=e.top+ae(d,h[C.line]));var Be=b.x(Fe);U(Be,Ie,ue),F[ge].left=b.leftForLtr(Be,F[ge].width),F[ge].top=Ie,q(Be,Ie,ue,ye),ie?C.x+=$e+i.padding:C.y+=he}),x.rtl.restoreTextDirection(e.ctx,r.textDirection)}},_getLegendItemAt:function(e,r){var i=this,a,s,c;if(e>=i.left&&e<=i.right&&r>=i.top&&r<=i.bottom){for(c=i.legendHitBoxes,a=0;a<c.length;++a)if(s=c[a],e>=s.left&&e<=s.left+s.width&&r>=s.top&&r<=s.top+s.height)return i.legendItems[a]}return null},handleEvent:function(e){var r=this,i=r.options,a=e.type==="mouseup"?"click":e.type,s;if(a==="mousemove"){if(!i.onHover&&!i.onLeave)return}else if(a==="click"){if(!i.onClick)return}else return;s=r._getLegendItemAt(e.x,e.y),a==="click"?s&&i.onClick&&i.onClick.call(r,e.native,s):(i.onLeave&&s!==r._hoveredItem&&(r._hoveredItem&&i.onLeave.call(r,e.native,r._hoveredItem),r._hoveredItem=s),i.onHover&&s&&i.onHover.call(r,e.native,s))}});function eh(e,r){var i=new Jf({ctx:e.ctx,options:r,chart:e});ht.configure(e,i,r),ht.addBox(e,i),e.legend=i}var DO={id:"legend",_element:Jf,beforeInit:function(e){var r=e.options.legend;r&&eh(e,r)},beforeUpdate:function(e){var r=e.options.legend,i=e.legend;r?(x.mergeIf(r,Z.global.legend),i?(ht.configure(e,i,r),i.options=r):eh(e,r)):i&&(ht.removeBox(e,i),delete e.legend)},afterEvent:function(e,r){var i=e.legend;i&&i.handleEvent(r)}},Xt=x.noop;Z._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var th=Et.extend({initialize:function(e){var r=this;x.extend(r,e),r.legendHitBoxes=[]},beforeUpdate:Xt,update:function(e,r,i){var a=this;return a.beforeUpdate(),a.maxWidth=e,a.maxHeight=r,a.margins=i,a.beforeSetDimensions(),a.setDimensions(),a.afterSetDimensions(),a.beforeBuildLabels(),a.buildLabels(),a.afterBuildLabels(),a.beforeFit(),a.fit(),a.afterFit(),a.afterUpdate(),a.minSize},afterUpdate:Xt,beforeSetDimensions:Xt,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:Xt,beforeBuildLabels:Xt,buildLabels:Xt,afterBuildLabels:Xt,beforeFit:Xt,fit:function(){var e=this,r=e.options,i=e.minSize={},a=e.isHorizontal(),s,c;if(!r.display){e.width=i.width=e.height=i.height=0;return}s=x.isArray(r.text)?r.text.length:1,c=s*x.options._parseFont(r).lineHeight+r.padding*2,e.width=i.width=a?e.maxWidth:c,e.height=i.height=a?c:e.maxHeight},afterFit:Xt,isHorizontal:function(){var e=this.options.position;return e==="top"||e==="bottom"},draw:function(){var e=this,r=e.ctx,i=e.options;if(!!i.display){var a=x.options._parseFont(i),s=a.lineHeight,c=s/2+i.padding,d=0,h=e.top,f=e.left,v=e.bottom,b=e.right,y,_,O;r.fillStyle=x.valueOrDefault(i.fontColor,Z.global.defaultFontColor),r.font=a.string,e.isHorizontal()?(_=f+(b-f)/2,O=h+c,y=b-f):(_=i.position==="left"?f+c:b-c,O=h+(v-h)/2,y=v-h,d=Math.PI*(i.position==="left"?-.5:.5)),r.save(),r.translate(_,O),r.rotate(d),r.textAlign="center",r.textBaseline="middle";var P=i.text;if(x.isArray(P))for(var C=0,A=0;A<P.length;++A)r.fillText(P[A],0,C,y),C+=s;else r.fillText(P,0,0,y);r.restore()}}});function rh(e,r){var i=new th({ctx:e.ctx,options:r,chart:e});ht.configure(e,i,r),ht.addBox(e,i),e.titleBlock=i}var IO={id:"title",_element:th,beforeInit:function(e){var r=e.options.title;r&&rh(e,r)},beforeUpdate:function(e){var r=e.options.title,i=e.titleBlock;r?(x.mergeIf(r,Z.global.title),i?(ht.configure(e,i,r),i.options=r):rh(e,r)):i&&(ht.removeBox(e,i),delete e.titleBlock)}},sr={},EO=CO,LO=DO,FO=IO;sr.filler=EO,sr.legend=LO,sr.title=FO,se.helpers=x,CT(),se._adapters=Us,se.Animation=Ps,se.animationService=Cs,se.controllers=wf,se.DatasetController=ft,se.defaults=Z,se.Element=Et,se.elements=Ke,se.Interaction=Xr,se.layouts=ht,se.platform=Zr,se.plugins=be,se.Scale=Qe,se.scaleService=Un,se.Ticks=Gn,se.Tooltip=Hs,se.helpers.each(yO,function(e,r){se.scaleService.registerScaleType(r,e,e._defaults)});for(var nh in sr)sr.hasOwnProperty(nh)&&se.plugins.register(sr[nh]);se.platform.initialize();var RO=se;return typeof window!="undefined"&&(window.Chart=se),se.Chart=se,se.Legend=sr.legend._element,se.Title=sr.title._element,se.pluginService=se.plugins,se.PluginBase=se.Element.extend({}),se.canvasHelpers=se.helpers.canvas,se.layoutService=se.layouts,se.LinearScaleBase=fa,se.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],function(e){se[e]=function(r,i){return new se(r,se.helpers.merge(i||{},{type:e.charAt(0).toLowerCase()+e.slice(1)}))}}),RO})})(tf);var Bk=tf.exports;class br{constructor(n){this.data=n,this.target=document.getElementById("container"),this.link=document.createElement("a"),this.textLength=30,this.wordings={country:{de:"Deutschland",at:"\xD6sterreich",ch:"Schweiz",other:"Andere"}},this.colors=["#ee4d2e","#1db992","#bfbc06","#008fff","#ff0082","#fc8833","#5cb85c","#d9534f","#75c0c7"],this.init()}static htmlDecode(n){const o=new DOMParser().parseFromString(n,"text/html");return o.documentElement.textContent!=="null"?o.documentElement.textContent:!1}static handleError(n){return window.stop(),document.body.innerHTML=`<p class="error">${n}</p>`,!1}init(){if(!this.data)return br.handleError("ID missing");document.body.appendChild(this.link);let n=this.getQuestions(this.data);for(let o=1;o<n.length;o++){let l=this.createPr0p0llDiagramm(n[o][1],o);this.target.appendChild(l.container),this.switchChart(l.canvas,l.answers)}}getQuestions(n){let o=Object.keys(n).map(function(l){return[l,n[l]]});return o.splice(0,0),o}getAnswers(n){let o={titles:{long:[],short:[]},answers:[],values:[]};for(let l=0;l<20;l++)n["a"+l]&&(o.titles.long.push(br.htmlDecode(n["a"+l].title)),o.titles.short.push(this.truncate(br.htmlDecode(n["a"+l].title))),o.values.push(n["a"+l].result.total),o.answers.push(n["a"+l]));return o}createPr0p0llDiagramm(n,o){let l=document.createElement("div"),u=document.createElement("div"),m=document.createElement("canvas");const g=this.getAnswers(n),S=br.htmlDecode(n.description);return u.className="wrapper",l.innerHTML=`<h3 id="question-${o}"><span>#${o}</span>${n.title}<small>${S||""}</small></h3>`,m.setAttribute("height",g.answers.length*40),m.setAttribute("width",100),u.appendChild(this.buildNav(m,g)),u.appendChild(this.buildToolsBar(m,g)),u.appendChild(m),l.appendChild(u),{container:l,canvas:m,answers:g}}switchChart(n,o,l="horizontalBar",u=!1){if(n.chart)return n.chart.data.datasets=this.getDatasets(o,u),n.chart.type=l,n.filter=u,n.chart.update(),!0;let m=n.getContext("2d");n.chart=new Bk(m,{type:l,data:{labels:o.titles.short,origTitles:o.titles.long,datasets:this.getDatasets(o,u)},options:{responsive:!0,maintainAspectRatio:!1,legend:{position:"bottom"},tooltips:{mode:"index",intersect:!1,callbacks:{title:function(g,S){return S.origTitles[g[0].index]},label:function(g,S){let w=S.datasets[g.datasetIndex],k=w.data[g.index],M=0,T=0;for(let L=0;L<S.datasets.length;L++)typeof S.datasets[L].data=="object"&&(T+=S.datasets[L].data[g.index],M+=S.datasets[L].data.reduce(function(z,N,E,R){return z+N}));let D=Math.floor(k/T*100+.5)||0,I=Math.floor(k/M*100+.5)||0;return S.datasets.length>1?`${D}% ${w.label} (${I}% Global, ${k} Votes)`:`${I}% ${w.label} (${k} Votes)`}}},scales:{yAxes:[{stacked:!0,gridLines:{color:"#333"},ticks:{fontColor:"#888",fontSize:14}}],xAxes:[{stacked:!0,gridLines:{color:"#333"},ticks:{minRotation:0,maxRotation:0,fontColor:"#888",fontSize:14}}]},onClick:(g,S)=>{if(S[0]){let w=o.answers[S[0]._index];console.log(w)}}}})}getNamedResults(n,o,l){let u=[];for(let g=0;g<o.answers.length;g++){let S=o.answers[g].result[l];for(let w in S)S.hasOwnProperty(w)&&(u[w]||(u[w]=[]),u[w].push(S[w]))}let m=0;for(let g in u)if(u.hasOwnProperty(g)){let S=g;this.wordings[l]&&(S=this.wordings[l][g]),n.push({label:br.htmlDecode(S),data:u[g],backgroundColor:this.colors[m]}),m++}}getDatasets(n,o){let l=[];switch(o){case"age":this.getNamedResults(l,n,"age");break;case"gender":let u=[],m=[];for(let g=0;g<n.answers.length;g++)u.push(n.answers[g].result.gender.w),m.push(n.answers[g].result.gender.m);l.push({label:"Weiblich",data:u,backgroundColor:this.colors[0]}),l.push({label:"M\xE4nnlich",data:m,backgroundColor:this.colors[3]});break;case"location":this.getNamedResults(l,n,"country");break;default:l.push({label:"Gesamtstimmen",data:n.values,backgroundColor:this.getRandomColor()});break}return l}truncate(n){return n.length>this.textLength?n.substr(0,this.textLength)+"...":n}buildNav(n,o){let l=document.createElement("ul");return l.innerHTML=`
            <li><a data-filter="default" class="active"><span class="fa fa-bar-chart"></span></a></li>
	        <li><a data-filter="age" title="Verteilung nach Alter"><span class="fa fa-child"></span></a></li>
	        <li><a data-filter="gender" title="Geschlechteraufteilung"><span class="fa fa-mars"></span></a></li>
	        <li><a data-filter="location" title="Herkunftsland"><span class="fa fa-map-marker"></span></a></li>
	    `,l.addEventListener("click",u=>{let m=u.target.parentNode.dataset.filter;if(m){let g=l.getElementsByClassName("active")[0];g&&g.classList.remove("active"),u.target.parentNode.classList.toggle("active"),this.switchChart(n,o,"bar",m)}}),l}buildToolsBar(n,o){let l=document.createElement("ul");return l.className="toolbar",l.innerHTML='<a id="download" class="fa fa-download">Download</a><a id="switch" class="fa fa-pie-chart">Typ</a>',l.addEventListener("click",u=>{switch(u.target.id){case"download":this.downloadChart(n);break;case"switch":let m=n.chart.config.type==="bar"?"horizontalBar":"bar";n.chart.destroy(),n.chart=!1,this.switchChart(n,o,m,n.filter);break}}),l}downloadChart(n){this.link.href=n.toDataURL("image/png"),this.link.download="diagram.png",this.link.click()}getRandomColor(){return this.colors[Math.floor(Math.random()*this.colors.length)]}}var jk=`<div class="overlay-content">
    <h2>
        <?js print(p0ll.info.title)?>
        <span class="description"><?js print(p0ll.info.description)?></span>
    </h2>
    <h3 class="center">
        <span>
            <a href="https://pr0p0ll.com/?p=join&pollid=<?js print(p0ll.info.pollid)?>"
               title="Zur Umfrage" target="_blank">Zur Umfrage</a>
        </span>
        <span>
            Author:
            <?js if (p0ll.info.author) { ?>
            <a href="//pr0gramm.com/user/<?js print(p0ll.info.author)?>"
               target="_blank"><?js print(p0ll.info.author)?></a>
            <?js } else { ?>
            <span class="white">Anonym</span>
            <?js } ?>
        </span>
        <span>Zeitraum: <?js print(dateFrom)?> - <?js print(dateTo)?></span>
    </h3>
</div>
<div class="overlay-content">
    <div id="container"></div>
</div>
`,zk=`.pr0p0ll-count{margin:0 10px 0 0;color:var(--theme-main-color)}.pr0p0ll-count.empty{color:#f5f7f6}.pr0p0ll-count.empty:hover{color:var(--theme-main-color)}.pr0p0ll-count:before{margin-right:3px}.pr0p0ll-count:hover{color:#f5f7f6}.pr0p0ll-link{color:var(--theme-main-color);margin-left:5px;cursor:pointer}.pr0p0ll-link:hover{color:#f5f7f6}#overlay-box.pr0p0ll-overlay{width:80%;bottom:15%;overflow-x:hidden}#overlay-box.pr0p0ll-overlay #container{max-width:1052px;margin:0 auto}#overlay-box.pr0p0ll-overlay #container>div:not(:last-child){margin-bottom:60px}#overlay-box.pr0p0ll-overlay a{color:#f2f5f4}#overlay-box.pr0p0ll-overlay a:hover{color:#75c0c7}#overlay-box.pr0p0ll-overlay a.fa{font-family:sans-serif}#overlay-box.pr0p0ll-overlay a.fa:before{margin-right:5px;font: 14px/1 FontAwesome}#overlay-box.pr0p0ll-overlay h2{text-align:center}#overlay-box.pr0p0ll-overlay h2 span{display:block;text-transform:none;color:#888;font-size:18px}#overlay-box.pr0p0ll-overlay h3>span{font-weight:400;color:#888;margin:0 10px;font-style:italic}#overlay-box.pr0p0ll-overlay h3.center{text-align:center;text-transform:none;color:#888}#overlay-box.pr0p0ll-overlay h3.center .white{color:#f2f5f4}#overlay-box.pr0p0ll-overlay h3 small{display:block;font-size:16px;font-weight:400;margin-top:5px;color:#888}#overlay-box.pr0p0ll-overlay .canvasWrapper{flex-grow:1}#overlay-box.pr0p0ll-overlay .wrapper{display:flex;position:relative}#overlay-box.pr0p0ll-overlay .wrapper>ul.toolbar{position:absolute;right:0;margin:0;display:inline-block;top:-15px;font-size:12px}#overlay-box.pr0p0ll-overlay .wrapper>ul.toolbar a{cursor:pointer}#overlay-box.pr0p0ll-overlay .wrapper>ul.toolbar a:not(:last-child){margin-right:15px}#overlay-box.pr0p0ll-overlay .wrapper>ul:not(.toolbar){padding:0;list-style:none;display:flex;flex-direction:column;height:100%;margin:0;align-items:center;justify-content:center}#overlay-box.pr0p0ll-overlay .wrapper>ul:not(.toolbar) li{padding-bottom:10px}#overlay-box.pr0p0ll-overlay .wrapper>ul:not(.toolbar) li a{color:#888;cursor:pointer;font-size:26px}#overlay-box.pr0p0ll-overlay .wrapper>ul:not(.toolbar) li a:hover{color:#f2f5f4}#overlay-box.pr0p0ll-overlay .wrapper>ul:not(.toolbar) li a.active{color:#ee4d2e}#overlay-box.pr0p0ll-overlay #questionwrapper{margin-bottom:60px!important;background-color:#212121;padding:20px}#overlay-box.pr0p0ll-overlay #questionwrapper h3{margin-top:0;margin-bottom:20px}#overlay-box.pr0p0ll-overlay #questionwrapper ul{padding-left:20px;list-style:none}#overlay-box.pr0p0ll-overlay #questionwrapper ul li:not(:last-child){margin-bottom:10px}#overlay-box.pr0p0ll-overlay #questionwrapper ul li a span{color:#bbb;font-style:italic;margin-right:5px}#overlay-box.pr0p0ll-overlay .error{text-align:center;color:#fff;background-color:red;margin:0 auto;padding:10px}
`;class Wk{constructor(){this.id="Pr0p0ll",this.name="Pr0p0ll Integration",this.description="Erhalte Benachrichtigungen \xFCber neue Umfragen!",this.showNotification=ne.get("Pr0p0ll.settings.show_notification"),this.token=ne.get("Pr0p0ll.settings.user_token"),this.showDiagramms=ne.get("Pr0p0ll.settings.show_diagramms"),this.apiUrl="https://pr0p0ll.com/?p=viewjson&id=",this.target=null,this.template='<a href="https://pr0p0ll.com/?p=user" target="_blank" class="empty pr0p0ll-count fa fa-edit head-link"><span>0</span></a>',H.locale("de"),this.inboxLink=document.getElementById("inbox-link")}async load(){this.inboxLink.after($(this.template)[0]),this.target=this.inboxLink.nextSibling.firstChild,this.token&&this.addListener(),p.View.Overlay.Pr0p0llDiagramm=p.View.Base.extend({template:jk,init:function(n,o,l){this.data.p0ll=l.data,this.data.dateTo=H(l.data.info.endedOn,"X").format("LL"),this.data.dateFrom=H(l.data.info.endedOn-l.data.info.duration,"X").format("LL"),n[0].classList.add("pr0p0ll-overlay"),this.parent(n,o)}}),ve(zk)}getSettings(){return[{id:"show_notification",title:"Desktopbenachrichtigung",description:"Zeige eine Desktopbenachrichtigung bei neuen Umfragen!",type:"checkbox"},{id:"show_diagramms",title:"Diagramme anzeigen",description:"Diagramme hinter pr0p0ll-links verlinken",type:"checkbox"},{id:"user_token",title:'"Token f\xFCr Notificator"',description:'Damit authentifizierst du dich gegen\xFCber pr0p0ll. [<a href="https://pr0p0ll.com/?p=tokengen" target="_blank">Token generieren</a>]',type:"text"}]}addListener(){const n=this.token.trim();n?/^([0-9a-f]{64})$/.test(n)?(this.token=n.match("^([0-9a-f]{64})$")[0],ne.set("Pr0p0ll.settings.user_token",this.token),window.addEventListener("userSync",()=>{this.fetchCounter().then(o=>{this.updateCounter(o.openPolls)})}),this.showDiagramms&&window.addEventListener("commentsLoaded",o=>{let l=o.data.find('a[href*="pr0p0ll"][href*="id="]').toArray();this.addLinks(l)})):window.alert("Bitte \xF6ffne die Einstellungen, um einen korrekten Pr0po0ll-Token einzugeben."):window.alert("Bitte \xF6ffne die Einstellungen um das Pr0p0ll-Modul zu konfigurieren.")}addLinks(n){for(const o of n){const l=new URL(o.href);let u=document.createElement("a");u.className="fa fa-bar-chart pr0p0ll-link",u.addEventListener("click",()=>{const m=l.searchParams.get("pollid"),g=parseInt(m!==null?m:l.searchParams.get("id"));ne.set("Pr0p0ll.settings.last_count",String(0)),this.showDiagramm(g)}),o.after(u)}}showDiagramm(n){(()=>new Promise((l,u)=>{GM.xmlHttpRequest({url:this.apiUrl+n,method:"GET",headers:{"User-Agent":"p0weruser"},onload:m=>{const g=JSON.parse(m.responseText);g.error&&u(g.error),l(g)}})}))().then(l=>{p.mainView.showOverlay(p.View.Overlay.Pr0p0llDiagramm,{data:l}),new br(l),Jt.init(document.getElementById("overlay-box"),lr)},l=>{window.alert(l)})}fetchCounter(){return new Promise((n,o)=>{GM.xmlHttpRequest({url:`https://pr0p0ll.com/?p=notify&token=${this.token}`,method:"GET",headers:{"User-Agent":"p0weruser"},onload:l=>{n(JSON.parse(l.responseText))}})})}updateCounter(n){n=parseInt(n)||0,this.showNotification&&ne.get("Pr0p0ll.settings.last_count")<n&&GM.notification("Du hast "+(n===1?"eine neue Umfrage!":n+" neue Umfragen!"),"pr0p0ll","https://pr0p0ll.com/src/favicon.png",function(){window.focus(),window.location.href="https://pr0p0ll.com/?p=user"}),this.target.parentNode.classList.toggle("empty",n===0||!n),this.target.innerText=n,ne.set("Pr0p0ll.settings.last_count",n)}}var Hk=`.repost-link{margin-left:15px}.repost-link .fa{color:#f2f5f4;margin-right:5px}.rep0sts{width:33vw;background-color:#161618;border-left:3px solid #2a2e31}.rep0sts .sidebar-head{display:flex;align-items:center;background-color:#2a2e31;text-align:left;padding:10px;transition:width .2s ease-out;z-index:400;width:30vw;margin-left:-10px}.rep0sts .sidebar-head .sidebar-label{margin-left:5px}.rep0sts .sidebar-head .close{cursor:pointer;position:fixed;right:10px}.rep0sts a{display:block;margin-bottom:5px;position:relative}.rep0sts a img{max-width:100%}.rep0sts a span{position:absolute;left:5px;bottom:10px;text-shadow:1px 1px 0px black;color:#f2f5f4}.rep0sts a span:hover{color:#75c0c7}.item-container .loader{font-size:45px;margin-top:30px;width:15vw}.probability{position:absolute;top:5px;right:5px;font-weight:700;color:red}.probability:hover{color:#fff;background-color:#2a2e31;border-radius:10px;padding:2px 10px}
`;class Yk{constructor(){this.closeBtn={},this.id="Rep0st",this.name="Rep0st Check",this.description="Frage rene8888, ob es sich um einen rep0st handelt.",this.visible=!1}async load(){let n=this;p.View.Stream.Item=p.View.Stream.Item.extend({show:function(o,l,u,m){this.parent(o,l,u,m),n.addButton(this.$container)},remove:function(){this.parent(),n.visible=!1}}),xe.addVideoConstants(),ve(Hk)}addButton(n){const o=n.find('.item-image-actual:not([src*=".gif"])');if(this.$loader=$('<span class="fa fa-spinner fa-spin loader"></span>'),o[0]&&o[0].tagName!=="VIDEO"){const l=$('<a title="Pr\xFCfe, ob es sich um einen Repost handelt" class="repost-link"><span class="fa fa-copy"></span> rep0st?</a>');n.find(".item-details .user").after(l),l[0].addEventListener("click",()=>{this.visible||this.checkImage(n,o)})}}checkImage(n,o){let l=new FormData,u=$("<div></div>"),m=$('<div class="rep0sts"></div>'),g=$('<div class="sidebar-head"><span class="fa fa-copy"></span><span class="sidebar-label">Reposts</span></div>'),S=$('<span class=" fa fa-close close"></span>');g.append(S),m.append(g),m.append(this.$loader),n.find(".image-main").after(m),Jt.init(m[0],lr),S[0].addEventListener("click",()=>{this.visible=!1,m.remove()}),l.append("image",new Blob([],{type:"application/octet-stream"}),""),l.append("url",o[0].src);let w=p.user.flagsName.split("+");w=w.indexOf("all")!==-1?["sfw","nsfw","nsfl"]:w;for(const k of w)l.append("filter",k);GM.xmlHttpRequest({url:"https://rep0st.rene8888.at/",method:"POST",headers:{"cache-control":"no-cache","Upgrade-Insecure-Requests":"1",Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8"},overrideMimeType:"multipart/form-data",data:l,onload:k=>{let M=[];this.visible=!0,this.$loader.remove(),u.html(k.responseText);const T=u.find(".search-results a");let D=this.getCurrentPostId();for(let I=1;I<T.length;I++){let L=parseInt(T[I].href.replace("pr0gramm","").replace(/\D/g,""));if(D!==L){let z=T[I].children[0],N=T[I].href,E=z.children[0].innerHTML,R=z.children[1].src;M.push({url:N,img:R,probability:E})}}this.displayImages(m,M)}})}getCurrentPostId(){return parseInt(window.location.href.replace("pr0gramm","").replace(/\D/g,""))}displayImages(n,o){n=n.find(".scroll-content");for(const l of o){let u=`<div class="probability">${l.probability}</div>`;n.append($(`<a href=${l.url} target="_blank"><img src=${l.img} class="rep0st-thumb" />${u}<span title="Als Repost markieren" class="fa fa-comment"></span></a>`)).find(`a[href='${l.url}'] > .fa.fa-comment`)[0].addEventListener("click",S=>{S.preventDefault();let w=$(document.body);const k=`Re: ${l.url}`;let M=w.find(".comment:not(.reply)"),T=w.find(".tag-form");M[0].value=k,M.parent().find('input[type="submit"]')[0].click(),T.find(".item-tagsinput")[0].value="repost",T.find('input[type="submit"]').click()})}}}var Vk=`.repost{position:relative}.repost:after{content:"rep0st";position:absolute;color:#fff;z-index:4;left:0;font-weight:700;font-size:18px;top:0;right:0;bottom:0;background-color:#000000bf;display:flex;align-items:center;justify-content:center}
`;class Ms{constructor(){this.id="RepostMarker",this.name="Repost Markierung",this.description="Markiert Reposts in der \xDCbersicht"}static markRepost(n){let o=document.getElementById("item-"+n);o&&o.classList.add("repost")}async load(){var u;const n=p.Stream.prototype._load,o=this;p.Stream.prototype._load=function(m,g){const S=n.call(this,m,g);return console.log("Load Reposts"),o.loadReposts(m),S};const l=(u=p.currentView)==null?void 0:u.stream;l&&await this.loadReposts(l.options),ve(Vk)}async loadReposts(n){const o=await new Promise((l,u)=>{p.api.get("items.get",_t(Ge({},n),{tags:"repost"}),l,u)});for(const l of o.items)Ms.markRepost(l.id)}}class Uk{constructor(){this.id="StatisticsLinkInNavbar",this.name="Link to Statistics",this.description="(Pr0mium) Verlinkt in der Navigation-Bar rechts oben auf die neue Statistik-Seite",this.target=document.getElementsByClassName("user-info user-only")[0]}async load(){this.addStatsLink()}addStatsLink(){let n=document.createElement("a"),o=document.createTextNode("Statistiken");n.classList.add("head-link"),n.id="user-link-stats",n.appendChild(o),n.setAttribute("href","https://pr0gramm.com/userstats"),this.target.appendChild(n)}}var Gk=`#head{width:100%!important;display:flex;justify-content:center;background-color:#000000e6}@supports (backdrop-filter: blur()){#head{background-color:#00000094!important;backdrop-filter:blur(30px)}}#head-content{background-color:transparent;width:1052px}
`;class qk{constructor(){this.id="StyleCustomization",this.name="Stilisierung",this.description="Einzelne Styleanpassungen",this.isTransparentNavbarEnabled=ne.get(`${this.id}.settings.transparent_navbar`)}async load(){var n;this.isTransparentNavbarEnabled===!0&&((n=document.getElementById("head"))==null||n.classList.add("transparent")),ve(Gk)}getSettings(){return[{id:"transparent_navbar",title:"Transparente Navigationsleiste",description:'Die Navigationsleiste wird transparent angezeigt. Inspieriert von <a href="https://github.com/holzmaster/augenzuckerl">Augenzuckerl</a> von <a href="https://pr0gramm.com/user/holzmaster">@holzmaster</a>',type:"checkbox"}]}}var Kk=`.thumb.viewed{position:relative}.thumb.viewed:after{font-family:FontAwesome,sans-serif}.thumb.viewed:not(.repost):after,.thumb.viewed .active:after{content:"\\f00c";position:absolute;color:#fff;z-index:4;left:0;font-weight:700;font-size:18px;top:0;right:0;bottom:0;background-color:#000000bf;display:flex;align-items:center;justify-content:center;height:inherit;width:inherit;border:none!important}.thumb.viewed.repost:after{content:"rep0st / \\f00c"}
`;class Fn{constructor(){this.id="ViewedPostsMarker",this.name='"Bereits gesehen"-Markierung',this.description="Markiert bereits gesehene Medien.",this.markOwnFavoritesAsViewed=ne.get("ViewedPostsMarker.settings.mark_own_favorites_as_viewed"),this.viewedPosts=Fn.getViewedPosts()}async load(){let n=this;$(document).ajaxComplete((o,l,u)=>{u.url.startsWith("/api/items/get")&&(this.markOwnFavoritesAsViewed||!this.wouldLoadUserCollection(u.url))&&this.viewedPosts.forEach(m=>{Fn.markAsViewed(m)})}),p.View.Stream.Item=p.View.Stream.Item.extend({show:function(o,l,u,m){this.parent(o,l,u,m),n.addViewedPost(l.id),Fn.markAsViewed(l.id)}}),xe.addVideoConstants(),ve(Kk)}static markAsViewed(n){let o=document.getElementById("item-"+n);o&&o.classList.add("viewed")}static getViewedPosts(){let n=ne.get("viewed_posts");return n===!0?[]:JSON.parse(n)}getSettings(){return[{id:"mark_own_favorites_as_viewed",title:"Eigene Favoriten ebenfalls als gelesen markieren",description:"Markiert Posts in den pers\xF6nlichen Sammlungen als gelesen",type:"checkbox"}]}addViewedPost(n){this.viewedPosts.length>=1e4&&(this.viewedPosts=this.viewedPosts.slice(-1e4)),this.viewedPosts.indexOf(n)===-1&&this.viewedPosts.push(n),ne.set("viewed_posts",JSON.stringify(this.viewedPosts))}wouldLoadUserCollection(n){const o=p.user.name,l=new URLSearchParams(n);return l.has("collection")&&l.get("user")===o}}var Qk=`body[class] #head-content:after{left:15px}body[class] #head-content div#cancer-donations{position:relative;top:4px;order:3;left:10px}body[class].fixed{overflow:hidden}body[class]>.side-wide-skyscraper{display:none}body[class] #page.desktop,body[class] #page #head{padding:0 20px;width:100%!important}body[class] #page.desktop #pr0-miner,body[class] #page #head #pr0-miner{display:none}body[class] #page #main-view #stream{text-align:center;display:block;margin:0 auto}body[class] #page #main-view #stream a.thumb{display:block;float:left}body[class] #page #main-view #stream .stream-row{clear:none;text-align:center}body[class] #page #head{background:rgba(0,0,0,.8);width:100%!important;display:flex;justify-content:center}body[class] #page #head #head-content{background:none;display:flex;align-items:center;width:1052px}body[class] #page #head #head-content #loader{left:-20px;right:-20px}body[class] #page #head #head-content #filter-menu{left:calc(50% - 135px)}body[class] #page #head #head-content>.user-info{order:20;margin:0}body[class] #page #head #head-content>#head-menu{padding:0;order:3;flex-grow:1;display:flex;align-items:center;justify-content:center}body[class] #page #head #head-content>#pr0gramm-logo-link{order:1;height:24px;margin:0}body[class] #page #head #head-content a[id*=badge]{order:2;position:relative;top:0;left:0;margin-left:5px;transform:scale(.75)}body[class] #page #head #head-content .sidebar-toggle{order:0;color:#fff;font-size:20px;margin-right:10px}body[class] #page #head #head-content .sidebar-toggle.active{color:#ee4d2e}body[class]>#footer-links{width:250px;left:-250px!important;position:fixed;margin:0;top:52px;border-right:3px solid #2a2e31;background:#161618;transition:left .2s linear;z-index:500}body[class]>#footer-links.open{left:0!important;box-shadow:2px 0 10px #000}body[class]>#footer-links a{color:#fff;display:block;text-align:left;padding:10px 20px;margin-right:0;font-size:16px}body[class]>#footer-links a:hover{color:#ee4d2e}body[class]>#footer-links a:before{font-family:FontAwesome;margin-right:10px;display:inline-block;width:20px}body[class]>#footer-links a[href="/faq"]:before{content:"\\f059"}body[class]>#footer-links a[href="/contact"]:before{content:"\\f0e0"}body[class]>#footer-links a[href*="//miner.pr0gramm.com"]:before{content:"\\f15a"}body[class]>#footer-links a[href*="/datasafety"]:before{content:"\\f06e"}body[class]>#footer-links a[href="http://app.pr0gramm.com"]:before{content:"\\f10b"}body[class]>#footer-links a[href="https://twitter.com/pr0gramm"]:before{content:"\\f099"}body[class]>#footer-links a[href="https://pr0mart.com"]:before{content:"\\f07a"}#stream .item-container{margin:0;max-height:calc(100vh - 52px);display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.9);position:fixed;top:52px;right:0;left:-20px;bottom:-20px;padding:0;z-index:10}#stream .item-container .item-pointer{display:none}#stream .item-container .item-container-content{display:flex;height:100%;width:100%}#stream .item-container .item-container-content.right{flex-direction:row-reverse}#stream .item-container .item-container-content.right .comments-switch{transform:rotate(180deg)}#stream .item-container .item-container-content.right .video-controls{padding-left:30px}#stream .item-container .item-container-content.right .stream-prev{margin-left:30px}#stream .item-container .item-container-content .image-main{position:relative;display:flex;width:100%;flex-direction:column}#stream .item-container .item-container-content .image-main .item-info{display:flex;align-items:center;justify-content:center;min-height:120px}#stream .item-container .item-container-content .image-main .item-info>div{position:relative;display:flex;width:90%;max-width:980px}#stream .item-container .item-container-content .image-main .item-info>div .item-details,#stream .item-container .item-container-content .image-main .item-info>div .item-tags{padding:5px 20px 5px 40px}#stream .item-container .item-container-content .image-main .item-info>div .item-details .item-report{margin-left:10px}#stream .item-container .item-container-content .image-main .item-info>div .item-vote{display:flex;align-items:center;left:0;top:0;position:relative}#stream .item-container .item-container-content .image-main .item-info>div .item-vote .collect{position:relative;left:0;top:0}#stream .item-container .item-container-content .image-main .item-info>div .item-vote>div{display:flex;align-items:center;position:relative;min-width:80px}#stream .item-container .item-container-content .image-main .item-info>div .item-vote>div .vote-fav{position:relative;margin-left:20px;font-size:32px;left:0;top:0}#stream .item-container .item-container-content .image-main .item-info>div .item-vote>div .score,#stream .item-container .item-container-content .image-main .item-info>div .item-vote>div .score-hidden{position:relative;top:0;left:10px}#stream .item-container .item-container-content .image-main .item-info>div .item-vote>div .benisbar{height:3px;display:none;position:absolute;bottom:-5px;left:0;right:0;background-color:#5cb85c}#stream .item-container .item-container-content .image-main .item-info>div .item-vote>div .benisbar.show{display:block}#stream .item-container .item-container-content .image-main .item-info>div .item-vote>div .benisbar:after{content:attr(data-after-text);bottom:-20px;position:absolute;color:#bbb;white-space:nowrap}#stream .item-container .item-container-content .image-main .item-image-wrapper{flex-grow:1;overflow:hidden;display:flex;align-items:center;justify-content:center;padding:40px}#stream .item-container .item-container-content .image-main .item-image-wrapper .move-link{position:absolute;color:#fff;opacity:.7;padding:0 24px;font-size:26px;right:0;top:24px;text-shadow:0 0 3px #000;z-index:10}#stream .item-container .item-container-content .image-main .item-image-wrapper .move-link:hover{color:#ee4d2e}#stream .item-container .item-container-content .image-main .item-image-wrapper .item-fullsize-link+.move-link{top:60px}#stream .item-container .item-container-content .image-main .item-image-wrapper .video-controls{height:50px}#stream .item-container .item-container-content .image-main .item-image-wrapper.resized .item-image{max-height:calc(100vh - 200px);top:auto!important;left:auto!important}#stream .item-container .item-container-content .image-main .item-image-wrapper.oversize:not(.resized) .item-image{cursor:move}#stream .item-container .item-container-content .image-main .item-image-wrapper.oversize:not(.resized) img{max-height:none!important;align-self:flex-start}#stream .item-container .item-container-content .image-main .item-image-wrapper .stream-prev,#stream .item-container .item-container-content .image-main .item-image-wrapper .stream-next{display:flex;height:50px;align-items:center;justify-content:center}#stream .item-container .item-container-content .image-main .item-image-wrapper .stream-prev .stream-prev-icon-xl,#stream .item-container .item-container-content .image-main .item-image-wrapper .stream-next .stream-prev-icon-xl,#stream .item-container .item-container-content .image-main .item-image-wrapper .stream-prev .stream-next-icon-xl,#stream .item-container .item-container-content .image-main .item-image-wrapper .stream-next .stream-next-icon-xl{width:8px;min-height:32px;height:calc(100vh - 400px)}#stream .item-container .item-container-content .image-main .item-image-wrapper .stream-prev span:before,#stream .item-container .item-container-content .image-main .item-image-wrapper .stream-next span:before{opacity:.2;font-size:70px}#stream .item-container .item-container-content .image-main .item-image-wrapper .stream-prev:hover span:before,#stream .item-container .item-container-content .image-main .item-image-wrapper .stream-next:hover span:before{opacity:.6}#stream .item-container .item-container-content .image-main .item-image-wrapper .stream-prev{padding:100% 30px!important;z-index:4}#stream .item-container .item-container-content .image-main .item-image-wrapper .stream-next{right:20px;padding:100% 30px!important;z-index:4}#stream .item-container .item-container-content .image-main .item-image-wrapper .video-controls{width:100%!important}#stream .item-container .item-container-content .image-main .item-image-wrapper .video-controls .video-position-bar-background{min-height:2px}#stream .item-container .item-container-content .image-main .item-image-wrapper .item-image{outline:none;display:flex;align-items:center;justify-content:center;max-width:100%;max-height:100%;width:auto!important}#stream .item-container .item-container-content .image-main .item-image-wrapper .item-image .item-image-thumb{display:none!important}#stream .item-container .item-container-content .image-main .item-image-wrapper .item-image .item-image-actual{height:auto!important;width:auto!important;max-width:100%;max-height:100%;position:relative;margin:0 auto}#stream .item-container .item-container-content .item-comments{background:#161618;flex-grow:0;flex-shrink:0;border-right:3px solid #2a2e31;transition:width .2s ease-out}#stream .item-container .item-container-content .item-comments.loaded{width:30vw}#stream .item-container .item-container-content .item-comments.loaded.wide{width:40vw}#stream .item-container .item-container-content .item-comments.closed,#stream .item-container .item-container-content .item-comments.closed .comment-count{width:60px!important}#stream .item-container .item-container-content .item-comments.closed .count,#stream .item-container .item-container-content .item-comments.closed .comments-head,#stream .item-container .item-container-content .item-comments.closed .comments-switch{display:none}#stream .item-container .item-container-content .item-comments .vote-cfav{color:#888;font-size:16px;cursor:pointer;position:relative;padding:0 5px 0 0;top:4px}#stream .item-container .item-container-content .item-comments .vote-cfav.faved,#stream .item-container .item-container-content .item-comments .vote-cfav:hover,#stream .item-container .item-container-content .item-comments .comment[voted-up] .vote-up{color:var(--theme-main-color)}#stream .item-container .item-container-content .item-comments .comment[voted-up] .vote-down,#stream .item-container .item-container-content .item-comments .comment[voted-down] .vote-up{color:#3c3c3c}#stream .item-container .item-container-content .item-comments .comment[voted-down] .vote-down{color:#f5f7f6}#stream .item-container .item-container-content .item-comments .comment[voted-down] .comment-content{color:#666}#stream .item-container .item-container-content .item-comments.toggled{transition:width .2s ease-out}#stream .item-container .item-container-content .item-comments.wide{width:40vw}#stream .item-container .item-container-content .item-comments.wide .comments-switch:before{content:"\\f053"}#stream .item-container .item-container-content .item-comments.wide .comment-count{width:40vw}#stream .item-container .item-container-content .item-comments .comments-head{padding:10px 10px 10px 30px;opacity:1;transition:opacity .2s}#stream .item-container .item-container-content .item-comments .comments-head .comment-content,#stream .item-container .item-container-content .item-comments .comments-head .comment-foot,#stream .item-container .item-container-content .item-comments .comments-head .comment{max-width:100%}#stream .item-container .item-container-content .item-comments .comments-head .comment-report{margin-right:5px}#stream .item-container .item-container-content .item-comments .comment-count{display:flex;align-items:center;background-color:#2a2e31;text-align:left;padding:10px 10px 10px 35px;transition:width .2s ease-out;z-index:400;width:30vw}#stream .item-container .item-container-content .item-comments .comment-count>div:first-child{flex-grow:1}#stream .item-container .item-container-content .item-comments .comment-count .fa{cursor:pointer}#stream .item-container .item-container-content .item-comments .comment-count .fa:not(:last-child){margin-right:10px}#stream .item-container .item-container-content .item-comments textarea{transition:height .2s ease-out}#stream .item-container .item-container-content .item-comments textarea.comment:focus,#stream .item-container .item-container-content .item-comments textarea.comment:valid,#stream .item-container .item-container-content .item-comments textarea.reply{height:75px}
`,Xk=`<div class="item-pointer"></div>
<div class="item-container-content">
    <?js if( p.user.admin ) {?>
    <svg class="flags flags-{item.flags}" viewBox="0 0 10 10">
        <polygon points="0,0 10,0 0,10"></polygon>
    </svg>
    <?js } ?>
    <div class="item-comments" data-simplebar></div>
    <div class="image-main">
        <div class="item-image-wrapper">
            <?js if( item.video ) { ?>
            <div class="item-image">
                <?js if(supportsAutoplay) {?>
                <video class="item-image-actual" draggable="true" src="{item.image}" type="video/mp4" loop autoplay
                       preload="auto"></video>
                <?js } else { ?>
                <video class="item-image-actual" draggable="true" webkit-playsinline playsinline poster="{item.thumb}" src="{item.image}"
                       type="video/mp4" loop preload="metadata"></video>
                <svg class="video-play-button" viewBox="0 0 200 200">
                    <circle cx="100" cy="100" r="90" fill="none" stroke-width="15" stroke="#fff"></circle>
                    <polygon points="70, 55 70, 145 145, 100" fill="#fff"></polygon>
                </svg>
                <?js } ?>
            </div>
            <div class="video-controls<?js if(item.audio){?> has-audio<?js}?>">
                <div class="video-position-bar-background">
                    <div class="video-position"></div>
                </div>
                <div class="video-pause-controls" title="Pausieren [p]">
                    <svg class="video-state video-state-playing" viewBox="20 20 160 160">
                        <g class="video-state-play-button">
                            <polygon points="70,50 70,150 150,100" fill="#fff"></polygon>
                        </g>
                        <g class="video-state-pause-button">
                            <polygon points="70,50 70,150 90,150 90,50" fill="#fff"></polygon>
                            <polygon points="110,50 110,150 130,150 130,50" fill="#fff"></polygon>
                        </g>
                    </svg>
                </div>
                <?js if(item.audio) {?>
                <div class="audio-controls" title="Stumm [q]">
                    <svg class="audio-state" viewBox="0 0 75 75">
                        <polygon class="audio-speaker"
                                 points="39.389,13.769 22.235,28.606 6,28.606 6,47.699 21.989,47.699 39.389,62.75 39.389,13.769"/>
                        <g class="audio-x">
                            <path d="M 49,50 69,26"/>
                            <path d="M 69,50 49,26"/>
                        </g>
                        <g class="audio-wave">
                            <path class="audio-wave-1" d="M 48,49 C 50,46 51,42 51,38 C 51,34 50,31 48,28"/>
                            <path class="audio-wave-2" d="M 55,21 C 59,26 61,32 61,38 C 61,45 59,51 55,56"/>
                            <path class="audio-wave-3" d="M 62,63 C 67,56 70,48 70,38 C 70,29 67,21 62,14"/>
                        </g>
                    </svg>
                    <div class="audio-volume-controls">
                        <div class="audio-volume-bar"></div>
                        <div class="audio-volume-slider"></div>
                    </div>
                </div>
                <?js } ?>
            </div>
            <?js } else { ?>
            <div class="item-image">
                <img class="item-image-actual" src="{item.image}"/></div>
            <?js if(item.fullsize) { ?>
            <a href="{item.fullsize}" target="_blank" class="item-fullsize-link">+</a>
            <?js } ?>
            <a class="fa fa-arrows move-link"></a>
            <?js } ?> <?js if( p.user.showAds ) { ?>
            <div class="stream-prev" title="Neuer [\u2B60, a]"><span class="stream-prev-icon"></span></div>
            <div class="stream-next" title="\xC4lter [\u2B62, d]"><span class="stream-next-icon"></span></div>
            <?js } else { ?>
            <div class="stream-prev arrow pict" title="Neuer [\u2B60, a]">&lt;</div>
            <div class="stream-next arrow pict" title="\xC4lter [\u2B62, d]">&gt;</div>
            <?js } ?> </div>
        <div class="item-info">
            <div>
                <div class="item-vote{p.voteClass(item.vote)}">
                    <div>
                        <div>
                            <span class="pict vote-up">+</span>
                            <span class="pict vote-down">-</span>
                        </div>
                        <?js if( p.shouldShowScore(item) ) {?>
                        <span class="score<?js if(!p.olderThanMinAge(item)){?> score-young<?js}?>"
                              title="{item.up} up, {item.down} down"><?js print(item.up - item.down)?></span> <?js } else { ?>
                        <span class="score-hidden" title="Score noch unsichtbar">\u25CF\u25CF\u25CF</span> <?js } ?>
                        <span class="pict vote-fav<?js if (item.fav){ ?> faved<?js } ?>" title="Favorisieren [f]">*</span> <span
                            class="collect" title="In Sammlung einsortieren">\u25BC</span>

                        <div class="benisbar" data-after-text="{item.up} up / {item.down} down"></div>
                    </div>
                </div>
                <div>
                    <div class="item-details">
                        <a class="time" title="{item.date.readableTime()} " href="/new/{item.id}">{item.date.relativeTime(true)}</a>
                        <span class="time">von</span>
                        <a href="#user/{item.user}" class="user um{item.mark}">{item.user}</a>
                        <span class="item-source">
                    <?js if( item.source ) {?>
                            <span class="pict">s</span>&nbsp;<a href="{{item.source}}" target="_blank">{{item.source.hostName()}}</a>
                            <?js } else { ?>
                            <span class="pict">s</span>upload</span>
                        <?js } ?>
                        </span>
                        <?js if( !item.video ) {?>
                        <span class="item-google-search">
                        <span class="pict">g</span>&nbsp;
                        <a href="https://imgops.com/{item.trimmedUrl}">
                          ImgOps
                        </a> |
                        <a href="https://www.google.com/searchbyimage?hl=en&amp;safe=off&amp;site=search&amp;image_url=http:{item.image}"
                           target="_blank"> Bild googeln
                        </a> |
                        <a href="https://tineye.com/search/?url=http:{item.image}"
                           target="_blank"> tineye
                        </a>
                    </span>
                        <?js } ?>
                        <?js if( p.user.admin ) { ?>
                        [<span class="action" id="item-delete" data-id="{item.id}">del</span>]
                        [<a href="/new/phash.{item.id}.12">phash</a>]
                        <?js } ?>
                        <span class="item-report action" data-item="{item.id}"><span
                                class="fa fa-exclamation-triangle"></span></span>
                        <input type="hidden" name="deleted" id="deleted" value="{item.deleted}">
                    </div>
                    <div class="item-tags"></div>
                </div>
            </div>
        </div>
    </div>
</div>
`,Zk=`<div class="comment-count">
    <div class="count"><span class="pict">c</span> {"Kommentar".inflect(commentCount)}</div>
    <div class="comments-switch fa fa-chevron-right"></div>
    <div class="comments-toggle fa fa-bars"></div>
</div>
<div class="comments-head">
    <?js if( p.user.id ) {?>
    <form class="comment-form" method="post">
        <textarea class="comment" name="comment" required
                  placeholder="Kommentar schreiben\u2026"></textarea>
        <input type="hidden" name="parentId" value="0"/>
        <input type="hidden" name="itemId" value="{params.id}"/>
        <div>
            <input type="submit" value="Abschicken"/>
            <input type="button" value="Abbrechen" class="cancel"/>
        </div>
    </form>

    <form class="comment-edit-form" method="post">
        <textarea class="comment" required name="comment"></textarea>
        <input type="hidden" name="commentId" value="0"/>
        <div>
            <input type="submit" value="Abschicken"/>
            <input type="button" value="Abbrechen" class="cancel"/>
        </div>
    </form>
    <div class="comments">
        <?js var recurseComments = function( comments, level ) { ?>
        <div class="comment-box">
            <?js for( var i = 0; i < comments.length; i++ ) { var c = comments[i]; ?>
            <div class="comment-box-inner">
                <div class="comment{p.voteClass(c.vote)}" id="comment{c.id}">
                    <div class="comment-vote">
                        <span class="pict vote-up">+</span>
                        <span class="pict vote-down">-</span>
                    </div>
                    <div class="comment-content"> {c.content.format()}</div>
                    <div class="comment-foot">
                        <?js if(c.name == itemUser){?>
                        <span class="user-comment-op">OP</span>
                        <?js}?>
                        <a href="#user/{c.name}" class="user um{c.mark}">{c.name}</a>
                        <?js if( p.shouldShowScore(c) ) {?>
                        <span class="score"
                              title="{c.up} up, {c.down} down">{"Punkt".inflect(c.score)}</span> <?js } else { ?>
                        <span class="score-hidden" title="Score noch unsichtbar">\u25CF\u25CF\u25CF</span> <?js } ?>
                        <a href="#{tab}/{itemId}:comment{c.id}" class="time permalink"
                           title="{c.date.readableTime()} ">{c.date.relativeTime(true)}</a>
                        <?js if( level < CONFIG.COMMENTS_MAX_LEVELS ) {?>
                        <a href="#{tab}/{itemId}:comment{c.id}" class="comment-reply-link action">
                            <span class="pict">r</span> antworten
                        </a>
                        <?js } ?>
                        <?js if (c.children.length > 0) {?>
                        <span class="fold fold-in action" title="Kommentare einklappen">[\u2013]</span>
                        <span class="fold fold-out action" title="Kommentare ausklappen">[+]</span>
                        <span class="folded-comments-message"> (<span class="folded-comments-count"></span> eingeklappt) </span>
                        <?js } ?>
                        <?js if( p.user.admin ) {?>
                        [ <span class="comment-delete action">del</span> /
                        <a href="#{tab}/{itemId}:comment{c.id}" class="comment-edit-link action">edit</a> ]
                        <?js } ?>
                        <span class="comment-report action" data-item="{itemId}"
                              data-comment="{c.id}"><span class="fa fa-exclamation-triangle"></span></span>

                        <?js if( c.name != p.user.name ) {?> <span
                            class="pict vote-cfav<?js if (c.fav){ ?> faved<?js } ?>">*</span> <?js } ?>
                    </div>
                </div>
                <?js if( c.children.length ) { recurseComments(c.children, level+1); } ?>
            </div>
            <?js } ?>
        </div>
        <?js }; ?>
        <?js recurseComments(comments, 1); ?>
    </div>
    <?js } ?>
</div>
`;class Jk{constructor(){this.id="WidescreenMode",this.name="Widescreen Mode",this.needsReRendering=!0,this.container={},this.commentsContainer={},this.resized=!1,this.listenerAdded=!1,this.scrollbar=null,this.description="Stellt das pr0 im Breitbildmodus dar.",this.displayBenis=ne.get("WidescreenMode.settings.display_benis"),this.closeOnBackgroundClick=ne.get("WidescreenMode.settings.close_on_background"),this.mouseControl=ne.get("WidescreenMode.settings.mouse_control"),this.displayBenisbar=ne.get("WidescreenMode.settings.display_benisbar"),this.scrollMultiplicator=Number(ne.get("WidescreenMode.settings.scroll_speed"))||1,this.displayBenisUntilTop=ne.get("WidescreenMode.settings.display_benis_until_top"),this.biggerStreamNavIcons=ne.get("WidescreenMode.settings.bigger_stream_nav_icons"),this.commentsLeft=ne.get("WidescreenMode.settings.comments_left"),this.logoLinksToNew=ne.get("WidescreenMode.settings.logo_links_to_new"),this.commentsWide=window.localStorage.getItem("comments_wide")==="true",this.commentsClosed=window.localStorage.getItem("comments_closed")==="true",this.comments=[],this.header=document.getElementById("head-content"),this.nav={button:null,links:null,container:document.getElementById("footer-links")},this.moveLink=document.getElementsByClassName("move-link")[0],this.isMoveable=!1}handleWheelChange(n){if(this.isMoveable)return this.img.animate({top:(n.deltaY>0?"-=":"+=")+20*this.scrollMultiplicator},0),!1;if(this.hasUnsentComments()&&!window.confirm("Du hast noch nicht abgeschickte Kommentare! Willst du dieses Medium wirklich verlassen?"))return!1;(n.deltaY<0?document.getElementsByClassName("stream-prev")[0]:document.getElementsByClassName("stream-next")[0]).click()}async load(){this.checkScoreDisplay(),this.addInputListeners(),this.addHeaderListener(),this.overrideViews(),this.addNavigation(),this.logoLinksToNew&&this.modifyLogo(),ve(Qk)}checkScoreDisplay(){this.displayBenis&&(p.shouldShowScore=()=>!0)}getSettings(){return[{id:"display_benis_until_top",title:"Benis bis beliebt anzeigen",description:"Zeigt an, wie viel Benis ungef\xE4hr bis beliebt fehlt. (Nur mit Benisleiste m\xF6glich)",type:"checkbox"},{id:"display_benis",title:"Benis sofort anzeigen",description:"Zeigt den Benis direkt ohne Wartezeit an!",type:"checkbox"},{id:"mouse_control",title:"Steuerung mit der Maus",description:"Wechsle mit dem Mausrad zwischen Medien.",type:"checkbox"},{id:"close_on_background",title:"Hintergrund schlie\xDFt",description:"Bei Klick auf Hintergrund Medium schlie\xDFen.",type:"checkbox"},{id:"display_benisbar",title:"Benisleiste anzeigen",description:"Zeigt die Benisverteilung als Leiste an.",type:"checkbox"},{id:"bigger_stream_nav_icons",title:"Post-Navigationslinks vergr\xF6\xDFern",description:"Vergr\xF6\xDFert die Links um zum n\xE4chsten/vorherigen Post zu kommen. (Nur ohne pr0mium)",type:"checkbox"},{id:"scroll_speed",title:"Scrollgeschwindigkeit",description:"Definiere, wie schnell im Zoom gescrollt werden soll.",type:"number"},{id:"comments_left",title:"Kommentare auf der linken Seite",description:"Wenn deaktiviert werden Kommentare auf der rechten Seite des Bildschirms angezeigt.",type:"checkbox"},{id:"logo_links_to_new",title:"Logo-Verlinkung auf Neu",description:"Wenn aktiviert bringt dich ein Klick auf das pr0gramm Logo nach /new statt /top.",type:"checkbox"}]}addHeaderListener(){const n=document.querySelectorAll("#head-menu > a");for(const o of n)$(o).unbind("click"),o.addEventListener("click",l=>{l.preventDefault();const u=o.getAttribute("href");if(u==null)throw new Error("Could not parse navigation link from anchor element. There is no href attribute");const m=u.startsWith("/")?u.slice(1):u;m===p.location?p.reload():p.navigateTo(m)})}addInputListeners(){this.listenerAdded||(this.listenerAdded=!0,document.addEventListener("keydown",n=>{this.handleKeypress(n,document.activeElement.tagName==="TEXTAREA"||document.activeElement.tagName==="INPUT")}),window.addEventListener("locationChange",n=>{(n.mode===0||!n.isPost)&&document.body.classList.remove("fixed")}))}modifyLogo(){const n=document.getElementById("pr0gramm-logo-link");this.logoLink=n.cloneNode(!0),n.parentNode.replaceChild(this.logoLink,n),this.logoLink.href="/new",this.logoLink.addEventListener("click",o=>{o.preventDefault(),p.location==="new"?p.reload():p.navigateTo("new",p.NAVIGATE.DEFAULT)})}overrideViews(){let n=this;p.View.Stream.Item=p.View.Stream.Item.extend({template:Xk,show:function(o,l,u,m,g){l.trimmedUrl=l.image.replace(/^\/\//g,""),this.parent(o,l,u,m,g),this.syncVotes(p.user.voteCache.votes);const S=document.getElementsByClassName("benisbar")[0];if(n.displayBenisbar){if(l.down>0){let w=l.up/(l.up+l.down);S.setAttribute("style",`background-image: -webkit-gradient(linear, 0% 0%, 100% 0%, from(#5cb85c), to(#888), color-stop(${w}, #5cb85c), color-stop(${w}, #888));`)}if(n.displayBenisUntilTop){const w=Date.now();Math.abs(w-l.date)/36e5<3&&l.promoted==0&&(S.dataset.afterText+=" ("+n.calculateBenisUntilTop(l.up,l.down,l.date)+" bis beliebt)")}S.classList.add("show",String(n.displayBenisbar))}if(n.addItemListener(this.$image,l),document.body.classList.add("fixed"),n.biggerStreamNavIcons){let w=document.getElementsByClassName("stream-prev-icon")[0],k=document.getElementsByClassName("stream-next-icon")[0];w!==void 0&&w.classList.add("stream-prev-icon-xl"),k!==void 0&&k.classList.add("stream-next-icon-xl")}n.commentsLeft||document.getElementsByClassName("item-container-content")[0].classList.add("right")},remove:function(){this.parent(),document.body.classList.remove("fixed")}}),xe.addVideoConstants(),p.View.Stream.Comments=p.View.Stream.Comments.extend({template:Zk,_commentToFocus:null,render:function(){const o=n.scrollbar;o&&(o.destroy(),n.scrollbar=null),this._commentToFocus=this.data.params.comment,this.parent(),n.commentsContainer=this.$container[0],n.comments=[this.$commentForm.find("textarea")[0]],n.commentsContainer.classList.toggle("wide",n.commentsWide),n.commentsContainer.classList.toggle("closed",n.commentsClosed),n.commentsContainer.classList.add("loaded"),n.scrollbar||(n.scrollbar=Jt.init(n.commentsContainer,lr)),this._commentToFocus&&(this.focusComment(this._commentToFocus),this._commentToFocus=null);let l=this.$container.find(".comments-switch")[0],u=this.$container.find(".comments-toggle")[0];l.addEventListener("click",()=>{n.commentsContainer.classList.toggle("wide"),n.commentsWide=n.commentsContainer.classList.contains("wide"),window.localStorage.setItem("comments_wide",String(n.commentsWide))}),u.addEventListener("click",()=>{n.commentsContainer.classList.toggle("closed"),n.commentsClosed=n.commentsContainer.classList.contains("closed"),window.localStorage.setItem("comments_closed",String(n.commentsClosed))})},focusComment:function(o){var u;let l=this.$container.find(`#${o}`);l.length&&((u=n.scrollbar)==null||u.scrollIntoView(l[0],{offsetTop:50}),l.highlight(180,180,180,1))},showReplyForm(o){this.parent(o);let l=o.currentTarget.href.split(":comment")[1];n.comments.push(document.querySelectorAll(`#comment${l} textarea`)[0])}}),p.View.Stream.Comments.SortConfidenceTime=o=>function(l,u){return l.confidence>=.2&&o===l.name&&o!==u.name?-1:u.confidence>=.2&&o===u.name&&o!==l.name?1:u.confidence===l.confidence?l.created-u.created:u.confidence-l.confidence},p.View.Stream.Comments.SortTime=function(o,l){return o.created-l.created},p.View.Stream.Main.prototype.buildItemRows=function(o){let l="";for(const u of o)l+=this.buildItem(u);return`<div class="stream-row">${l}</div>`}}calculateBenisUntilTop(n,o,l){return Math.ceil(7.2857*o+(l.getHours()>=22||l.getHours()<=6?15:16)-n)}addItemListener(n,o){this.img=n,this.container=this.img[0].parentNode,this.resized=o.height>this.container.offsetHeight||o.width>this.container.offsetWidth,this.container.classList.toggle("resized",this.resized),this.resized&&(this.container.classList.add("oversize"),this.img.draggable(),this.img.draggable("disable")),this.mouseControl&&this.container.addEventListener("wheel",l=>{l.preventDefault(),this.handleWheelChange(l)}),this.moveLink&&this.moveLink.addEventListener("click",l=>{l.preventDefault(),this.toggleMove()}),this.closeOnBackgroundClick&&this.container.addEventListener("click",l=>{l.target===this.container&&(p.currentView.currentItemId=null,p.currentView.hideItem())})}handleKeypress(n,o=!1){if(o)return n.ctrlKey&&n.code==="Enter"&&$(document.activeElement).parents("form").find('input[type="submit"]')[0].click(),!0;switch(n.code){case"Space":n.preventDefault(),this.toggleMove();break;case"Escape":this.resized&&p.currentView.$itemContainer&&p.currentView.hideItem();break;case"ArrowUp":case"ArrowDown":if(this.isMoveable)this.img.animate({top:n.code==="ArrowDown"?"-=20":"+=20"},0);else{let l=this.commentsContainer.find(".scroll-content");l.is(":focus")||l.attr("tabindex",-1).focus()}break}}hasUnsentComments(){if(p.user.id){for(const n of this.comments)if(n.value!=="")return!0}return!1}toggleMove(){this.resized&&(this.img.off("click"),this.container.classList.toggle("resized"),this.isMoveable=!this.container.classList.contains("resized"),this.img.draggable(this.isMoveable?"enable":"disable"),this.img.attr("tabindex",-1).focus(),this.img.resizeInit||(this.container.style.alignItems="flex-start"),this.img.resizeInit=!0),this.isMoveable||this.img.on("click",()=>{p.currentView.hideItem()})}addNavigation(){this.nav.button=document.createElement("a"),this.nav.links=this.nav.container.querySelectorAll("a"),this.nav.button.className="fa fa-bars sidebar-toggle",this.header.insertBefore(this.nav.button,this.header.firstChild),this.nav.button.addEventListener("click",()=>{this.toggleNavigation()});for(const n of this.nav.links)n.addEventListener("click",()=>{this.toggleNavigation()});this.addMenuItem("pr0p0ll","https://pr0p0ll.com"," fa-bar-chart")}toggleNavigation(){this.nav.container.classList.toggle("open"),this.nav.button.classList.toggle("active")}addMenuItem(n,o,l){let u=document.createElement("a");u.className=l,u.innerText=n,u.href=o,u.target="_blank",this.nav.container.firstElementChild.appendChild(u)}}const rf=Object.values({StyleCustomization:()=>new qk,AdvancedComments:()=>new ba,AnonymousTitle:()=>new uh,BenisInNavbar:()=>new fh,Chat:()=>new I1,DefaultFilters:()=>new E1,DesktopNotifications:()=>new L1,FilterMarks:()=>new Sn,ImageOCR:()=>new Fw,Rep0st:()=>new Yk,RepostMarker:()=>new Ms,StatisticsLinkInNavbar:()=>new Uk,ViewedPostsMarker:()=>new Fn,NotificationCenter:()=>new Go,Pr0p0ll:()=>new Wk,WidescreenMode:()=>new Jk}).map(t=>t()),eM=()=>{const t=window.localStorage.getItem("activated_modules");if(t===null)return window.localStorage.setItem("activated_modules","[]"),ne.addHint(),[];const n=JSON.parse(t);return rf.filter(o=>n.includes(o.id))},tM=async t=>{await t.load(),console.debug(`Loaded module: ${t.id}`)},rM=async t=>Promise.all(t.map(n=>tM(n))),nM=()=>{let t=document.createElement("link");t.type="text/css",t.rel="stylesheet",t.href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(t);let n=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(n)},ta=eM();if(xe.addPrototypes(),new je,new ne(rf,ta),nM(),ta.length>0){rM(ta);const t=p._routes.find(o=>String(o.rule)==="/(.*)/"),n=p._routes.indexOf(t);p._routes.push(p._routes.splice(n,1)[0]),ta.some(o=>o.needsReRendering)&&setTimeout(()=>{p.currentView=null,p.navigateTo(p.location,p.NAVIGATE.FORCE)},0)}})();
 
